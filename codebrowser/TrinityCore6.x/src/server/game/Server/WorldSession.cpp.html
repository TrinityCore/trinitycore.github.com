<!doctype html>
<html>
<head>
<title>WorldSession.cpp [TrinityCore6.x/src/server/game/Server/WorldSession.cpp] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../../../data/kdevelop.css" title="KDevelop"/>
<link rel="alternate stylesheet" href="../../../../../../data/qtcreator.css" title="QtCreator"/>
<script type="text/javascript" src="../../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'TrinityCore6.x/src/server/game/Server/WorldSession.cpp'; var root_path = '../../../../..'; var data_path = '../../../../../../data';</script>
<script src='../../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Source code of </span><a href='../../../..'>TrinityCore6.x</a>/<a href='../../..'>src</a>/<a href='../..'>server</a>/<a href='..'>game</a>/<a href='./'>Server</a>/WorldSession.cpp</h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * Copyright (C) 2008-2016 TrinityCore &lt;<a href="http://www.trinitycore.org/">http://www.trinitycore.org/</a>&gt;</i></td></tr>
<tr><th id="3">3</th><td><i> * Copyright (C) 2005-2009 MaNGOS &lt;<a href="http://getmangos.com/">http://getmangos.com/</a>&gt;</i></td></tr>
<tr><th id="4">4</th><td><i> *</i></td></tr>
<tr><th id="5">5</th><td><i> * This program is free software; you can redistribute it and/or modify it</i></td></tr>
<tr><th id="6">6</th><td><i> * under the terms of the GNU General Public License as published by the</i></td></tr>
<tr><th id="7">7</th><td><i> * Free Software Foundation; either version 2 of the License, or (at your</i></td></tr>
<tr><th id="8">8</th><td><i> * option) any later version.</i></td></tr>
<tr><th id="9">9</th><td><i> *</i></td></tr>
<tr><th id="10">10</th><td><i> * This program is distributed in the hope that it will be useful, but WITHOUT</i></td></tr>
<tr><th id="11">11</th><td><i> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</i></td></tr>
<tr><th id="12">12</th><td><i> * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for</i></td></tr>
<tr><th id="13">13</th><td><i> * more details.</i></td></tr>
<tr><th id="14">14</th><td><i> *</i></td></tr>
<tr><th id="15">15</th><td><i> * You should have received a copy of the GNU General Public License along</i></td></tr>
<tr><th id="16">16</th><td><i> * with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</i></td></tr>
<tr><th id="17">17</th><td><i> */</i></td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><i class="doc">/**<span class="command"> \file</span></i></td></tr>
<tr><th id="20">20</th><td><i class="doc">    <span class="command">\ingroup</span> <span class="verb">u2w</span></i></td></tr>
<tr><th id="21">21</th><td><i class="doc">*/</i></td></tr>
<tr><th id="22">22</th><td></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="WorldSocket.h.html">"WorldSocket.h"</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="../../../common/Configuration/Config.h.html">"Config.h"</a></u></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="../../../common/Common.h.html">"Common.h"</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="../../database/Database/DatabaseEnv.h.html">"DatabaseEnv.h"</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="../Accounts/AccountMgr.h.html">"AccountMgr.h"</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="../../../common/Logging/Log.h.html">"Log.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="Protocol/Opcodes.h.html">"Opcodes.h"</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="WorldPacket.h.html">"WorldPacket.h"</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="WorldSession.h.html">"WorldSession.h"</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="../Entities/Player/Player.h.html">"Player.h"</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="../Entities/Vehicle/Vehicle.h.html">"Vehicle.h"</a></u></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="../Globals/ObjectMgr.h.html">"ObjectMgr.h"</a></u></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="../Guilds/GuildMgr.h.html">"GuildMgr.h"</a></u></td></tr>
<tr><th id="36">36</th><td><u>#include <a href="../Groups/Group.h.html">"Group.h"</a></u></td></tr>
<tr><th id="37">37</th><td><u>#include <a href="../Guilds/Guild.h.html">"Guild.h"</a></u></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="../World/World.h.html">"World.h"</a></u></td></tr>
<tr><th id="39">39</th><td><u>#include <a href="../Globals/ObjectAccessor.h.html">"ObjectAccessor.h"</a></u></td></tr>
<tr><th id="40">40</th><td><u>#include <a href="../Battlegrounds/BattlegroundMgr.h.html">"BattlegroundMgr.h"</a></u></td></tr>
<tr><th id="41">41</th><td><u>#include <a href="../OutdoorPvP/OutdoorPvPMgr.h.html">"OutdoorPvPMgr.h"</a></u></td></tr>
<tr><th id="42">42</th><td><u>#include <a href="../Entities/Player/SocialMgr.h.html">"SocialMgr.h"</a></u></td></tr>
<tr><th id="43">43</th><td><u>#include <a href="../Scripting/ScriptMgr.h.html">"ScriptMgr.h"</a></u></td></tr>
<tr><th id="44">44</th><td><u>#include <a href="../Warden/WardenWin.h.html">"WardenWin.h"</a></u></td></tr>
<tr><th id="45">45</th><td><u>#include <a href="BattlenetServerManager.h.html">"BattlenetServerManager.h"</a></u></td></tr>
<tr><th id="46">46</th><td><u>#include <a href="Packets/AuthenticationPackets.h.html">"AuthenticationPackets.h"</a></u></td></tr>
<tr><th id="47">47</th><td><u>#include <a href="Packets/CharacterPackets.h.html">"CharacterPackets.h"</a></u></td></tr>
<tr><th id="48">48</th><td><u>#include <a href="Packets/ClientConfigPackets.h.html">"ClientConfigPackets.h"</a></u></td></tr>
<tr><th id="49">49</th><td><u>#include <a href="Packets/MiscPackets.h.html">"MiscPackets.h"</a></u></td></tr>
<tr><th id="50">50</th><td><u>#include <a href="Packets/ChatPackets.h.html">"ChatPackets.h"</a></u></td></tr>
<tr><th id="51">51</th><td><u>#include <a href="../BattlePets/BattlePetMgr.h.html">"BattlePetMgr.h"</a></u></td></tr>
<tr><th id="52">52</th><td><u>#include <a href="Packets/PacketUtilities.h.html">"PacketUtilities.h"</a></u></td></tr>
<tr><th id="53">53</th><td><u>#include <a href="../Entities/Player/CollectionMgr.h.html">"CollectionMgr.h"</a></u></td></tr>
<tr><th id="54">54</th><td></td></tr>
<tr><th id="55">55</th><td><u>#include <a href="../../../../dep/zlib/zlib.h.html">&lt;zlib.h&gt;</a></u></td></tr>
<tr><th id="56">56</th><td></td></tr>
<tr><th id="57">57</th><td><b>namespace</b> {</td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td><span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/4.9/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" >string</a> <em>const</em> <dfn class="tu decl def" id="_ZN12_GLOBAL__N_1L17DefaultPlayerNameE" title='(anonymous namespace)::DefaultPlayerName' data-type='const std::string' data-ref="_ZN12_GLOBAL__N_1L17DefaultPlayerNameE" >DefaultPlayerName</dfn> = <q>"&lt;none&gt;"</q>;</td></tr>
<tr><th id="60">60</th><td></td></tr>
<tr><th id="61">61</th><td>} <i>// namespace</i></td></tr>
<tr><th id="62">62</th><td></td></tr>
<tr><th id="63">63</th><td><em>bool</em> <a class="type" href="WorldSession.h.html#MapSessionFilter" title='MapSessionFilter' data-ref="MapSessionFilter" >MapSessionFilter</a>::<dfn class="virtual decl def" id="_ZN16MapSessionFilter7ProcessEP11WorldPacket" title='MapSessionFilter::Process' data-ref="_ZN16MapSessionFilter7ProcessEP11WorldPacket" >Process</dfn>(<a class="type" href="WorldPacket.h.html#WorldPacket" title='WorldPacket' data-ref="WorldPacket" >WorldPacket</a>* <dfn class="local col0 decl" id="50packet" title='packet' data-type='WorldPacket *' data-ref="50packet" >packet</dfn>)</td></tr>
<tr><th id="64">64</th><td>{</td></tr>
<tr><th id="65">65</th><td>    <a class="type" href="Protocol/Opcodes.h.html#ClientOpcodeHandler" title='ClientOpcodeHandler' data-ref="ClientOpcodeHandler" >ClientOpcodeHandler</a> <em>const</em>* <dfn class="local col1 decl" id="51opHandle" title='opHandle' data-type='const ClientOpcodeHandler *' data-ref="51opHandle" >opHandle</dfn> = <a class="ref" href="Protocol/Opcodes.h.html#opcodeTable" title='opcodeTable' data-ref="opcodeTable" id="opcodeTable" >opcodeTable</a><a class="ref" href="Protocol/Opcodes.h.html#_ZNK11OpcodeTableixE12OpcodeClient" title='OpcodeTable::operator[]' data-ref="_ZNK11OpcodeTableixE12OpcodeClient" id="_ZNK11OpcodeTableixE12OpcodeClient" >[<b>static_cast</b>&lt;<a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" >OpcodeClient</a>&gt;(<a class="local col0 ref" href="#50packet" title='packet' data-ref="50packet" >packet</a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a>())]</a>;</td></tr>
<tr><th id="66">66</th><td></td></tr>
<tr><th id="67">67</th><td>    <i>//let's check if our opcode can be really processed in Map::Update()</i></td></tr>
<tr><th id="68">68</th><td>    <b>if</b> (<a class="local col1 ref" href="#51opHandle" title='opHandle' data-ref="51opHandle" >opHandle</a>-&gt;<a class="ref" href="Protocol/Opcodes.h.html#ClientOpcodeHandler::ProcessingPlace" title='ClientOpcodeHandler::ProcessingPlace' data-ref="ClientOpcodeHandler::ProcessingPlace" id="ClientOpcodeHandler::ProcessingPlace" >ProcessingPlace</a> == <a class="enum" href="Protocol/Opcodes.h.html#PacketProcessing::PROCESS_INPLACE" title='PacketProcessing::PROCESS_INPLACE' data-ref="PacketProcessing::PROCESS_INPLACE" id="PacketProcessing::PROCESS_INPLACE" >PROCESS_INPLACE</a>)</td></tr>
<tr><th id="69">69</th><td>        <b>return</b> <b>true</b>;</td></tr>
<tr><th id="70">70</th><td></td></tr>
<tr><th id="71">71</th><td>    <i>//we do not process thread-unsafe packets</i></td></tr>
<tr><th id="72">72</th><td>    <b>if</b> (<a class="local col1 ref" href="#51opHandle" title='opHandle' data-ref="51opHandle" >opHandle</a>-&gt;<a class="ref" href="Protocol/Opcodes.h.html#ClientOpcodeHandler::ProcessingPlace" title='ClientOpcodeHandler::ProcessingPlace' data-ref="ClientOpcodeHandler::ProcessingPlace" id="ClientOpcodeHandler::ProcessingPlace" >ProcessingPlace</a> == <a class="enum" href="Protocol/Opcodes.h.html#PacketProcessing::PROCESS_THREADUNSAFE" title='PacketProcessing::PROCESS_THREADUNSAFE' data-ref="PacketProcessing::PROCESS_THREADUNSAFE" id="PacketProcessing::PROCESS_THREADUNSAFE" >PROCESS_THREADUNSAFE</a>)</td></tr>
<tr><th id="73">73</th><td>        <b>return</b> <b>false</b>;</td></tr>
<tr><th id="74">74</th><td></td></tr>
<tr><th id="75">75</th><td>    <a class="type" href="../Entities/Player/Player.h.html#Player" title='Player' data-ref="Player" >Player</a>* <dfn class="local col2 decl" id="52player" title='player' data-type='Player *' data-ref="52player" >player</dfn> = <a class="member" href="WorldSession.h.html#PacketFilter::m_pSession" title='PacketFilter::m_pSession' data-ref="PacketFilter::m_pSession" id="PacketFilter::m_pSession" >m_pSession</a>-&gt;<a class="ref" href="WorldSession.h.html#_ZNK12WorldSession9GetPlayerEv" title='WorldSession::GetPlayer' data-ref="_ZNK12WorldSession9GetPlayerEv" id="_ZNK12WorldSession9GetPlayerEv" >GetPlayer</a>();</td></tr>
<tr><th id="76">76</th><td>    <b>if</b> (!<a class="local col2 ref" href="#52player" title='player' data-ref="52player" >player</a>)</td></tr>
<tr><th id="77">77</th><td>        <b>return</b> <b>false</b>;</td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td>    <i>//in Map::Update() we do not process packets where player is not in world!</i></td></tr>
<tr><th id="80">80</th><td>    <b>return</b> <a class="local col2 ref" href="#52player" title='player' data-ref="52player" >player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK6Object9IsInWorldEv" title='Object::IsInWorld' data-ref="_ZNK6Object9IsInWorldEv" id="_ZNK6Object9IsInWorldEv" >IsInWorld</a>();</td></tr>
<tr><th id="81">81</th><td>}</td></tr>
<tr><th id="82">82</th><td></td></tr>
<tr><th id="83">83</th><td><i>//we should process ALL packets when player is not in world/logged in</i></td></tr>
<tr><th id="84">84</th><td><i>//OR packet handler is not thread-safe!</i></td></tr>
<tr><th id="85">85</th><td><em>bool</em> <a class="type" href="WorldSession.h.html#WorldSessionFilter" title='WorldSessionFilter' data-ref="WorldSessionFilter" >WorldSessionFilter</a>::<dfn class="virtual decl def" id="_ZN18WorldSessionFilter7ProcessEP11WorldPacket" title='WorldSessionFilter::Process' data-ref="_ZN18WorldSessionFilter7ProcessEP11WorldPacket" >Process</dfn>(<a class="type" href="WorldPacket.h.html#WorldPacket" title='WorldPacket' data-ref="WorldPacket" >WorldPacket</a>* <dfn class="local col3 decl" id="53packet" title='packet' data-type='WorldPacket *' data-ref="53packet" >packet</dfn>)</td></tr>
<tr><th id="86">86</th><td>{</td></tr>
<tr><th id="87">87</th><td>    <a class="type" href="Protocol/Opcodes.h.html#ClientOpcodeHandler" title='ClientOpcodeHandler' data-ref="ClientOpcodeHandler" >ClientOpcodeHandler</a> <em>const</em>* <dfn class="local col4 decl" id="54opHandle" title='opHandle' data-type='const ClientOpcodeHandler *' data-ref="54opHandle" >opHandle</dfn> = <a class="ref" href="Protocol/Opcodes.h.html#opcodeTable" title='opcodeTable' data-ref="opcodeTable" id="opcodeTable" >opcodeTable</a><a class="ref" href="Protocol/Opcodes.h.html#_ZNK11OpcodeTableixE12OpcodeClient" title='OpcodeTable::operator[]' data-ref="_ZNK11OpcodeTableixE12OpcodeClient" id="_ZNK11OpcodeTableixE12OpcodeClient" >[<b>static_cast</b>&lt;<a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" >OpcodeClient</a>&gt;(<a class="local col3 ref" href="#53packet" title='packet' data-ref="53packet" >packet</a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a>())]</a>;</td></tr>
<tr><th id="88">88</th><td></td></tr>
<tr><th id="89">89</th><td>    <i>//check if packet handler is supposed to be safe</i></td></tr>
<tr><th id="90">90</th><td>    <b>if</b> (<a class="local col4 ref" href="#54opHandle" title='opHandle' data-ref="54opHandle" >opHandle</a>-&gt;<a class="ref" href="Protocol/Opcodes.h.html#ClientOpcodeHandler::ProcessingPlace" title='ClientOpcodeHandler::ProcessingPlace' data-ref="ClientOpcodeHandler::ProcessingPlace" id="ClientOpcodeHandler::ProcessingPlace" >ProcessingPlace</a> == <a class="enum" href="Protocol/Opcodes.h.html#PacketProcessing::PROCESS_INPLACE" title='PacketProcessing::PROCESS_INPLACE' data-ref="PacketProcessing::PROCESS_INPLACE" id="PacketProcessing::PROCESS_INPLACE" >PROCESS_INPLACE</a>)</td></tr>
<tr><th id="91">91</th><td>        <b>return</b> <b>true</b>;</td></tr>
<tr><th id="92">92</th><td></td></tr>
<tr><th id="93">93</th><td>    <i>//thread-unsafe packets should be processed in World::UpdateSessions()</i></td></tr>
<tr><th id="94">94</th><td>    <b>if</b> (<a class="local col4 ref" href="#54opHandle" title='opHandle' data-ref="54opHandle" >opHandle</a>-&gt;<a class="ref" href="Protocol/Opcodes.h.html#ClientOpcodeHandler::ProcessingPlace" title='ClientOpcodeHandler::ProcessingPlace' data-ref="ClientOpcodeHandler::ProcessingPlace" id="ClientOpcodeHandler::ProcessingPlace" >ProcessingPlace</a> == <a class="enum" href="Protocol/Opcodes.h.html#PacketProcessing::PROCESS_THREADUNSAFE" title='PacketProcessing::PROCESS_THREADUNSAFE' data-ref="PacketProcessing::PROCESS_THREADUNSAFE" id="PacketProcessing::PROCESS_THREADUNSAFE" >PROCESS_THREADUNSAFE</a>)</td></tr>
<tr><th id="95">95</th><td>        <b>return</b> <b>true</b>;</td></tr>
<tr><th id="96">96</th><td></td></tr>
<tr><th id="97">97</th><td>    <i>//no player attached? -&gt; our client! ^^</i></td></tr>
<tr><th id="98">98</th><td>    <a class="type" href="../Entities/Player/Player.h.html#Player" title='Player' data-ref="Player" >Player</a>* <dfn class="local col5 decl" id="55player" title='player' data-type='Player *' data-ref="55player" >player</dfn> = <a class="member" href="WorldSession.h.html#PacketFilter::m_pSession" title='PacketFilter::m_pSession' data-ref="PacketFilter::m_pSession" id="PacketFilter::m_pSession" >m_pSession</a>-&gt;<a class="ref" href="WorldSession.h.html#_ZNK12WorldSession9GetPlayerEv" title='WorldSession::GetPlayer' data-ref="_ZNK12WorldSession9GetPlayerEv" id="_ZNK12WorldSession9GetPlayerEv" >GetPlayer</a>();</td></tr>
<tr><th id="99">99</th><td>    <b>if</b> (!<a class="local col5 ref" href="#55player" title='player' data-ref="55player" >player</a>)</td></tr>
<tr><th id="100">100</th><td>        <b>return</b> <b>true</b>;</td></tr>
<tr><th id="101">101</th><td></td></tr>
<tr><th id="102">102</th><td>    <i>//lets process all packets for non-in-the-world player</i></td></tr>
<tr><th id="103">103</th><td>    <b>return</b> (<a class="local col5 ref" href="#55player" title='player' data-ref="55player" >player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK6Object9IsInWorldEv" title='Object::IsInWorld' data-ref="_ZNK6Object9IsInWorldEv" id="_ZNK6Object9IsInWorldEv" >IsInWorld</a>() == <b>false</b>);</td></tr>
<tr><th id="104">104</th><td>}</td></tr>
<tr><th id="105">105</th><td></td></tr>
<tr><th id="106">106</th><td><i class="doc">/// WorldSession constructor</i></td></tr>
<tr><th id="107">107</th><td><a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSessionC1EjOSsjSt10shared_ptrI11WorldSocketE12AccountTypeshl14LocaleConstantjb" title='WorldSession::WorldSession' data-ref="_ZN12WorldSessionC1EjOSsjSt10shared_ptrI11WorldSocketE12AccountTypeshl14LocaleConstantjb" >WorldSession</dfn>(<a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col6 decl" id="56id" title='id' data-type='uint32' data-ref="56id" >id</dfn>, <span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/4.9/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" >string</a>&amp;&amp; <dfn class="local col7 decl" id="57name" title='name' data-type='std::string &amp;&amp;' data-ref="57name" >name</dfn>, <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col8 decl" id="58battlenetAccountId" title='battlenetAccountId' data-type='uint32' data-ref="58battlenetAccountId" >battlenetAccountId</dfn>, <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#std::shared_ptr" title='std::shared_ptr' data-ref="std::shared_ptr" >shared_ptr</a>&lt;<a class="type" href="WorldSocket.h.html#WorldSocket" title='WorldSocket' data-ref="WorldSocket" >WorldSocket</a>&gt; <dfn class="local col9 decl" id="59sock" title='sock' data-type='std::shared_ptr&lt;WorldSocket&gt;' data-ref="59sock" >sock</dfn>, <a class="type" href="../../../common/Common.h.html#AccountTypes" title='AccountTypes' data-ref="AccountTypes" >AccountTypes</a> <dfn class="local col0 decl" id="60sec" title='sec' data-type='AccountTypes' data-ref="60sec" >sec</dfn>, <a class="typedef" href="../../../common/Define.h.html#uint8" title='uint8' data-type='uint8_t' data-ref="uint8" >uint8</a> <dfn class="local col1 decl" id="61expansion" title='expansion' data-type='uint8' data-ref="61expansion" >expansion</dfn>, <a class="typedef" href="../../../../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t" >time_t</a> <dfn class="local col2 decl" id="62mute_time" title='mute_time' data-type='time_t' data-ref="62mute_time" >mute_time</dfn>, <a class="type" href="../../../common/Common.h.html#LocaleConstant" title='LocaleConstant' data-ref="LocaleConstant" >LocaleConstant</a> <dfn class="local col3 decl" id="63locale" title='locale' data-type='LocaleConstant' data-ref="63locale" >locale</dfn>, <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col4 decl" id="64recruiter" title='recruiter' data-type='uint32' data-ref="64recruiter" >recruiter</dfn>, <em>bool</em> <dfn class="local col5 decl" id="65isARecruiter" title='isARecruiter' data-type='bool' data-ref="65isARecruiter" >isARecruiter</dfn>):</td></tr>
<tr><th id="108">108</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_muteTime" title='WorldSession::m_muteTime' data-ref="WorldSession::m_muteTime" id="WorldSession::m_muteTime" >m_muteTime</a>(<a class="local col2 ref" href="#62mute_time" title='mute_time' data-ref="62mute_time" >mute_time</a>),</td></tr>
<tr><th id="109">109</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_timeOutTime" title='WorldSession::m_timeOutTime' data-ref="WorldSession::m_timeOutTime" id="WorldSession::m_timeOutTime" >m_timeOutTime</a><a class="ref" href="../../../../../include/c++/4.9/atomic.html#_ZNSt6atomicIiEC1Ei" title='std::atomic&lt;int&gt;::atomic' data-ref="_ZNSt6atomicIiEC1Ei" id="_ZNSt6atomicIiEC1Ei" >(</a><var>0</var>),</td></tr>
<tr><th id="110">110</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::AntiDOS" title='WorldSession::AntiDOS' data-ref="WorldSession::AntiDOS" id="WorldSession::AntiDOS" >AntiDOS</a><a class="ref" href="WorldSession.h.html#_ZN12WorldSession13DosProtectionC1EPS_" title='WorldSession::DosProtection::DosProtection' data-ref="_ZN12WorldSession13DosProtectionC1EPS_" id="_ZN12WorldSession13DosProtectionC1EPS_" >(</a><b>this</b>),</td></tr>
<tr><th id="111">111</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_GUIDLow" title='WorldSession::m_GUIDLow' data-ref="WorldSession::m_GUIDLow" id="WorldSession::m_GUIDLow" >m_GUIDLow</a>(<a class="macro" href="../../../common/Define.h.html#99" title="0UL" data-ref="_M/UI64LIT">UI64LIT</a>(<var>0</var>)),</td></tr>
<tr><th id="112">112</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>(<span class="macro" title="__null" data-ref="_M/NULL">NULL</span>),</td></tr>
<tr><th id="113">113</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_security" title='WorldSession::_security' data-ref="WorldSession::_security" id="WorldSession::_security" >_security</a>(<a class="local col0 ref" href="#60sec" title='sec' data-ref="60sec" >sec</a>),</td></tr>
<tr><th id="114">114</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_accountId" title='WorldSession::_accountId' data-ref="WorldSession::_accountId" id="WorldSession::_accountId" >_accountId</a>(<a class="local col6 ref" href="#56id" title='id' data-ref="56id" >id</a>),</td></tr>
<tr><th id="115">115</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_accountName" title='WorldSession::_accountName' data-ref="WorldSession::_accountName" id="WorldSession::_accountName" >_accountName</a><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNSt12basic_stringC1EOSbIT_T0_T1_E" title='std::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt12basic_stringC1EOSbIT_T0_T1_E" id="_ZNSt12basic_stringC1EOSbIT_T0_T1_E" >(</a><span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/4.9/bits/move.h.html#_ZSt4moveOT_" title='std::move' data-ref="_ZSt4moveOT_" id="_ZSt4moveOT_" >move</a>(<a class="local col7 ref" href="#57name" title='name' data-ref="57name" >name</a>)),</td></tr>
<tr><th id="116">116</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_battlenetAccountId" title='WorldSession::_battlenetAccountId' data-ref="WorldSession::_battlenetAccountId" id="WorldSession::_battlenetAccountId" >_battlenetAccountId</a>(<a class="local col8 ref" href="#58battlenetAccountId" title='battlenetAccountId' data-ref="58battlenetAccountId" >battlenetAccountId</a>),</td></tr>
<tr><th id="117">117</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_expansion" title='WorldSession::m_expansion' data-ref="WorldSession::m_expansion" id="WorldSession::m_expansion" >m_expansion</a>(<a class="local col1 ref" href="#61expansion" title='expansion' data-ref="61expansion" >expansion</a>),</td></tr>
<tr><th id="118">118</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_warden" title='WorldSession::_warden' data-ref="WorldSession::_warden" id="WorldSession::_warden" >_warden</a>(<span class="macro" title="__null" data-ref="_M/NULL">NULL</span>),</td></tr>
<tr><th id="119">119</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_logoutTime" title='WorldSession::_logoutTime' data-ref="WorldSession::_logoutTime" id="WorldSession::_logoutTime" >_logoutTime</a>(<var>0</var>),</td></tr>
<tr><th id="120">120</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_inQueue" title='WorldSession::m_inQueue' data-ref="WorldSession::m_inQueue" id="WorldSession::m_inQueue" >m_inQueue</a>(<b>false</b>),</td></tr>
<tr><th id="121">121</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_playerLogout" title='WorldSession::m_playerLogout' data-ref="WorldSession::m_playerLogout" id="WorldSession::m_playerLogout" >m_playerLogout</a>(<b>false</b>),</td></tr>
<tr><th id="122">122</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_playerRecentlyLogout" title='WorldSession::m_playerRecentlyLogout' data-ref="WorldSession::m_playerRecentlyLogout" id="WorldSession::m_playerRecentlyLogout" >m_playerRecentlyLogout</a>(<b>false</b>),</td></tr>
<tr><th id="123">123</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_playerSave" title='WorldSession::m_playerSave' data-ref="WorldSession::m_playerSave" id="WorldSession::m_playerSave" >m_playerSave</a>(<b>false</b>),</td></tr>
<tr><th id="124">124</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_sessionDbcLocale" title='WorldSession::m_sessionDbcLocale' data-ref="WorldSession::m_sessionDbcLocale" id="WorldSession::m_sessionDbcLocale" >m_sessionDbcLocale</a>(<a class="macro" href="../World/World.h.html#904" title="World::instance()" data-ref="_M/sWorld">sWorld</a>-&gt;<a class="ref" href="../World/World.h.html#_ZNK5World21GetAvailableDbcLocaleE14LocaleConstant" title='World::GetAvailableDbcLocale' data-ref="_ZNK5World21GetAvailableDbcLocaleE14LocaleConstant" id="_ZNK5World21GetAvailableDbcLocaleE14LocaleConstant" >GetAvailableDbcLocale</a>(<a class="local col3 ref" href="#63locale" title='locale' data-ref="63locale" >locale</a>)),</td></tr>
<tr><th id="125">125</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_sessionDbLocaleIndex" title='WorldSession::m_sessionDbLocaleIndex' data-ref="WorldSession::m_sessionDbLocaleIndex" id="WorldSession::m_sessionDbLocaleIndex" >m_sessionDbLocaleIndex</a>(<a class="local col3 ref" href="#63locale" title='locale' data-ref="63locale" >locale</a>),</td></tr>
<tr><th id="126">126</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_latency" title='WorldSession::m_latency' data-ref="WorldSession::m_latency" id="WorldSession::m_latency" >m_latency</a><a class="ref" href="../../../../../include/c++/4.9/atomic.html#_ZNSt6atomicIjEC1Ej" title='std::atomic&lt;unsigned int&gt;::atomic' data-ref="_ZNSt6atomicIjEC1Ej" id="_ZNSt6atomicIjEC1Ej" >(</a><var>0</var>),</td></tr>
<tr><th id="127">127</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_clientTimeDelay" title='WorldSession::m_clientTimeDelay' data-ref="WorldSession::m_clientTimeDelay" id="WorldSession::m_clientTimeDelay" >m_clientTimeDelay</a><a class="ref" href="../../../../../include/c++/4.9/atomic.html#_ZNSt6atomicIjEC1Ej" title='std::atomic&lt;unsigned int&gt;::atomic' data-ref="_ZNSt6atomicIjEC1Ej" id="_ZNSt6atomicIjEC1Ej" >(</a><var>0</var>),</td></tr>
<tr><th id="128">128</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_tutorialsChanged" title='WorldSession::_tutorialsChanged' data-ref="WorldSession::_tutorialsChanged" id="WorldSession::_tutorialsChanged" >_tutorialsChanged</a>(<b>false</b>),</td></tr>
<tr><th id="129">129</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_filterAddonMessages" title='WorldSession::_filterAddonMessages' data-ref="WorldSession::_filterAddonMessages" id="WorldSession::_filterAddonMessages" >_filterAddonMessages</a>(<b>false</b>),</td></tr>
<tr><th id="130">130</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::recruiterId" title='WorldSession::recruiterId' data-ref="WorldSession::recruiterId" id="WorldSession::recruiterId" >recruiterId</a>(<a class="local col4 ref" href="#64recruiter" title='recruiter' data-ref="64recruiter" >recruiter</a>),</td></tr>
<tr><th id="131">131</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::isRecruiter" title='WorldSession::isRecruiter' data-ref="WorldSession::isRecruiter" id="WorldSession::isRecruiter" >isRecruiter</a>(<a class="local col5 ref" href="#65isARecruiter" title='isARecruiter' data-ref="65isARecruiter" >isARecruiter</a>),</td></tr>
<tr><th id="132">132</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" >_RBACData</a>(<span class="macro" title="__null" data-ref="_M/NULL">NULL</span>),</td></tr>
<tr><th id="133">133</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::expireTime" title='WorldSession::expireTime' data-ref="WorldSession::expireTime" id="WorldSession::expireTime" >expireTime</a>(<var>60000</var>), <i>// 1 min after socket loss, session is deleted</i></td></tr>
<tr><th id="134">134</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::forceExit" title='WorldSession::forceExit' data-ref="WorldSession::forceExit" id="WorldSession::forceExit" >forceExit</a>(<b>false</b>),</td></tr>
<tr><th id="135">135</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_currentBankerGUID" title='WorldSession::m_currentBankerGUID' data-ref="WorldSession::m_currentBankerGUID" id="WorldSession::m_currentBankerGUID" >m_currentBankerGUID</a><a class="ref" href="../Entities/Object/ObjectGuid.h.html#_ZN10ObjectGuidC1Ev" title='ObjectGuid::ObjectGuid' data-ref="_ZN10ObjectGuidC1Ev" id="_ZN10ObjectGuidC1Ev" >(</a>),</td></tr>
<tr><th id="136">136</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_battlePetMgr" title='WorldSession::_battlePetMgr' data-ref="WorldSession::_battlePetMgr" id="WorldSession::_battlePetMgr" >_battlePetMgr</a><a class="ref" href="../../../../../include/c++/4.9/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" id="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" >(</a><span class="namespace">Trinity::</span><a class="ref" href="../../../common/Common.h.html#_ZN7Trinity11make_uniqueEDpOT0_" title='Trinity::make_unique' data-ref="_ZN7Trinity11make_uniqueEDpOT0_" id="_ZN7Trinity11make_uniqueEDpOT0_" >make_unique</a>&lt;<a class="type" href="../BattlePets/BattlePetMgr.h.html#BattlePetMgr" title='BattlePetMgr' data-ref="BattlePetMgr" >BattlePetMgr</a>&gt;(<b>this</b>)),</td></tr>
<tr><th id="137">137</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_collectionMgr" title='WorldSession::_collectionMgr' data-ref="WorldSession::_collectionMgr" id="WorldSession::_collectionMgr" >_collectionMgr</a><a class="ref" href="../../../../../include/c++/4.9/bits/unique_ptr.h.html#_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" id="_ZNSt10unique_ptrC1EOSt10unique_ptrIT_T0_E" >(</a><span class="namespace">Trinity::</span><a class="ref" href="../../../common/Common.h.html#_ZN7Trinity11make_uniqueEDpOT0_" title='Trinity::make_unique' data-ref="_ZN7Trinity11make_uniqueEDpOT0_" id="_ZN7Trinity11make_uniqueEDpOT0_" >make_unique</a>&lt;<a class="type" href="../Entities/Player/CollectionMgr.h.html#CollectionMgr" title='CollectionMgr' data-ref="CollectionMgr" >CollectionMgr</a>&gt;(<b>this</b>))</td></tr>
<tr><th id="138">138</th><td>{</td></tr>
<tr><th id="139">139</th><td>    <a class="ref" href="../../../../../include/string.h.html#memset" title='memset' data-ref="memset" id="memset" >memset</a>(<a class="member" href="WorldSession.h.html#WorldSession::_tutorials" title='WorldSession::_tutorials' data-ref="WorldSession::_tutorials" id="WorldSession::_tutorials" >_tutorials</a>, <var>0</var>, <b>sizeof</b>(<a class="member" href="WorldSession.h.html#WorldSession::_tutorials" title='WorldSession::_tutorials' data-ref="WorldSession::_tutorials" id="WorldSession::_tutorials" >_tutorials</a>));</td></tr>
<tr><th id="140">140</th><td></td></tr>
<tr><th id="141">141</th><td>    <b>if</b> (<a class="local col9 ref" href="#59sock" title='sock' data-ref="59sock" >sock</a>)</td></tr>
<tr><th id="142">142</th><td>    {</td></tr>
<tr><th id="143">143</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::m_Address" title='WorldSession::m_Address' data-ref="WorldSession::m_Address" id="WorldSession::m_Address" >m_Address</a> <a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNSt12basic_stringaSEOSbIT_T0_T1_E" title='std::basic_string::operator=' data-ref="_ZNSt12basic_stringaSEOSbIT_T0_T1_E" id="_ZNSt12basic_stringaSEOSbIT_T0_T1_E" >=</a> <a class="local col9 ref" href="#59sock" title='sock' data-ref="59sock" >sock</a><a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv" id="_ZNKSt12__shared_ptrptEv" >-&gt;</a><a class="ref" href="../../shared/Networking/Socket.h.html#_ZNK6Socket18GetRemoteIpAddressEv" title='Socket::GetRemoteIpAddress' data-ref="_ZNK6Socket18GetRemoteIpAddressEv" id="_ZNK6Socket18GetRemoteIpAddressEv" >GetRemoteIpAddress</a>().<a class="ref" href="../../../../../include/boost/asio/ip/address.hpp.html#_ZNK5boost4asio2ip7address9to_stringEv" title='boost::asio::ip::address::to_string' data-ref="_ZNK5boost4asio2ip7address9to_stringEv" id="_ZNK5boost4asio2ip7address9to_stringEv" >to_string</a>();</td></tr>
<tr><th id="144">144</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession16ResetTimeOutTimeEv" title='WorldSession::ResetTimeOutTime' data-ref="_ZN12WorldSession16ResetTimeOutTimeEv" id="_ZN12WorldSession16ResetTimeOutTimeEv" >ResetTimeOutTime</a>();</td></tr>
<tr><th id="145">145</th><td>        <a class="ref" href="../../database/Database/DatabaseEnv.h.html#LoginDatabase" title='LoginDatabase' data-ref="LoginDatabase" id="LoginDatabase" >LoginDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPoolI23LoginDatabaseConnectionE8PExecuteEOT_DpOT0_" title='DatabaseWorkerPool&lt;LoginDatabaseConnection&gt;::PExecute' data-ref="_ZN18DatabaseWorkerPoolI23LoginDatabaseConnectionE8PExecuteEOT_DpOT0_" id="_ZN18DatabaseWorkerPoolI23LoginDatabaseConnectionE8PExecuteEOT_DpOT0_" >PExecute</a>(<q>"UPDATE account SET online = 1 WHERE id = %u;"</q>, <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a>());     <i>// One-time query</i></td></tr>
<tr><th id="146">146</th><td>    }</td></tr>
<tr><th id="147">147</th><td></td></tr>
<tr><th id="148">148</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_REALM" title='ConnectionType::CONNECTION_TYPE_REALM' data-ref="ConnectionType::CONNECTION_TYPE_REALM" id="ConnectionType::CONNECTION_TYPE_REALM" >CONNECTION_TYPE_REALM</a>] <a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr.h.html#_ZNSt10shared_ptraSERKSt10shared_ptrIT_E" title='std::shared_ptr::operator=' data-ref="_ZNSt10shared_ptraSERKSt10shared_ptrIT_E" id="_ZNSt10shared_ptraSERKSt10shared_ptrIT_E" >=</a> <a class="local col9 ref" href="#59sock" title='sock' data-ref="59sock" >sock</a>;</td></tr>
<tr><th id="149">149</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_instanceConnectKey" title='WorldSession::_instanceConnectKey' data-ref="WorldSession::_instanceConnectKey" id="WorldSession::_instanceConnectKey" >_instanceConnectKey</a>.<a class="ref" href="WorldSession.h.html#WorldSession::ConnectToKey::Raw" title='WorldSession::ConnectToKey::Raw' data-ref="WorldSession::ConnectToKey::Raw" id="WorldSession::ConnectToKey::Raw" >Raw</a> = <a class="macro" href="../../../common/Define.h.html#99" title="0UL" data-ref="_M/UI64LIT">UI64LIT</a>(<var>0</var>);</td></tr>
<tr><th id="150">150</th><td></td></tr>
<tr><th id="151">151</th><td>    <a class="member" href="#_ZN12WorldSession33InitializeQueryCallbackParametersEv" title='WorldSession::InitializeQueryCallbackParameters' data-ref="_ZN12WorldSession33InitializeQueryCallbackParametersEv" >InitializeQueryCallbackParameters</a>();</td></tr>
<tr><th id="152">152</th><td>}</td></tr>
<tr><th id="153">153</th><td></td></tr>
<tr><th id="154">154</th><td><i class="doc">/// WorldSession destructor</i></td></tr>
<tr><th id="155">155</th><td><a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSessionD1Ev" title='WorldSession::~WorldSession' data-ref="_ZN12WorldSessionD1Ev" >~WorldSession</dfn>()</td></tr>
<tr><th id="156">156</th><td>{</td></tr>
<tr><th id="157">157</th><td>    <i class="doc">///- unload player if not unloaded</i></td></tr>
<tr><th id="158">158</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>)</td></tr>
<tr><th id="159">159</th><td>        <a class="member" href="#_ZN12WorldSession12LogoutPlayerEb" title='WorldSession::LogoutPlayer' data-ref="_ZN12WorldSession12LogoutPlayerEb" >LogoutPlayer</a> (<b>true</b>);</td></tr>
<tr><th id="160">160</th><td></td></tr>
<tr><th id="161">161</th><td>    <i class="doc">/// - If have unclosed socket, close it</i></td></tr>
<tr><th id="162">162</th><td>    <b>for</b> (<a class="typedef" href="../../../common/Define.h.html#uint8" title='uint8' data-type='uint8_t' data-ref="uint8" >uint8</a> <dfn class="local col6 decl" id="66i" title='i' data-type='uint8' data-ref="66i" >i</dfn> = <var>0</var>; <a class="local col6 ref" href="#66i" title='i' data-ref="66i" >i</a> &lt; <var>2</var>; ++<a class="local col6 ref" href="#66i" title='i' data-ref="66i" >i</a>)</td></tr>
<tr><th id="163">163</th><td>    {</td></tr>
<tr><th id="164">164</th><td>        <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="local col6 ref" href="#66i" title='i' data-ref="66i" >i</a>])</td></tr>
<tr><th id="165">165</th><td>        {</td></tr>
<tr><th id="166">166</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" >m_Socket</a>[<a class="local col6 ref" href="#66i" title='i' data-ref="66i" >i</a>]<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv" id="_ZNKSt12__shared_ptrptEv" >-&gt;</a><a class="ref" href="../../shared/Networking/Socket.h.html#_ZN6Socket11CloseSocketEv" title='Socket::CloseSocket' data-ref="_ZN6Socket11CloseSocketEv" id="_ZN6Socket11CloseSocketEv" >CloseSocket</a>();</td></tr>
<tr><th id="167">167</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="local col6 ref" href="#66i" title='i' data-ref="66i" >i</a>].<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNSt12__shared_ptr5resetEv" title='std::__shared_ptr::reset' data-ref="_ZNSt12__shared_ptr5resetEv" id="_ZNSt12__shared_ptr5resetEv" >reset</a>();</td></tr>
<tr><th id="168">168</th><td>        }</td></tr>
<tr><th id="169">169</th><td>    }</td></tr>
<tr><th id="170">170</th><td></td></tr>
<tr><th id="171">171</th><td>    <b>delete</b> <a class="member" href="WorldSession.h.html#WorldSession::_warden" title='WorldSession::_warden' data-ref="WorldSession::_warden" >_warden</a>;</td></tr>
<tr><th id="172">172</th><td>    <b>delete</b> <a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" >_RBACData</a>;</td></tr>
<tr><th id="173">173</th><td></td></tr>
<tr><th id="174">174</th><td>    <i class="doc">///- empty incoming packet queue</i></td></tr>
<tr><th id="175">175</th><td>    <a class="type" href="WorldPacket.h.html#WorldPacket" title='WorldPacket' data-ref="WorldPacket" >WorldPacket</a>* <dfn class="local col7 decl" id="67packet" title='packet' data-type='WorldPacket *' data-ref="67packet" >packet</dfn> = <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="176">176</th><td>    <b>while</b> (<a class="member" href="WorldSession.h.html#WorldSession::_recvQueue" title='WorldSession::_recvQueue' data-ref="WorldSession::_recvQueue" id="WorldSession::_recvQueue" >_recvQueue</a>.<a class="ref" href="../../../common/Threading/LockedQueue.h.html#_ZN11LockedQueue4nextERT_" title='LockedQueue::next' data-ref="_ZN11LockedQueue4nextERT_" id="_ZN11LockedQueue4nextERT_" >next</a>(<a class="local col7 ref" href="#67packet" title='packet' data-ref="67packet" >packet</a>))</td></tr>
<tr><th id="177">177</th><td>        <b>delete</b> <a class="local col7 ref" href="#67packet" title='packet' data-ref="67packet" >packet</a>;</td></tr>
<tr><th id="178">178</th><td></td></tr>
<tr><th id="179">179</th><td>    <a class="ref" href="../../database/Database/DatabaseEnv.h.html#LoginDatabase" title='LoginDatabase' data-ref="LoginDatabase" id="LoginDatabase" >LoginDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPoolI23LoginDatabaseConnectionE8PExecuteEOT_DpOT0_" title='DatabaseWorkerPool&lt;LoginDatabaseConnection&gt;::PExecute' data-ref="_ZN18DatabaseWorkerPoolI23LoginDatabaseConnectionE8PExecuteEOT_DpOT0_" id="_ZN18DatabaseWorkerPoolI23LoginDatabaseConnectionE8PExecuteEOT_DpOT0_" >PExecute</a>(<q>"UPDATE account SET online = 0 WHERE id = %u;"</q>, <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a>());     <i>// One-time query</i></td></tr>
<tr><th id="180">180</th><td>}</td></tr>
<tr><th id="181">181</th><td></td></tr>
<tr><th id="182">182</th><td><em>bool</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZNK12WorldSession18PlayerDisconnectedEv" title='WorldSession::PlayerDisconnected' data-ref="_ZNK12WorldSession18PlayerDisconnectedEv" >PlayerDisconnected</dfn>() <em>const</em></td></tr>
<tr><th id="183">183</th><td>{</td></tr>
<tr><th id="184">184</th><td>    <b>return</b> !(<a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_REALM" title='ConnectionType::CONNECTION_TYPE_REALM' data-ref="ConnectionType::CONNECTION_TYPE_REALM" id="ConnectionType::CONNECTION_TYPE_REALM" >CONNECTION_TYPE_REALM</a>] &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_REALM" title='ConnectionType::CONNECTION_TYPE_REALM' data-ref="ConnectionType::CONNECTION_TYPE_REALM" >CONNECTION_TYPE_REALM</a>]<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv" id="_ZNKSt12__shared_ptrptEv" >-&gt;</a><a class="ref" href="../../shared/Networking/Socket.h.html#_ZNK6Socket6IsOpenEv" title='Socket::IsOpen' data-ref="_ZNK6Socket6IsOpenEv" id="_ZNK6Socket6IsOpenEv" >IsOpen</a>() &amp;&amp;</td></tr>
<tr><th id="185">185</th><td>             <a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_INSTANCE" title='ConnectionType::CONNECTION_TYPE_INSTANCE' data-ref="ConnectionType::CONNECTION_TYPE_INSTANCE" id="ConnectionType::CONNECTION_TYPE_INSTANCE" >CONNECTION_TYPE_INSTANCE</a>] &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_INSTANCE" title='ConnectionType::CONNECTION_TYPE_INSTANCE' data-ref="ConnectionType::CONNECTION_TYPE_INSTANCE" >CONNECTION_TYPE_INSTANCE</a>]<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv" id="_ZNKSt12__shared_ptrptEv" >-&gt;</a><a class="ref" href="../../shared/Networking/Socket.h.html#_ZNK6Socket6IsOpenEv" title='Socket::IsOpen' data-ref="_ZNK6Socket6IsOpenEv" id="_ZNK6Socket6IsOpenEv" >IsOpen</a>());</td></tr>
<tr><th id="186">186</th><td>}</td></tr>
<tr><th id="187">187</th><td></td></tr>
<tr><th id="188">188</th><td><span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/4.9/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" >string</a> <em>const</em> &amp; <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZNK12WorldSession13GetPlayerNameEv" title='WorldSession::GetPlayerName' data-ref="_ZNK12WorldSession13GetPlayerNameEv" >GetPlayerName</dfn>() <em>const</em></td></tr>
<tr><th id="189">189</th><td>{</td></tr>
<tr><th id="190">190</th><td>    <b>return</b> <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a> != <span class="macro" title="__null" data-ref="_M/NULL">NULL</span> ? <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK11WorldObject7GetNameEv" title='WorldObject::GetName' data-ref="_ZNK11WorldObject7GetNameEv" id="_ZNK11WorldObject7GetNameEv" >GetName</a>() : <a class="tu ref" href="#_ZN12_GLOBAL__N_1L17DefaultPlayerNameE" title='(anonymous namespace)::DefaultPlayerName' data-use='a' data-ref="_ZN12_GLOBAL__N_1L17DefaultPlayerNameE" >DefaultPlayerName</a>;</td></tr>
<tr><th id="191">191</th><td>}</td></tr>
<tr><th id="192">192</th><td></td></tr>
<tr><th id="193">193</th><td><span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/4.9/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" >string</a> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" >GetPlayerInfo</dfn>() <em>const</em></td></tr>
<tr><th id="194">194</th><td>{</td></tr>
<tr><th id="195">195</th><td>    <span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/4.9/iosfwd.html#std::ostringstream" title='std::ostringstream' data-type='basic_ostringstream&lt;char&gt;' data-ref="std::ostringstream" >ostringstream</a> <dfn class="local col8 decl" id="68ss" title='ss' data-type='std::ostringstream' data-ref="68ss" >ss</dfn>;</td></tr>
<tr><th id="196">196</th><td></td></tr>
<tr><th id="197">197</th><td>    <a class="local col8 ref" href="#68ss" title='ss' data-ref="68ss" >ss</a> <a class="ref" href="../../../../../include/c++/4.9/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" id="_ZStlsRSt13basic_ostreamIcT_EPKc" >&lt;&lt;</a> <q>"[Player: "</q>;</td></tr>
<tr><th id="198">198</th><td>    <b>if</b> (!<a class="member" href="WorldSession.h.html#WorldSession::m_playerLoading" title='WorldSession::m_playerLoading' data-ref="WorldSession::m_playerLoading" id="WorldSession::m_playerLoading" >m_playerLoading</a>.<a class="ref" href="../Entities/Object/ObjectGuid.h.html#_ZNK10ObjectGuid7IsEmptyEv" title='ObjectGuid::IsEmpty' data-ref="_ZNK10ObjectGuid7IsEmptyEv" id="_ZNK10ObjectGuid7IsEmptyEv" >IsEmpty</a>())</td></tr>
<tr><th id="199">199</th><td>        <a class="local col8 ref" href="#68ss" title='ss' data-ref="68ss" >ss</a> <a class="ref" href="../../../../../include/c++/4.9/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" id="_ZStlsRSt13basic_ostreamIcT_EPKc" >&lt;&lt;</a> <q>"Logging in: "</q> <a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" id="_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" >&lt;&lt;</a> <a class="member" href="WorldSession.h.html#WorldSession::m_playerLoading" title='WorldSession::m_playerLoading' data-ref="WorldSession::m_playerLoading" id="WorldSession::m_playerLoading" >m_playerLoading</a>.<a class="ref" href="../Entities/Object/ObjectGuid.h.html#_ZNK10ObjectGuid8ToStringEv" title='ObjectGuid::ToString' data-ref="_ZNK10ObjectGuid8ToStringEv" id="_ZNK10ObjectGuid8ToStringEv" >ToString</a>() <a class="ref" href="../../../../../include/c++/4.9/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" id="_ZStlsRSt13basic_ostreamIcT_EPKc" >&lt;&lt;</a> <q>", "</q>;</td></tr>
<tr><th id="200">200</th><td>    <b>else</b> <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>)</td></tr>
<tr><th id="201">201</th><td>        <a class="local col8 ref" href="#68ss" title='ss' data-ref="68ss" >ss</a> <a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" id="_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" >&lt;&lt;</a> <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK11WorldObject7GetNameEv" title='WorldObject::GetName' data-ref="_ZNK11WorldObject7GetNameEv" id="_ZNK11WorldObject7GetNameEv" >GetName</a>() <a class="ref" href="../../../../../include/c++/4.9/ostream.html#_ZStlsRSt13basic_ostreamIcT_Ec" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_Ec" id="_ZStlsRSt13basic_ostreamIcT_Ec" >&lt;&lt;</a> <kdb>' '</kdb> <a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" id="_ZStlsRSt13basic_ostreamIT_T0_ERKSbIS0_S1_T1_E" >&lt;&lt;</a> <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK6Object7GetGUIDEv" title='Object::GetGUID' data-ref="_ZNK6Object7GetGUIDEv" id="_ZNK6Object7GetGUIDEv" >GetGUID</a>().<a class="ref" href="../Entities/Object/ObjectGuid.h.html#_ZNK10ObjectGuid8ToStringEv" title='ObjectGuid::ToString' data-ref="_ZNK10ObjectGuid8ToStringEv" id="_ZNK10ObjectGuid8ToStringEv" >ToString</a>() <a class="ref" href="../../../../../include/c++/4.9/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" id="_ZStlsRSt13basic_ostreamIcT_EPKc" >&lt;&lt;</a> <q>", "</q>;</td></tr>
<tr><th id="202">202</th><td></td></tr>
<tr><th id="203">203</th><td>    <a class="local col8 ref" href="#68ss" title='ss' data-ref="68ss" >ss</a> <a class="ref" href="../../../../../include/c++/4.9/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" id="_ZStlsRSt13basic_ostreamIcT_EPKc" >&lt;&lt;</a> <q>"Account: "</q> <a class="ref" href="../../../../../include/c++/4.9/ostream.html#_ZNSt13basic_ostreamlsEj" title='std::basic_ostream::operator&lt;&lt;' data-ref="_ZNSt13basic_ostreamlsEj" id="_ZNSt13basic_ostreamlsEj" >&lt;&lt;</a> <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a>() <a class="ref" href="../../../../../include/c++/4.9/ostream.html#_ZStlsRSt13basic_ostreamIcT_EPKc" title='std::operator&lt;&lt;' data-ref="_ZStlsRSt13basic_ostreamIcT_EPKc" id="_ZStlsRSt13basic_ostreamIcT_EPKc" >&lt;&lt;</a> <q>"]"</q>;</td></tr>
<tr><th id="204">204</th><td></td></tr>
<tr><th id="205">205</th><td>    <b>return</b> <a class="local col8 ref" href="#68ss" title='ss' data-ref="68ss" >ss</a>.<a class="ref" href="../../../../../include/c++/4.9/sstream.html#_ZNKSt19basic_ostringstream3strEv" title='std::basic_ostringstream::str' data-ref="_ZNKSt19basic_ostringstream3strEv" id="_ZNKSt19basic_ostringstream3strEv" >str</a>();</td></tr>
<tr><th id="206">206</th><td>}</td></tr>
<tr><th id="207">207</th><td></td></tr>
<tr><th id="208">208</th><td><i class="doc">/// Send a packet to the client</i></td></tr>
<tr><th id="209">209</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession10SendPacketEPK11WorldPacketb" title='WorldSession::SendPacket' data-ref="_ZN12WorldSession10SendPacketEPK11WorldPacketb" >SendPacket</dfn>(<a class="type" href="WorldPacket.h.html#WorldPacket" title='WorldPacket' data-ref="WorldPacket" >WorldPacket</a> <em>const</em>* <dfn class="local col9 decl" id="69packet" title='packet' data-type='const WorldPacket *' data-ref="69packet" >packet</dfn>, <em>bool</em> <dfn class="local col0 decl" id="70forced" title='forced' data-type='bool' data-ref="70forced" >forced</dfn> <i>/*= false*/</i>)</td></tr>
<tr><th id="210">210</th><td>{</td></tr>
<tr><th id="211">211</th><td>    <b>if</b> (<a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a>() == <a class="enum" href="Protocol/Opcodes.h.html#OpcodeMisc::NULL_OPCODE" title='OpcodeMisc::NULL_OPCODE' data-ref="OpcodeMisc::NULL_OPCODE" id="OpcodeMisc::NULL_OPCODE" >NULL_OPCODE</a>)</td></tr>
<tr><th id="212">212</th><td>    {</td></tr>
<tr><th id="213">213</th><td>        <a class="macro" href="../../../common/Logging/Log.h.html#211" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network.opcode&quot;, LOG_LEVEL_ERROR)) { if (false) check_args(&quot;Prevented sending of NULL_OPCODE to %s&quot;, GetPlayerInfo().c_str()); { try { Log::instance()-&gt;outMessage(&quot;network.opcode&quot;, LOG_LEVEL_ERROR, &quot;Prevented sending of NULL_OPCODE to %s&quot;, GetPlayerInfo().c_str()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 213); } }; } } while (0)" data-ref="_M/TC_LOG_ERROR">TC_LOG_ERROR</a>(<q>"network.opcode"</q>, <q>"Prevented sending of NULL_OPCODE to %s"</q>, <a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" ><a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" >GetPlayerInfo</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>());</td></tr>
<tr><th id="214">214</th><td>        <b>return</b>;</td></tr>
<tr><th id="215">215</th><td>    }</td></tr>
<tr><th id="216">216</th><td>    <b>else</b> <b>if</b> (<a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a>() == <a class="enum" href="Protocol/Opcodes.h.html#OpcodeMisc::UNKNOWN_OPCODE" title='OpcodeMisc::UNKNOWN_OPCODE' data-ref="OpcodeMisc::UNKNOWN_OPCODE" id="OpcodeMisc::UNKNOWN_OPCODE" >UNKNOWN_OPCODE</a>)</td></tr>
<tr><th id="217">217</th><td>    {</td></tr>
<tr><th id="218">218</th><td>        <a class="macro" href="../../../common/Logging/Log.h.html#211" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network.opcode&quot;, LOG_LEVEL_ERROR)) { if (false) check_args(&quot;Prevented sending of UNKNOWN_OPCODE to %s&quot;, GetPlayerInfo().c_str()); { try { Log::instance()-&gt;outMessage(&quot;network.opcode&quot;, LOG_LEVEL_ERROR, &quot;Prevented sending of UNKNOWN_OPCODE to %s&quot;, GetPlayerInfo().c_str()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 218); } }; } } while (0)" data-ref="_M/TC_LOG_ERROR">TC_LOG_ERROR</a>(<q>"network.opcode"</q>, <q>"Prevented sending of UNKNOWN_OPCODE to %s"</q>, <a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" ><a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" >GetPlayerInfo</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>());</td></tr>
<tr><th id="219">219</th><td>        <b>return</b>;</td></tr>
<tr><th id="220">220</th><td>    }</td></tr>
<tr><th id="221">221</th><td></td></tr>
<tr><th id="222">222</th><td>    <a class="type" href="Protocol/Opcodes.h.html#ServerOpcodeHandler" title='ServerOpcodeHandler' data-ref="ServerOpcodeHandler" >ServerOpcodeHandler</a> <em>const</em>* <dfn class="local col1 decl" id="71handler" title='handler' data-type='const ServerOpcodeHandler *' data-ref="71handler" >handler</dfn> = <a class="ref" href="Protocol/Opcodes.h.html#opcodeTable" title='opcodeTable' data-ref="opcodeTable" id="opcodeTable" >opcodeTable</a><a class="ref" href="Protocol/Opcodes.h.html#_ZNK11OpcodeTableixE12OpcodeServer" title='OpcodeTable::operator[]' data-ref="_ZNK11OpcodeTableixE12OpcodeServer" id="_ZNK11OpcodeTableixE12OpcodeServer" >[<b>static_cast</b>&lt;<a class="type" href="Protocol/Opcodes.h.html#OpcodeServer" title='OpcodeServer' data-ref="OpcodeServer" >OpcodeServer</a>&gt;(<a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a>())]</a>;</td></tr>
<tr><th id="223">223</th><td></td></tr>
<tr><th id="224">224</th><td>    <b>if</b> (!<a class="local col1 ref" href="#71handler" title='handler' data-ref="71handler" >handler</a>)</td></tr>
<tr><th id="225">225</th><td>    {</td></tr>
<tr><th id="226">226</th><td>        <a class="macro" href="../../../common/Logging/Log.h.html#211" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network.opcode&quot;, LOG_LEVEL_ERROR)) { if (false) check_args(&quot;Prevented sending of opcode %u with non existing handler to %s&quot;, packet-&gt;GetOpcode(), GetPlayerInfo().c_str()); { try { Log::instance()-&gt;outMessage(&quot;network.opcode&quot;, LOG_LEVEL_ERROR, &quot;Prevented sending of opcode %u with non existing handler to %s&quot;, packet-&gt;GetOpcode(), GetPlayerInfo().c_str()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 226); } }; } } while (0)" data-ref="_M/TC_LOG_ERROR">TC_LOG_ERROR</a>(<q>"network.opcode"</q>, <q>"Prevented sending of opcode %u with non existing handler to %s"</q>, <a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" ><a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a></a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a></a>(), <a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" ><a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" >GetPlayerInfo</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>());</td></tr>
<tr><th id="227">227</th><td>        <b>return</b>;</td></tr>
<tr><th id="228">228</th><td>    }</td></tr>
<tr><th id="229">229</th><td></td></tr>
<tr><th id="230">230</th><td>    <i>// Default connection index defined in Opcodes.cpp table</i></td></tr>
<tr><th id="231">231</th><td>    <a class="type" href="Protocol/Opcodes.h.html#ConnectionType" title='ConnectionType' data-ref="ConnectionType" >ConnectionType</a> <dfn class="local col2 decl" id="72conIdx" title='conIdx' data-type='ConnectionType' data-ref="72conIdx" >conIdx</dfn> = <a class="local col1 ref" href="#71handler" title='handler' data-ref="71handler" >handler</a>-&gt;<a class="ref" href="Protocol/Opcodes.h.html#ServerOpcodeHandler::ConnectionIndex" title='ServerOpcodeHandler::ConnectionIndex' data-ref="ServerOpcodeHandler::ConnectionIndex" id="ServerOpcodeHandler::ConnectionIndex" >ConnectionIndex</a>;</td></tr>
<tr><th id="232">232</th><td></td></tr>
<tr><th id="233">233</th><td>    <i>// Override connection index</i></td></tr>
<tr><th id="234">234</th><td>    <b>if</b> (<a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket13GetConnectionEv" title='WorldPacket::GetConnection' data-ref="_ZNK11WorldPacket13GetConnectionEv" id="_ZNK11WorldPacket13GetConnectionEv" >GetConnection</a>() != <a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_DEFAULT" title='ConnectionType::CONNECTION_TYPE_DEFAULT' data-ref="ConnectionType::CONNECTION_TYPE_DEFAULT" id="ConnectionType::CONNECTION_TYPE_DEFAULT" >CONNECTION_TYPE_DEFAULT</a>)</td></tr>
<tr><th id="235">235</th><td>    {</td></tr>
<tr><th id="236">236</th><td>        <b>if</b> (<a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket13GetConnectionEv" title='WorldPacket::GetConnection' data-ref="_ZNK11WorldPacket13GetConnectionEv" id="_ZNK11WorldPacket13GetConnectionEv" >GetConnection</a>() != <a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_INSTANCE" title='ConnectionType::CONNECTION_TYPE_INSTANCE' data-ref="ConnectionType::CONNECTION_TYPE_INSTANCE" id="ConnectionType::CONNECTION_TYPE_INSTANCE" >CONNECTION_TYPE_INSTANCE</a> &amp;&amp; <a class="ref" href="Protocol/Opcodes.h.html#_Z20IsInstanceOnlyOpcodej" title='IsInstanceOnlyOpcode' data-ref="_Z20IsInstanceOnlyOpcodej" id="_Z20IsInstanceOnlyOpcodej" >IsInstanceOnlyOpcode</a>(<a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a>()))</td></tr>
<tr><th id="237">237</th><td>        {</td></tr>
<tr><th id="238">238</th><td>            <a class="macro" href="../../../common/Logging/Log.h.html#211" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network.opcode&quot;, LOG_LEVEL_ERROR)) { if (false) check_args(&quot;Prevented sending of instance only opcode %u with connection type %u to %s&quot;, packet-&gt;GetOpcode(), packet-&gt;GetConnection(), GetPlayerInfo().c_str()); { try { Log::instance()-&gt;outMessage(&quot;network.opcode&quot;, LOG_LEVEL_ERROR, &quot;Prevented sending of instance only opcode %u with connection type %u to %s&quot;, packet-&gt;GetOpcode(), packet-&gt;GetConnection(), GetPlayerInfo().c_str()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 238); } }; } } while (0)" data-ref="_M/TC_LOG_ERROR">TC_LOG_ERROR</a>(<q>"network.opcode"</q>, <q>"Prevented sending of instance only opcode %u with connection type %u to %s"</q>, <a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" ><a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a></a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a></a>(), <a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" ><a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a></a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket13GetConnectionEv" title='WorldPacket::GetConnection' data-ref="_ZNK11WorldPacket13GetConnectionEv" id="_ZNK11WorldPacket13GetConnectionEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket13GetConnectionEv" title='WorldPacket::GetConnection' data-ref="_ZNK11WorldPacket13GetConnectionEv" id="_ZNK11WorldPacket13GetConnectionEv" >GetConnection</a></a>(), <a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" ><a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" >GetPlayerInfo</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>());</td></tr>
<tr><th id="239">239</th><td>            <b>return</b>;</td></tr>
<tr><th id="240">240</th><td>        }</td></tr>
<tr><th id="241">241</th><td></td></tr>
<tr><th id="242">242</th><td>        <a class="local col2 ref" href="#72conIdx" title='conIdx' data-ref="72conIdx" >conIdx</a> = <a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket13GetConnectionEv" title='WorldPacket::GetConnection' data-ref="_ZNK11WorldPacket13GetConnectionEv" id="_ZNK11WorldPacket13GetConnectionEv" >GetConnection</a>();</td></tr>
<tr><th id="243">243</th><td>    }</td></tr>
<tr><th id="244">244</th><td></td></tr>
<tr><th id="245">245</th><td>    <b>if</b> (!<a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="local col2 ref" href="#72conIdx" title='conIdx' data-ref="72conIdx" >conIdx</a>])</td></tr>
<tr><th id="246">246</th><td>    {</td></tr>
<tr><th id="247">247</th><td>        <a class="macro" href="../../../common/Logging/Log.h.html#211" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network.opcode&quot;, LOG_LEVEL_ERROR)) { if (false) check_args(&quot;Prevented sending of %s to non existent socket %u to %s&quot;, GetOpcodeNameForLogging(static_cast&lt;OpcodeServer&gt;(packet-&gt;GetOpcode())).c_str(), conIdx, GetPlayerInfo().c_str()); { try { Log::instance()-&gt;outMessage(&quot;network.opcode&quot;, LOG_LEVEL_ERROR, &quot;Prevented sending of %s to non existent socket %u to %s&quot;, GetOpcodeNameForLogging(static_cast&lt;OpcodeServer&gt;(packet-&gt;GetOpcode())).c_str(), conIdx, GetPlayerInfo().c_str()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 247); } }; } } while (0)" data-ref="_M/TC_LOG_ERROR">TC_LOG_ERROR</a>(<q>"network.opcode"</q>, <q>"Prevented sending of %s to non existent socket %u to %s"</q>, <a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" ><a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" >GetOpcodeNameForLogging</a></a>(<b>static_cast</b>&lt;<a class="type" href="Protocol/Opcodes.h.html#OpcodeServer" title='OpcodeServer' data-ref="OpcodeServer" ><a class="type" href="Protocol/Opcodes.h.html#OpcodeServer" title='OpcodeServer' data-ref="OpcodeServer" >OpcodeServer</a></a>&gt;(<a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" ><a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a></a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a></a>())).<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="local col2 ref" href="#72conIdx" title='conIdx' data-ref="72conIdx" ><a class="local col2 ref" href="#72conIdx" title='conIdx' data-ref="72conIdx" >conIdx</a></a>, <a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" ><a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" >GetPlayerInfo</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>());</td></tr>
<tr><th id="248">248</th><td>        <b>return</b>;</td></tr>
<tr><th id="249">249</th><td>    }</td></tr>
<tr><th id="250">250</th><td></td></tr>
<tr><th id="251">251</th><td>    <b>if</b> (!<a class="local col0 ref" href="#70forced" title='forced' data-ref="70forced" >forced</a>)</td></tr>
<tr><th id="252">252</th><td>    {</td></tr>
<tr><th id="253">253</th><td>        <b>if</b> (<a class="local col1 ref" href="#71handler" title='handler' data-ref="71handler" >handler</a>-&gt;<a class="ref" href="Protocol/Opcodes.h.html#OpcodeHandler::Status" title='OpcodeHandler::Status' data-ref="OpcodeHandler::Status" id="OpcodeHandler::Status" >Status</a> == <a class="enum" href="Protocol/Opcodes.h.html#SessionStatus::STATUS_UNHANDLED" title='SessionStatus::STATUS_UNHANDLED' data-ref="SessionStatus::STATUS_UNHANDLED" id="SessionStatus::STATUS_UNHANDLED" >STATUS_UNHANDLED</a>)</td></tr>
<tr><th id="254">254</th><td>        {</td></tr>
<tr><th id="255">255</th><td>            <a class="macro" href="../../../common/Logging/Log.h.html#211" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network.opcode&quot;, LOG_LEVEL_ERROR)) { if (false) check_args(&quot;Prevented sending disabled opcode %s to %s&quot;, GetOpcodeNameForLogging(static_cast&lt;OpcodeServer&gt;(packet-&gt;GetOpcode())).c_str(), GetPlayerInfo().c_str()); { try { Log::instance()-&gt;outMessage(&quot;network.opcode&quot;, LOG_LEVEL_ERROR, &quot;Prevented sending disabled opcode %s to %s&quot;, GetOpcodeNameForLogging(static_cast&lt;OpcodeServer&gt;(packet-&gt;GetOpcode())).c_str(), GetPlayerInfo().c_str()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 255); } }; } } while (0)" data-ref="_M/TC_LOG_ERROR">TC_LOG_ERROR</a>(<q>"network.opcode"</q>, <q>"Prevented sending disabled opcode %s to %s"</q>, <a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" ><a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" >GetOpcodeNameForLogging</a></a>(<b>static_cast</b>&lt;<a class="type" href="Protocol/Opcodes.h.html#OpcodeServer" title='OpcodeServer' data-ref="OpcodeServer" ><a class="type" href="Protocol/Opcodes.h.html#OpcodeServer" title='OpcodeServer' data-ref="OpcodeServer" >OpcodeServer</a></a>&gt;(<a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" ><a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a></a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a></a>())).<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" ><a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" >GetPlayerInfo</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>());</td></tr>
<tr><th id="256">256</th><td>            <b>return</b>;</td></tr>
<tr><th id="257">257</th><td>        }</td></tr>
<tr><th id="258">258</th><td>    }</td></tr>
<tr><th id="259">259</th><td></td></tr>
<tr><th id="260">260</th><td><u>#<span data-ppcond="260">ifdef</span> <span class="macro" data-ref="_M/TRINITY_DEBUG">TRINITY_DEBUG</span></u></td></tr>
<tr><th id="261">261</th><td>    <i>// Code for network use statistic</i></td></tr>
<tr><th id="262">262</th><td>    <em>static</em> <a class="typedef" href="../../../common/Define.h.html#uint64" title='uint64' data-type='uint64_t' data-ref="uint64" >uint64</a> <dfn class="local col3 decl" id="73sendPacketCount" title='sendPacketCount' data-type='uint64' data-ref="73sendPacketCount" >sendPacketCount</dfn> = <var>0</var>;</td></tr>
<tr><th id="263">263</th><td>    <em>static</em> <a class="typedef" href="../../../common/Define.h.html#uint64" title='uint64' data-type='uint64_t' data-ref="uint64" >uint64</a> <dfn class="local col4 decl" id="74sendPacketBytes" title='sendPacketBytes' data-type='uint64' data-ref="74sendPacketBytes" >sendPacketBytes</dfn> = <var>0</var>;</td></tr>
<tr><th id="264">264</th><td></td></tr>
<tr><th id="265">265</th><td>    <em>static</em> <a class="typedef" href="../../../../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t" >time_t</a> <dfn class="local col5 decl" id="75firstTime" title='firstTime' data-type='time_t' data-ref="75firstTime" >firstTime</dfn> = <a class="ref" href="../../../../../include/time.h.html#time" title='time' data-ref="time" id="time" >time</a>(<span class="macro" title="__null" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="266">266</th><td>    <em>static</em> <a class="typedef" href="../../../../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t" >time_t</a> <dfn class="local col6 decl" id="76lastTime" title='lastTime' data-type='time_t' data-ref="76lastTime" >lastTime</dfn> = <a class="local col5 ref" href="#75firstTime" title='firstTime' data-ref="75firstTime" >firstTime</a>;                     <i>// next 60 secs start time</i></td></tr>
<tr><th id="267">267</th><td></td></tr>
<tr><th id="268">268</th><td>    <em>static</em> <a class="typedef" href="../../../common/Define.h.html#uint64" title='uint64' data-type='uint64_t' data-ref="uint64" >uint64</a> <dfn class="local col7 decl" id="77sendLastPacketCount" title='sendLastPacketCount' data-type='uint64' data-ref="77sendLastPacketCount" >sendLastPacketCount</dfn> = <var>0</var>;</td></tr>
<tr><th id="269">269</th><td>    <em>static</em> <a class="typedef" href="../../../common/Define.h.html#uint64" title='uint64' data-type='uint64_t' data-ref="uint64" >uint64</a> <dfn class="local col8 decl" id="78sendLastPacketBytes" title='sendLastPacketBytes' data-type='uint64' data-ref="78sendLastPacketBytes" >sendLastPacketBytes</dfn> = <var>0</var>;</td></tr>
<tr><th id="270">270</th><td></td></tr>
<tr><th id="271">271</th><td>    <a class="typedef" href="../../../../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t" >time_t</a> <dfn class="local col9 decl" id="79cur_time" title='cur_time' data-type='time_t' data-ref="79cur_time" >cur_time</dfn> = <a class="ref" href="../../../../../include/time.h.html#time" title='time' data-ref="time" id="time" >time</a>(<span class="macro" title="__null" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="272">272</th><td></td></tr>
<tr><th id="273">273</th><td>    <b>if</b> ((<a class="local col9 ref" href="#79cur_time" title='cur_time' data-ref="79cur_time" >cur_time</a> - <a class="local col6 ref" href="#76lastTime" title='lastTime' data-ref="76lastTime" >lastTime</a>) &lt; <var>60</var>)</td></tr>
<tr><th id="274">274</th><td>    {</td></tr>
<tr><th id="275">275</th><td>        <a class="local col3 ref" href="#73sendPacketCount" title='sendPacketCount' data-ref="73sendPacketCount" >sendPacketCount</a>+=<var>1</var>;</td></tr>
<tr><th id="276">276</th><td>        <a class="local col4 ref" href="#74sendPacketBytes" title='sendPacketBytes' data-ref="74sendPacketBytes" >sendPacketBytes</a>+=<a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a>-&gt;<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer4sizeEv" title='ByteBuffer::size' data-ref="_ZNK10ByteBuffer4sizeEv" id="_ZNK10ByteBuffer4sizeEv" >size</a>();</td></tr>
<tr><th id="277">277</th><td></td></tr>
<tr><th id="278">278</th><td>        <a class="local col7 ref" href="#77sendLastPacketCount" title='sendLastPacketCount' data-ref="77sendLastPacketCount" >sendLastPacketCount</a>+=<var>1</var>;</td></tr>
<tr><th id="279">279</th><td>        <a class="local col8 ref" href="#78sendLastPacketBytes" title='sendLastPacketBytes' data-ref="78sendLastPacketBytes" >sendLastPacketBytes</a>+=<a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a>-&gt;<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer4sizeEv" title='ByteBuffer::size' data-ref="_ZNK10ByteBuffer4sizeEv" id="_ZNK10ByteBuffer4sizeEv" >size</a>();</td></tr>
<tr><th id="280">280</th><td>    }</td></tr>
<tr><th id="281">281</th><td>    <b>else</b></td></tr>
<tr><th id="282">282</th><td>    {</td></tr>
<tr><th id="283">283</th><td>        <a class="typedef" href="../../../common/Define.h.html#uint64" title='uint64' data-type='uint64_t' data-ref="uint64" >uint64</a> <dfn class="local col0 decl" id="80minTime" title='minTime' data-type='uint64' data-ref="80minTime" >minTime</dfn> = <a class="typedef" href="../../../common/Define.h.html#uint64" title='uint64' data-type='uint64_t' data-ref="uint64" >uint64</a>(<a class="local col9 ref" href="#79cur_time" title='cur_time' data-ref="79cur_time" >cur_time</a> - <a class="local col6 ref" href="#76lastTime" title='lastTime' data-ref="76lastTime" >lastTime</a>);</td></tr>
<tr><th id="284">284</th><td>        <a class="typedef" href="../../../common/Define.h.html#uint64" title='uint64' data-type='uint64_t' data-ref="uint64" >uint64</a> <dfn class="local col1 decl" id="81fullTime" title='fullTime' data-type='uint64' data-ref="81fullTime" >fullTime</dfn> = <a class="typedef" href="../../../common/Define.h.html#uint64" title='uint64' data-type='uint64_t' data-ref="uint64" >uint64</a>(<a class="local col6 ref" href="#76lastTime" title='lastTime' data-ref="76lastTime" >lastTime</a> - <a class="local col5 ref" href="#75firstTime" title='firstTime' data-ref="75firstTime" >firstTime</a>);</td></tr>
<tr><th id="285">285</th><td>        <a class="macro" href="../../../common/Logging/Log.h.html#202" title="do { if (Log::instance()-&gt;ShouldLog(&quot;misc&quot;, LOG_LEVEL_DEBUG)) { if (false) check_args(&quot;Send all time packets count: &quot; &quot;%&quot; PRIu64 &quot; bytes: &quot; &quot;%&quot; PRIu64 &quot; avr.count/sec: %f avr.bytes/sec: %f time: %u&quot;, sendPacketCount, sendPacketBytes, float(sendPacketCount)/fullTime, float(sendPacketBytes)/fullTime, uint32(fullTime)); { try { Log::instance()-&gt;outMessage(&quot;misc&quot;, LOG_LEVEL_DEBUG, &quot;Send all time packets count: &quot; &quot;%&quot; PRIu64 &quot; bytes: &quot; &quot;%&quot; PRIu64 &quot; avr.count/sec: %f avr.bytes/sec: %f time: %u&quot;, sendPacketCount, sendPacketBytes, float(sendPacketCount)/fullTime, float(sendPacketBytes)/fullTime, uint32(fullTime)); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 285); } }; } } while (0)" data-ref="_M/TC_LOG_DEBUG">TC_LOG_DEBUG</a>(<q>"misc"</q>, <q>"Send all time packets count: "</q> <a class="macro" href="../../../common/Define.h.html#98" title="&quot;%&quot; PRIu64" data-ref="_M/UI64FMTD">UI64FMTD</a> <q>" bytes: "</q> <a class="macro" href="../../../common/Define.h.html#98" title="&quot;%&quot; PRIu64" data-ref="_M/UI64FMTD">UI64FMTD</a> <q>" avr.count/sec: %f avr.bytes/sec: %f time: %u"</q>, sendPacketCount, sendPacketBytes, <em>float</em>(sendPacketCount)/fullTime, <em>float</em>(sendPacketBytes)/fullTime, uint32(fullTime));</td></tr>
<tr><th id="286">286</th><td>        <a class="macro" href="../../../common/Logging/Log.h.html#202" title="do { if (Log::instance()-&gt;ShouldLog(&quot;misc&quot;, LOG_LEVEL_DEBUG)) { if (false) check_args(&quot;Send last min packets count: &quot; &quot;%&quot; PRIu64 &quot; bytes: &quot; &quot;%&quot; PRIu64 &quot; avr.count/sec: %f avr.bytes/sec: %f&quot;, sendLastPacketCount, sendLastPacketBytes, float(sendLastPacketCount)/minTime, float(sendLastPacketBytes)/minTime); { try { Log::instance()-&gt;outMessage(&quot;misc&quot;, LOG_LEVEL_DEBUG, &quot;Send last min packets count: &quot; &quot;%&quot; PRIu64 &quot; bytes: &quot; &quot;%&quot; PRIu64 &quot; avr.count/sec: %f avr.bytes/sec: %f&quot;, sendLastPacketCount, sendLastPacketBytes, float(sendLastPacketCount)/minTime, float(sendLastPacketBytes)/minTime); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 286); } }; } } while (0)" data-ref="_M/TC_LOG_DEBUG">TC_LOG_DEBUG</a>(<q>"misc"</q>, <q>"Send last min packets count: "</q> <a class="macro" href="../../../common/Define.h.html#98" title="&quot;%&quot; PRIu64" data-ref="_M/UI64FMTD">UI64FMTD</a> <q>" bytes: "</q> <a class="macro" href="../../../common/Define.h.html#98" title="&quot;%&quot; PRIu64" data-ref="_M/UI64FMTD">UI64FMTD</a> <q>" avr.count/sec: %f avr.bytes/sec: %f"</q>, sendLastPacketCount, sendLastPacketBytes, <em>float</em>(sendLastPacketCount)/minTime, <em>float</em>(sendLastPacketBytes)/minTime);</td></tr>
<tr><th id="287">287</th><td></td></tr>
<tr><th id="288">288</th><td>        <a class="local col6 ref" href="#76lastTime" title='lastTime' data-ref="76lastTime" >lastTime</a> = <a class="local col9 ref" href="#79cur_time" title='cur_time' data-ref="79cur_time" >cur_time</a>;</td></tr>
<tr><th id="289">289</th><td>        <a class="local col7 ref" href="#77sendLastPacketCount" title='sendLastPacketCount' data-ref="77sendLastPacketCount" >sendLastPacketCount</a> = <var>1</var>;</td></tr>
<tr><th id="290">290</th><td>        <a class="local col8 ref" href="#78sendLastPacketBytes" title='sendLastPacketBytes' data-ref="78sendLastPacketBytes" >sendLastPacketBytes</a> = <a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a>-&gt;<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer4wposEv" title='ByteBuffer::wpos' data-ref="_ZNK10ByteBuffer4wposEv" id="_ZNK10ByteBuffer4wposEv" >wpos</a>();               <i>// wpos is real written size</i></td></tr>
<tr><th id="291">291</th><td>    }</td></tr>
<tr><th id="292">292</th><td><u>#<span data-ppcond="260">endif</span>                                                      // !TRINITY_DEBUG</u></td></tr>
<tr><th id="293">293</th><td></td></tr>
<tr><th id="294">294</th><td>    <a class="macro" href="../Scripting/ScriptMgr.h.html#841" title="ScriptMgr::instance()" data-ref="_M/sScriptMgr">sScriptMgr</a>-&gt;<a class="ref" href="../Scripting/ScriptMgr.h.html#_ZN9ScriptMgr12OnPacketSendEP12WorldSessionRK11WorldPacket" title='ScriptMgr::OnPacketSend' data-ref="_ZN9ScriptMgr12OnPacketSendEP12WorldSessionRK11WorldPacket" id="_ZN9ScriptMgr12OnPacketSendEP12WorldSessionRK11WorldPacket" >OnPacketSend</a>(<b>this</b>, *<a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a>);</td></tr>
<tr><th id="295">295</th><td></td></tr>
<tr><th id="296">296</th><td>    <a class="macro" href="../../../common/Logging/Log.h.html#199" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network.opcode&quot;, LOG_LEVEL_TRACE)) { if (false) check_args(&quot;S-&gt;C: %s %s&quot;, GetPlayerInfo().c_str(), GetOpcodeNameForLogging(static_cast&lt;OpcodeServer&gt;(packet-&gt;GetOpcode())).c_str()); { try { Log::instance()-&gt;outMessage(&quot;network.opcode&quot;, LOG_LEVEL_TRACE, &quot;S-&gt;C: %s %s&quot;, GetPlayerInfo().c_str(), GetOpcodeNameForLogging(static_cast&lt;OpcodeServer&gt;(packet-&gt;GetOpcode())).c_str()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 296); } }; } } while (0)" data-ref="_M/TC_LOG_TRACE">TC_LOG_TRACE</a>(<q>"network.opcode"</q>, <q>"S-&gt;C: %s %s"</q>, <a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" ><a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" >GetPlayerInfo</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" ><a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" >GetOpcodeNameForLogging</a></a>(<b>static_cast</b>&lt;<a class="type" href="Protocol/Opcodes.h.html#OpcodeServer" title='OpcodeServer' data-ref="OpcodeServer" ><a class="type" href="Protocol/Opcodes.h.html#OpcodeServer" title='OpcodeServer' data-ref="OpcodeServer" >OpcodeServer</a></a>&gt;(<a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" ><a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a></a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a></a>())).<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>());</td></tr>
<tr><th id="297">297</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" >m_Socket</a>[<a class="local col2 ref" href="#72conIdx" title='conIdx' data-ref="72conIdx" >conIdx</a>]<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv" id="_ZNKSt12__shared_ptrptEv" >-&gt;</a><a class="ref" href="WorldSocket.h.html#_ZN11WorldSocket10SendPacketERK11WorldPacket" title='WorldSocket::SendPacket' data-ref="_ZN11WorldSocket10SendPacketERK11WorldPacket" id="_ZN11WorldSocket10SendPacketERK11WorldPacket" >SendPacket</a>(*<a class="local col9 ref" href="#69packet" title='packet' data-ref="69packet" >packet</a>);</td></tr>
<tr><th id="298">298</th><td>}</td></tr>
<tr><th id="299">299</th><td></td></tr>
<tr><th id="300">300</th><td><i class="doc">/// Add an incoming packet to the queue</i></td></tr>
<tr><th id="301">301</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession11QueuePacketEP11WorldPacket" title='WorldSession::QueuePacket' data-ref="_ZN12WorldSession11QueuePacketEP11WorldPacket" >QueuePacket</dfn>(<a class="type" href="WorldPacket.h.html#WorldPacket" title='WorldPacket' data-ref="WorldPacket" >WorldPacket</a>* <dfn class="local col2 decl" id="82new_packet" title='new_packet' data-type='WorldPacket *' data-ref="82new_packet" >new_packet</dfn>)</td></tr>
<tr><th id="302">302</th><td>{</td></tr>
<tr><th id="303">303</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_recvQueue" title='WorldSession::_recvQueue' data-ref="WorldSession::_recvQueue" id="WorldSession::_recvQueue" >_recvQueue</a>.<a class="ref" href="../../../common/Threading/LockedQueue.h.html#_ZN11LockedQueue3addERKT_" title='LockedQueue::add' data-ref="_ZN11LockedQueue3addERKT_" id="_ZN11LockedQueue3addERKT_" >add</a>(<a class="local col2 ref" href="#82new_packet" title='new_packet' data-ref="82new_packet" >new_packet</a>);</td></tr>
<tr><th id="304">304</th><td>}</td></tr>
<tr><th id="305">305</th><td></td></tr>
<tr><th id="306">306</th><td><i class="doc">/// Logging helper for unexpected opcodes</i></td></tr>
<tr><th id="307">307</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession19LogUnexpectedOpcodeEP11WorldPacketPKcS3_" title='WorldSession::LogUnexpectedOpcode' data-ref="_ZN12WorldSession19LogUnexpectedOpcodeEP11WorldPacketPKcS3_" >LogUnexpectedOpcode</dfn>(<a class="type" href="WorldPacket.h.html#WorldPacket" title='WorldPacket' data-ref="WorldPacket" >WorldPacket</a>* <dfn class="local col3 decl" id="83packet" title='packet' data-type='WorldPacket *' data-ref="83packet" >packet</dfn>, <em>const</em> <em>char</em>* <dfn class="local col4 decl" id="84status" title='status' data-type='const char *' data-ref="84status" >status</dfn>, <em>const</em> <em>char</em> *<dfn class="local col5 decl" id="85reason" title='reason' data-type='const char *' data-ref="85reason" >reason</dfn>)</td></tr>
<tr><th id="308">308</th><td>{</td></tr>
<tr><th id="309">309</th><td>    <a class="macro" href="../../../common/Logging/Log.h.html#211" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network.opcode&quot;, LOG_LEVEL_ERROR)) { if (false) check_args(&quot;Received unexpected opcode %s Status: %s Reason: %s from %s&quot;, GetOpcodeNameForLogging(static_cast&lt;OpcodeClient&gt;(packet-&gt;GetOpcode())).c_str(), status, reason, GetPlayerInfo().c_str()); { try { Log::instance()-&gt;outMessage(&quot;network.opcode&quot;, LOG_LEVEL_ERROR, &quot;Received unexpected opcode %s Status: %s Reason: %s from %s&quot;, GetOpcodeNameForLogging(static_cast&lt;OpcodeClient&gt;(packet-&gt;GetOpcode())).c_str(), status, reason, GetPlayerInfo().c_str()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 310); } }; } } while (0)" data-ref="_M/TC_LOG_ERROR">TC_LOG_ERROR</a>(<q>"network.opcode"</q>, <q>"Received unexpected opcode %s Status: %s Reason: %s from %s"</q>,</td></tr>
<tr><th id="310">310</th><td>        <a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" ><a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" >GetOpcodeNameForLogging</a></a>(<b>static_cast</b>&lt;<a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" ><a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" >OpcodeClient</a></a>&gt;(<a class="local col3 ref" href="#83packet" title='packet' data-ref="83packet" ><a class="local col3 ref" href="#83packet" title='packet' data-ref="83packet" >packet</a></a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a></a>())).<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="local col4 ref" href="#84status" title='status' data-ref="84status" ><a class="local col4 ref" href="#84status" title='status' data-ref="84status" >status</a></a>, <a class="local col5 ref" href="#85reason" title='reason' data-ref="85reason" ><a class="local col5 ref" href="#85reason" title='reason' data-ref="85reason" >reason</a></a>, <a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" ><a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" >GetPlayerInfo</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>());</td></tr>
<tr><th id="311">311</th><td>}</td></tr>
<tr><th id="312">312</th><td></td></tr>
<tr><th id="313">313</th><td><i class="doc">/// Logging helper for unexpected opcodes</i></td></tr>
<tr><th id="314">314</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession18LogUnprocessedTailEP11WorldPacket" title='WorldSession::LogUnprocessedTail' data-ref="_ZN12WorldSession18LogUnprocessedTailEP11WorldPacket" >LogUnprocessedTail</dfn>(<a class="type" href="WorldPacket.h.html#WorldPacket" title='WorldPacket' data-ref="WorldPacket" >WorldPacket</a>* <dfn class="local col6 decl" id="86packet" title='packet' data-type='WorldPacket *' data-ref="86packet" >packet</dfn>)</td></tr>
<tr><th id="315">315</th><td>{</td></tr>
<tr><th id="316">316</th><td>    <b>if</b> (!<a class="macro" href="../../../common/Logging/Log.h.html#158" title="Log::instance()" data-ref="_M/sLog">sLog</a>-&gt;<a class="ref" href="../../../common/Logging/Log.h.html#_ZNK3Log9ShouldLogERKSs8LogLevel" title='Log::ShouldLog' data-ref="_ZNK3Log9ShouldLogERKSs8LogLevel" id="_ZNK3Log9ShouldLogERKSs8LogLevel" >ShouldLog</a>(<q>"network.opcode"</q>, <a class="enum" href="../../../common/Logging/Appender.h.html#LogLevel::LOG_LEVEL_TRACE" title='LogLevel::LOG_LEVEL_TRACE' data-ref="LogLevel::LOG_LEVEL_TRACE" id="LogLevel::LOG_LEVEL_TRACE" >LOG_LEVEL_TRACE</a>) || <a class="local col6 ref" href="#86packet" title='packet' data-ref="86packet" >packet</a>-&gt;<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer4rposEv" title='ByteBuffer::rpos' data-ref="_ZNK10ByteBuffer4rposEv" id="_ZNK10ByteBuffer4rposEv" >rpos</a>() &gt;= <a class="local col6 ref" href="#86packet" title='packet' data-ref="86packet" >packet</a>-&gt;<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer4wposEv" title='ByteBuffer::wpos' data-ref="_ZNK10ByteBuffer4wposEv" id="_ZNK10ByteBuffer4wposEv" >wpos</a>())</td></tr>
<tr><th id="317">317</th><td>        <b>return</b>;</td></tr>
<tr><th id="318">318</th><td></td></tr>
<tr><th id="319">319</th><td>    <a class="macro" href="../../../common/Logging/Log.h.html#199" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network.opcode&quot;, LOG_LEVEL_TRACE)) { if (false) check_args(&quot;Unprocessed tail data (read stop at %u from %u) Opcode %s from %s&quot;, uint32(packet-&gt;rpos()), uint32(packet-&gt;wpos()), GetOpcodeNameForLogging(static_cast&lt;OpcodeClient&gt;(packet-&gt;GetOpcode())).c_str(), GetPlayerInfo().c_str()); { try { Log::instance()-&gt;outMessage(&quot;network.opcode&quot;, LOG_LEVEL_TRACE, &quot;Unprocessed tail data (read stop at %u from %u) Opcode %s from %s&quot;, uint32(packet-&gt;rpos()), uint32(packet-&gt;wpos()), GetOpcodeNameForLogging(static_cast&lt;OpcodeClient&gt;(packet-&gt;GetOpcode())).c_str(), GetPlayerInfo().c_str()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 320); } }; } } while (0)" data-ref="_M/TC_LOG_TRACE">TC_LOG_TRACE</a>(<q>"network.opcode"</q>, <q>"Unprocessed tail data (read stop at %u from %u) Opcode %s from %s"</q>,</td></tr>
<tr><th id="320">320</th><td>        <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" ><a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a></a>(<a class="local col6 ref" href="#86packet" title='packet' data-ref="86packet" ><a class="local col6 ref" href="#86packet" title='packet' data-ref="86packet" >packet</a></a>-&gt;<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer4rposEv" title='ByteBuffer::rpos' data-ref="_ZNK10ByteBuffer4rposEv" id="_ZNK10ByteBuffer4rposEv" ><a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer4rposEv" title='ByteBuffer::rpos' data-ref="_ZNK10ByteBuffer4rposEv" id="_ZNK10ByteBuffer4rposEv" >rpos</a></a>()), <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" ><a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a></a>(<a class="local col6 ref" href="#86packet" title='packet' data-ref="86packet" ><a class="local col6 ref" href="#86packet" title='packet' data-ref="86packet" >packet</a></a>-&gt;<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer4wposEv" title='ByteBuffer::wpos' data-ref="_ZNK10ByteBuffer4wposEv" id="_ZNK10ByteBuffer4wposEv" ><a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer4wposEv" title='ByteBuffer::wpos' data-ref="_ZNK10ByteBuffer4wposEv" id="_ZNK10ByteBuffer4wposEv" >wpos</a></a>()), <a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" ><a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" >GetOpcodeNameForLogging</a></a>(<b>static_cast</b>&lt;<a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" ><a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" >OpcodeClient</a></a>&gt;(<a class="local col6 ref" href="#86packet" title='packet' data-ref="86packet" ><a class="local col6 ref" href="#86packet" title='packet' data-ref="86packet" >packet</a></a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a></a>())).<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" ><a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" >GetPlayerInfo</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>());</td></tr>
<tr><th id="321">321</th><td>    <a class="local col6 ref" href="#86packet" title='packet' data-ref="86packet" >packet</a>-&gt;<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer13print_storageEv" title='ByteBuffer::print_storage' data-ref="_ZNK10ByteBuffer13print_storageEv" id="_ZNK10ByteBuffer13print_storageEv" >print_storage</a>();</td></tr>
<tr><th id="322">322</th><td>}</td></tr>
<tr><th id="323">323</th><td></td></tr>
<tr><th id="324">324</th><td><i class="doc">/// Update the WorldSession (triggered by World update)</i></td></tr>
<tr><th id="325">325</th><td><em>bool</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession6UpdateEjR12PacketFilter" title='WorldSession::Update' data-ref="_ZN12WorldSession6UpdateEjR12PacketFilter" >Update</dfn>(<a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col7 decl" id="87diff" title='diff' data-type='uint32' data-ref="87diff" >diff</dfn>, <a class="type" href="WorldSession.h.html#PacketFilter" title='PacketFilter' data-ref="PacketFilter" >PacketFilter</a>&amp; <dfn class="local col8 decl" id="88updater" title='updater' data-type='PacketFilter &amp;' data-ref="88updater" >updater</dfn>)</td></tr>
<tr><th id="326">326</th><td>{</td></tr>
<tr><th id="327">327</th><td>    <i class="doc">/// Update Timeout timer.</i></td></tr>
<tr><th id="328">328</th><td>    <a class="member" href="WorldSession.h.html#_ZN12WorldSession17UpdateTimeOutTimeEj" title='WorldSession::UpdateTimeOutTime' data-ref="_ZN12WorldSession17UpdateTimeOutTimeEj" id="_ZN12WorldSession17UpdateTimeOutTimeEj" >UpdateTimeOutTime</a>(<a class="local col7 ref" href="#87diff" title='diff' data-ref="87diff" >diff</a>);</td></tr>
<tr><th id="329">329</th><td></td></tr>
<tr><th id="330">330</th><td>    <i class="doc">///- Before we process anything:</i></td></tr>
<tr><th id="331">331</th><td><i class="doc">    /// If necessary, kick the player from the character select screen</i></td></tr>
<tr><th id="332">332</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#_ZNK12WorldSession16IsConnectionIdleEv" title='WorldSession::IsConnectionIdle' data-ref="_ZNK12WorldSession16IsConnectionIdleEv" id="_ZNK12WorldSession16IsConnectionIdleEv" >IsConnectionIdle</a>())</td></tr>
<tr><th id="333">333</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_REALM" title='ConnectionType::CONNECTION_TYPE_REALM' data-ref="ConnectionType::CONNECTION_TYPE_REALM" >CONNECTION_TYPE_REALM</a>]<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv" id="_ZNKSt12__shared_ptrptEv" >-&gt;</a><a class="ref" href="../../shared/Networking/Socket.h.html#_ZN6Socket11CloseSocketEv" title='Socket::CloseSocket' data-ref="_ZN6Socket11CloseSocketEv" id="_ZN6Socket11CloseSocketEv" >CloseSocket</a>();</td></tr>
<tr><th id="334">334</th><td></td></tr>
<tr><th id="335">335</th><td>    <b>if</b> (<a class="local col8 ref" href="#88updater" title='updater' data-ref="88updater" >updater</a>.<a class="virtual ref" href="WorldSession.h.html#_ZNK12PacketFilter13ProcessUnsafeEv" title='PacketFilter::ProcessUnsafe' data-ref="_ZNK12PacketFilter13ProcessUnsafeEv" id="_ZNK12PacketFilter13ProcessUnsafeEv" >ProcessUnsafe</a>())</td></tr>
<tr><th id="336">336</th><td>        <b>while</b> (<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a> &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZNK6Player27IsBeingTeleportedSeamlesslyEv" title='Player::IsBeingTeleportedSeamlessly' data-ref="_ZNK6Player27IsBeingTeleportedSeamlesslyEv" id="_ZNK6Player27IsBeingTeleportedSeamlesslyEv" >IsBeingTeleportedSeamlessly</a>())</td></tr>
<tr><th id="337">337</th><td>            <a class="member" href="WorldSession.h.html#_ZN12WorldSession28HandleMoveWorldportAckOpcodeEv" title='WorldSession::HandleMoveWorldportAckOpcode' data-ref="_ZN12WorldSession28HandleMoveWorldportAckOpcodeEv" id="_ZN12WorldSession28HandleMoveWorldportAckOpcodeEv" >HandleMoveWorldportAckOpcode</a>();</td></tr>
<tr><th id="338">338</th><td></td></tr>
<tr><th id="339">339</th><td>    <i class="doc">///- Retrieve packets from the receive queue and call the appropriate handlers</i></td></tr>
<tr><th id="340">340</th><td><i class="doc">    /// not process packets if socket already closed</i></td></tr>
<tr><th id="341">341</th><td>    <a class="type" href="WorldPacket.h.html#WorldPacket" title='WorldPacket' data-ref="WorldPacket" >WorldPacket</a>* <dfn class="local col9 decl" id="89packet" title='packet' data-type='WorldPacket *' data-ref="89packet" >packet</dfn> = <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="342">342</th><td>    <i class="doc">//! Delete packet after processing by default</i></td></tr>
<tr><th id="343">343</th><td>    <em>bool</em> <dfn class="local col0 decl" id="90deletePacket" title='deletePacket' data-type='bool' data-ref="90deletePacket" >deletePacket</dfn> = <b>true</b>;</td></tr>
<tr><th id="344">344</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/4.9/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" >vector</a>&lt;<a class="type" href="WorldPacket.h.html#WorldPacket" title='WorldPacket' data-ref="WorldPacket" >WorldPacket</a>*&gt; <dfn class="local col1 decl" id="91requeuePackets" title='requeuePackets' data-type='std::vector&lt;WorldPacket *&gt;' data-ref="91requeuePackets" >requeuePackets</dfn>;</td></tr>
<tr><th id="345">345</th><td>    <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col2 decl" id="92processedPackets" title='processedPackets' data-type='uint32' data-ref="92processedPackets" >processedPackets</dfn> = <var>0</var>;</td></tr>
<tr><th id="346">346</th><td>    <a class="typedef" href="../../../../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t" >time_t</a> <dfn class="local col3 decl" id="93currentTime" title='currentTime' data-type='time_t' data-ref="93currentTime" >currentTime</dfn> = <a class="ref" href="../../../../../include/time.h.html#time" title='time' data-ref="time" id="time" >time</a>(<span class="macro" title="__null" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="347">347</th><td></td></tr>
<tr><th id="348">348</th><td>    <b>while</b> (<a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_REALM" title='ConnectionType::CONNECTION_TYPE_REALM' data-ref="ConnectionType::CONNECTION_TYPE_REALM" id="ConnectionType::CONNECTION_TYPE_REALM" >CONNECTION_TYPE_REALM</a>] &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::_recvQueue" title='WorldSession::_recvQueue' data-ref="WorldSession::_recvQueue" id="WorldSession::_recvQueue" >_recvQueue</a>.<a class="ref" href="../../../common/Threading/LockedQueue.h.html#_ZN11LockedQueueIP11WorldPacketSt5dequeIS1_SaIS1_EEE4nextERS1_RT_" title='LockedQueue&lt;WorldPacket *, std::deque&lt;WorldPacket *, std::allocator&lt;WorldPacket *&gt; &gt; &gt;::next' data-ref="_ZN11LockedQueueIP11WorldPacketSt5dequeIS1_SaIS1_EEE4nextERS1_RT_" id="_ZN11LockedQueueIP11WorldPacketSt5dequeIS1_SaIS1_EEE4nextERS1_RT_" >next</a>(<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>, <a class="local col8 ref" href="#88updater" title='updater' data-ref="88updater" >updater</a>))</td></tr>
<tr><th id="349">349</th><td>    {</td></tr>
<tr><th id="350">350</th><td>        <a class="type" href="Protocol/Opcodes.h.html#ClientOpcodeHandler" title='ClientOpcodeHandler' data-ref="ClientOpcodeHandler" >ClientOpcodeHandler</a> <em>const</em>* <dfn class="local col4 decl" id="94opHandle" title='opHandle' data-type='const ClientOpcodeHandler *' data-ref="94opHandle" >opHandle</dfn> = <a class="ref" href="Protocol/Opcodes.h.html#opcodeTable" title='opcodeTable' data-ref="opcodeTable" id="opcodeTable" >opcodeTable</a><a class="ref" href="Protocol/Opcodes.h.html#_ZNK11OpcodeTableixE12OpcodeClient" title='OpcodeTable::operator[]' data-ref="_ZNK11OpcodeTableixE12OpcodeClient" id="_ZNK11OpcodeTableixE12OpcodeClient" >[<b>static_cast</b>&lt;<a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" >OpcodeClient</a>&gt;(<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a>())]</a>;</td></tr>
<tr><th id="351">351</th><td>        <b>try</b></td></tr>
<tr><th id="352">352</th><td>        {</td></tr>
<tr><th id="353">353</th><td>            <b>switch</b> (<a class="local col4 ref" href="#94opHandle" title='opHandle' data-ref="94opHandle" >opHandle</a>-&gt;<a class="ref" href="Protocol/Opcodes.h.html#OpcodeHandler::Status" title='OpcodeHandler::Status' data-ref="OpcodeHandler::Status" id="OpcodeHandler::Status" >Status</a>)</td></tr>
<tr><th id="354">354</th><td>            {</td></tr>
<tr><th id="355">355</th><td>                <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#SessionStatus::STATUS_LOGGEDIN" title='SessionStatus::STATUS_LOGGEDIN' data-ref="SessionStatus::STATUS_LOGGEDIN" >STATUS_LOGGEDIN</a>:</td></tr>
<tr><th id="356">356</th><td>                    <b>if</b> (!<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>)</td></tr>
<tr><th id="357">357</th><td>                    {</td></tr>
<tr><th id="358">358</th><td>                        <i>// skip STATUS_LOGGEDIN opcode unexpected errors if player logout sometime ago - this can be network lag delayed packets</i></td></tr>
<tr><th id="359">359</th><td><i>                        //! If player didn't log out a while ago, it means packets are being sent while the server does not recognize</i></td></tr>
<tr><th id="360">360</th><td><i>                        //! the client to be in world yet. We will re-add the packets to the bottom of the queue and process them later.</i></td></tr>
<tr><th id="361">361</th><td>                        <b>if</b> (!<a class="member" href="WorldSession.h.html#WorldSession::m_playerRecentlyLogout" title='WorldSession::m_playerRecentlyLogout' data-ref="WorldSession::m_playerRecentlyLogout" id="WorldSession::m_playerRecentlyLogout" >m_playerRecentlyLogout</a>)</td></tr>
<tr><th id="362">362</th><td>                        {</td></tr>
<tr><th id="363">363</th><td>                            <a class="local col1 ref" href="#91requeuePackets" title='requeuePackets' data-ref="91requeuePackets" >requeuePackets</a>.<a class="ref" href="../../../../../include/c++/4.9/bits/stl_vector.h.html#_ZNSt6vector9push_backERKT_" title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_" id="_ZNSt6vector9push_backERKT_" >push_back</a>(<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>);</td></tr>
<tr><th id="364">364</th><td>                            <a class="local col0 ref" href="#90deletePacket" title='deletePacket' data-ref="90deletePacket" >deletePacket</a> = <b>false</b>;</td></tr>
<tr><th id="365">365</th><td>                            <a class="macro" href="../../../common/Logging/Log.h.html#202" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network&quot;, LOG_LEVEL_DEBUG)) { if (false) check_args(&quot;Re-enqueueing packet with opcode %s with with status STATUS_LOGGEDIN. &quot; &quot;Player is currently not in world yet.&quot;, GetOpcodeNameForLogging(static_cast&lt;OpcodeClient&gt;(packet-&gt;GetOpcode())).c_str()); { try { Log::instance()-&gt;outMessage(&quot;network&quot;, LOG_LEVEL_DEBUG, &quot;Re-enqueueing packet with opcode %s with with status STATUS_LOGGEDIN. &quot; &quot;Player is currently not in world yet.&quot;, GetOpcodeNameForLogging(static_cast&lt;OpcodeClient&gt;(packet-&gt;GetOpcode())).c_str()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 366); } }; } } while (0)" data-ref="_M/TC_LOG_DEBUG">TC_LOG_DEBUG</a>(<q>"network"</q>, <q>"Re-enqueueing packet with opcode %s with with status STATUS_LOGGEDIN. "</q></td></tr>
<tr><th id="366">366</th><td>                                <q>"Player is currently not in world yet."</q>, <a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" ><a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" >GetOpcodeNameForLogging</a></a>(<b>static_cast</b>&lt;<a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" ><a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" >OpcodeClient</a></a>&gt;(<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" ><a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a></a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a></a>())).<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>());</td></tr>
<tr><th id="367">367</th><td>                        }</td></tr>
<tr><th id="368">368</th><td>                    }</td></tr>
<tr><th id="369">369</th><td>                    <b>else</b> <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK6Object9IsInWorldEv" title='Object::IsInWorld' data-ref="_ZNK6Object9IsInWorldEv" id="_ZNK6Object9IsInWorldEv" >IsInWorld</a>() &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::AntiDOS" title='WorldSession::AntiDOS' data-ref="WorldSession::AntiDOS" id="WorldSession::AntiDOS" >AntiDOS</a>.<a class="ref" href="#_ZNK12WorldSession13DosProtection14EvaluateOpcodeER11WorldPacketl" title='WorldSession::DosProtection::EvaluateOpcode' data-ref="_ZNK12WorldSession13DosProtection14EvaluateOpcodeER11WorldPacketl" >EvaluateOpcode</a>(*<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>, <a class="local col3 ref" href="#93currentTime" title='currentTime' data-ref="93currentTime" >currentTime</a>))</td></tr>
<tr><th id="370">370</th><td>                    {</td></tr>
<tr><th id="371">371</th><td>                        <a class="macro" href="../Scripting/ScriptMgr.h.html#841" title="ScriptMgr::instance()" data-ref="_M/sScriptMgr">sScriptMgr</a>-&gt;<a class="ref" href="../Scripting/ScriptMgr.h.html#_ZN9ScriptMgr15OnPacketReceiveEP12WorldSessionRK11WorldPacket" title='ScriptMgr::OnPacketReceive' data-ref="_ZN9ScriptMgr15OnPacketReceiveEP12WorldSessionRK11WorldPacket" id="_ZN9ScriptMgr15OnPacketReceiveEP12WorldSessionRK11WorldPacket" >OnPacketReceive</a>(<b>this</b>, *<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>);</td></tr>
<tr><th id="372">372</th><td>                        <a class="local col4 ref" href="#94opHandle" title='opHandle' data-ref="94opHandle" >opHandle</a>-&gt;<a class="virtual ref" href="Protocol/Opcodes.h.html#_ZNK19ClientOpcodeHandler4CallEP12WorldSessionR11WorldPacket" title='ClientOpcodeHandler::Call' data-ref="_ZNK19ClientOpcodeHandler4CallEP12WorldSessionR11WorldPacket" id="_ZNK19ClientOpcodeHandler4CallEP12WorldSessionR11WorldPacket" >Call</a>(<b>this</b>, *<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>);</td></tr>
<tr><th id="373">373</th><td>                        <a class="member" href="#_ZN12WorldSession18LogUnprocessedTailEP11WorldPacket" title='WorldSession::LogUnprocessedTail' data-ref="_ZN12WorldSession18LogUnprocessedTailEP11WorldPacket" >LogUnprocessedTail</a>(<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>);</td></tr>
<tr><th id="374">374</th><td>                    }</td></tr>
<tr><th id="375">375</th><td>                    <i>// lag can cause STATUS_LOGGEDIN opcodes to arrive after the player started a transfer</i></td></tr>
<tr><th id="376">376</th><td>                    <b>break</b>;</td></tr>
<tr><th id="377">377</th><td>                <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#SessionStatus::STATUS_LOGGEDIN_OR_RECENTLY_LOGGOUT" title='SessionStatus::STATUS_LOGGEDIN_OR_RECENTLY_LOGGOUT' data-ref="SessionStatus::STATUS_LOGGEDIN_OR_RECENTLY_LOGGOUT" >STATUS_LOGGEDIN_OR_RECENTLY_LOGGOUT</a>:</td></tr>
<tr><th id="378">378</th><td>                    <b>if</b> (!<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a> &amp;&amp; !<a class="member" href="WorldSession.h.html#WorldSession::m_playerRecentlyLogout" title='WorldSession::m_playerRecentlyLogout' data-ref="WorldSession::m_playerRecentlyLogout" id="WorldSession::m_playerRecentlyLogout" >m_playerRecentlyLogout</a> &amp;&amp; !<a class="member" href="WorldSession.h.html#WorldSession::m_playerLogout" title='WorldSession::m_playerLogout' data-ref="WorldSession::m_playerLogout" id="WorldSession::m_playerLogout" >m_playerLogout</a>) <i>// There's a short delay between _player = null and m_playerRecentlyLogout = true during logout</i></td></tr>
<tr><th id="379">379</th><td>                        <a class="member" href="#_ZN12WorldSession19LogUnexpectedOpcodeEP11WorldPacketPKcS3_" title='WorldSession::LogUnexpectedOpcode' data-ref="_ZN12WorldSession19LogUnexpectedOpcodeEP11WorldPacketPKcS3_" >LogUnexpectedOpcode</a>(<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>, <q>"STATUS_LOGGEDIN_OR_RECENTLY_LOGGOUT"</q>,</td></tr>
<tr><th id="380">380</th><td>                            <q>"the player has not logged in yet and not recently logout"</q>);</td></tr>
<tr><th id="381">381</th><td>                    <b>else</b> <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::AntiDOS" title='WorldSession::AntiDOS' data-ref="WorldSession::AntiDOS" id="WorldSession::AntiDOS" >AntiDOS</a>.<a class="ref" href="#_ZNK12WorldSession13DosProtection14EvaluateOpcodeER11WorldPacketl" title='WorldSession::DosProtection::EvaluateOpcode' data-ref="_ZNK12WorldSession13DosProtection14EvaluateOpcodeER11WorldPacketl" >EvaluateOpcode</a>(*<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>, <a class="local col3 ref" href="#93currentTime" title='currentTime' data-ref="93currentTime" >currentTime</a>))</td></tr>
<tr><th id="382">382</th><td>                    {</td></tr>
<tr><th id="383">383</th><td>                        <i>// not expected _player or must checked in packet hanlder</i></td></tr>
<tr><th id="384">384</th><td>                        <a class="macro" href="../Scripting/ScriptMgr.h.html#841" title="ScriptMgr::instance()" data-ref="_M/sScriptMgr">sScriptMgr</a>-&gt;<a class="ref" href="../Scripting/ScriptMgr.h.html#_ZN9ScriptMgr15OnPacketReceiveEP12WorldSessionRK11WorldPacket" title='ScriptMgr::OnPacketReceive' data-ref="_ZN9ScriptMgr15OnPacketReceiveEP12WorldSessionRK11WorldPacket" id="_ZN9ScriptMgr15OnPacketReceiveEP12WorldSessionRK11WorldPacket" >OnPacketReceive</a>(<b>this</b>, *<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>);</td></tr>
<tr><th id="385">385</th><td>                        <a class="local col4 ref" href="#94opHandle" title='opHandle' data-ref="94opHandle" >opHandle</a>-&gt;<a class="virtual ref" href="Protocol/Opcodes.h.html#_ZNK19ClientOpcodeHandler4CallEP12WorldSessionR11WorldPacket" title='ClientOpcodeHandler::Call' data-ref="_ZNK19ClientOpcodeHandler4CallEP12WorldSessionR11WorldPacket" id="_ZNK19ClientOpcodeHandler4CallEP12WorldSessionR11WorldPacket" >Call</a>(<b>this</b>, *<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>);</td></tr>
<tr><th id="386">386</th><td>                        <a class="member" href="#_ZN12WorldSession18LogUnprocessedTailEP11WorldPacket" title='WorldSession::LogUnprocessedTail' data-ref="_ZN12WorldSession18LogUnprocessedTailEP11WorldPacket" >LogUnprocessedTail</a>(<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>);</td></tr>
<tr><th id="387">387</th><td>                    }</td></tr>
<tr><th id="388">388</th><td>                    <b>break</b>;</td></tr>
<tr><th id="389">389</th><td>                <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#SessionStatus::STATUS_TRANSFER" title='SessionStatus::STATUS_TRANSFER' data-ref="SessionStatus::STATUS_TRANSFER" >STATUS_TRANSFER</a>:</td></tr>
<tr><th id="390">390</th><td>                    <b>if</b> (!<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>)</td></tr>
<tr><th id="391">391</th><td>                        <a class="member" href="#_ZN12WorldSession19LogUnexpectedOpcodeEP11WorldPacketPKcS3_" title='WorldSession::LogUnexpectedOpcode' data-ref="_ZN12WorldSession19LogUnexpectedOpcodeEP11WorldPacketPKcS3_" >LogUnexpectedOpcode</a>(<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>, <q>"STATUS_TRANSFER"</q>, <q>"the player has not logged in yet"</q>);</td></tr>
<tr><th id="392">392</th><td>                    <b>else</b> <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK6Object9IsInWorldEv" title='Object::IsInWorld' data-ref="_ZNK6Object9IsInWorldEv" id="_ZNK6Object9IsInWorldEv" >IsInWorld</a>())</td></tr>
<tr><th id="393">393</th><td>                        <a class="member" href="#_ZN12WorldSession19LogUnexpectedOpcodeEP11WorldPacketPKcS3_" title='WorldSession::LogUnexpectedOpcode' data-ref="_ZN12WorldSession19LogUnexpectedOpcodeEP11WorldPacketPKcS3_" >LogUnexpectedOpcode</a>(<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>, <q>"STATUS_TRANSFER"</q>, <q>"the player is still in world"</q>);</td></tr>
<tr><th id="394">394</th><td>                    <b>else</b> <b>if</b>(<a class="member" href="WorldSession.h.html#WorldSession::AntiDOS" title='WorldSession::AntiDOS' data-ref="WorldSession::AntiDOS" id="WorldSession::AntiDOS" >AntiDOS</a>.<a class="ref" href="#_ZNK12WorldSession13DosProtection14EvaluateOpcodeER11WorldPacketl" title='WorldSession::DosProtection::EvaluateOpcode' data-ref="_ZNK12WorldSession13DosProtection14EvaluateOpcodeER11WorldPacketl" >EvaluateOpcode</a>(*<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>, <a class="local col3 ref" href="#93currentTime" title='currentTime' data-ref="93currentTime" >currentTime</a>))</td></tr>
<tr><th id="395">395</th><td>                    {</td></tr>
<tr><th id="396">396</th><td>                        <a class="macro" href="../Scripting/ScriptMgr.h.html#841" title="ScriptMgr::instance()" data-ref="_M/sScriptMgr">sScriptMgr</a>-&gt;<a class="ref" href="../Scripting/ScriptMgr.h.html#_ZN9ScriptMgr15OnPacketReceiveEP12WorldSessionRK11WorldPacket" title='ScriptMgr::OnPacketReceive' data-ref="_ZN9ScriptMgr15OnPacketReceiveEP12WorldSessionRK11WorldPacket" id="_ZN9ScriptMgr15OnPacketReceiveEP12WorldSessionRK11WorldPacket" >OnPacketReceive</a>(<b>this</b>, *<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>);</td></tr>
<tr><th id="397">397</th><td>                        <a class="local col4 ref" href="#94opHandle" title='opHandle' data-ref="94opHandle" >opHandle</a>-&gt;<a class="virtual ref" href="Protocol/Opcodes.h.html#_ZNK19ClientOpcodeHandler4CallEP12WorldSessionR11WorldPacket" title='ClientOpcodeHandler::Call' data-ref="_ZNK19ClientOpcodeHandler4CallEP12WorldSessionR11WorldPacket" id="_ZNK19ClientOpcodeHandler4CallEP12WorldSessionR11WorldPacket" >Call</a>(<b>this</b>, *<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>);</td></tr>
<tr><th id="398">398</th><td>                        <a class="member" href="#_ZN12WorldSession18LogUnprocessedTailEP11WorldPacket" title='WorldSession::LogUnprocessedTail' data-ref="_ZN12WorldSession18LogUnprocessedTailEP11WorldPacket" >LogUnprocessedTail</a>(<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>);</td></tr>
<tr><th id="399">399</th><td>                    }</td></tr>
<tr><th id="400">400</th><td>                    <b>break</b>;</td></tr>
<tr><th id="401">401</th><td>                <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#SessionStatus::STATUS_AUTHED" title='SessionStatus::STATUS_AUTHED' data-ref="SessionStatus::STATUS_AUTHED" >STATUS_AUTHED</a>:</td></tr>
<tr><th id="402">402</th><td>                    <i>// prevent cheating with skip queue wait</i></td></tr>
<tr><th id="403">403</th><td>                    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::m_inQueue" title='WorldSession::m_inQueue' data-ref="WorldSession::m_inQueue" id="WorldSession::m_inQueue" >m_inQueue</a>)</td></tr>
<tr><th id="404">404</th><td>                    {</td></tr>
<tr><th id="405">405</th><td>                        <a class="member" href="#_ZN12WorldSession19LogUnexpectedOpcodeEP11WorldPacketPKcS3_" title='WorldSession::LogUnexpectedOpcode' data-ref="_ZN12WorldSession19LogUnexpectedOpcodeEP11WorldPacketPKcS3_" >LogUnexpectedOpcode</a>(<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>, <q>"STATUS_AUTHED"</q>, <q>"the player not pass queue yet"</q>);</td></tr>
<tr><th id="406">406</th><td>                        <b>break</b>;</td></tr>
<tr><th id="407">407</th><td>                    }</td></tr>
<tr><th id="408">408</th><td></td></tr>
<tr><th id="409">409</th><td>                    <i>// some auth opcodes can be recieved before STATUS_LOGGEDIN_OR_RECENTLY_LOGGOUT opcodes</i></td></tr>
<tr><th id="410">410</th><td><i>                    // however when we recieve CMSG_CHAR_ENUM we are surely no longer during the logout process.</i></td></tr>
<tr><th id="411">411</th><td>                    <b>if</b> (<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a>() == <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_ENUM_CHARACTERS" title='OpcodeClient::CMSG_ENUM_CHARACTERS' data-ref="OpcodeClient::CMSG_ENUM_CHARACTERS" id="OpcodeClient::CMSG_ENUM_CHARACTERS" >CMSG_ENUM_CHARACTERS</a>)</td></tr>
<tr><th id="412">412</th><td>                        <a class="member" href="WorldSession.h.html#WorldSession::m_playerRecentlyLogout" title='WorldSession::m_playerRecentlyLogout' data-ref="WorldSession::m_playerRecentlyLogout" id="WorldSession::m_playerRecentlyLogout" >m_playerRecentlyLogout</a> = <b>false</b>;</td></tr>
<tr><th id="413">413</th><td></td></tr>
<tr><th id="414">414</th><td>                    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::AntiDOS" title='WorldSession::AntiDOS' data-ref="WorldSession::AntiDOS" id="WorldSession::AntiDOS" >AntiDOS</a>.<a class="ref" href="#_ZNK12WorldSession13DosProtection14EvaluateOpcodeER11WorldPacketl" title='WorldSession::DosProtection::EvaluateOpcode' data-ref="_ZNK12WorldSession13DosProtection14EvaluateOpcodeER11WorldPacketl" >EvaluateOpcode</a>(*<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>, <a class="local col3 ref" href="#93currentTime" title='currentTime' data-ref="93currentTime" >currentTime</a>))</td></tr>
<tr><th id="415">415</th><td>                    {</td></tr>
<tr><th id="416">416</th><td>                        <a class="macro" href="../Scripting/ScriptMgr.h.html#841" title="ScriptMgr::instance()" data-ref="_M/sScriptMgr">sScriptMgr</a>-&gt;<a class="ref" href="../Scripting/ScriptMgr.h.html#_ZN9ScriptMgr15OnPacketReceiveEP12WorldSessionRK11WorldPacket" title='ScriptMgr::OnPacketReceive' data-ref="_ZN9ScriptMgr15OnPacketReceiveEP12WorldSessionRK11WorldPacket" id="_ZN9ScriptMgr15OnPacketReceiveEP12WorldSessionRK11WorldPacket" >OnPacketReceive</a>(<b>this</b>, *<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>);</td></tr>
<tr><th id="417">417</th><td>                        <a class="local col4 ref" href="#94opHandle" title='opHandle' data-ref="94opHandle" >opHandle</a>-&gt;<a class="virtual ref" href="Protocol/Opcodes.h.html#_ZNK19ClientOpcodeHandler4CallEP12WorldSessionR11WorldPacket" title='ClientOpcodeHandler::Call' data-ref="_ZNK19ClientOpcodeHandler4CallEP12WorldSessionR11WorldPacket" id="_ZNK19ClientOpcodeHandler4CallEP12WorldSessionR11WorldPacket" >Call</a>(<b>this</b>, *<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>);</td></tr>
<tr><th id="418">418</th><td>                        <a class="member" href="#_ZN12WorldSession18LogUnprocessedTailEP11WorldPacket" title='WorldSession::LogUnprocessedTail' data-ref="_ZN12WorldSession18LogUnprocessedTailEP11WorldPacket" >LogUnprocessedTail</a>(<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>);</td></tr>
<tr><th id="419">419</th><td>                    }</td></tr>
<tr><th id="420">420</th><td>                    <b>break</b>;</td></tr>
<tr><th id="421">421</th><td>                <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#SessionStatus::STATUS_NEVER" title='SessionStatus::STATUS_NEVER' data-ref="SessionStatus::STATUS_NEVER" >STATUS_NEVER</a>:</td></tr>
<tr><th id="422">422</th><td>                        <a class="macro" href="../../../common/Logging/Log.h.html#211" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network.opcode&quot;, LOG_LEVEL_ERROR)) { if (false) check_args(&quot;Received not allowed opcode %s from %s&quot;, GetOpcodeNameForLogging(static_cast&lt;OpcodeClient&gt;(packet-&gt;GetOpcode())).c_str() , GetPlayerInfo().c_str()); { try { Log::instance()-&gt;outMessage(&quot;network.opcode&quot;, LOG_LEVEL_ERROR, &quot;Received not allowed opcode %s from %s&quot;, GetOpcodeNameForLogging(static_cast&lt;OpcodeClient&gt;(packet-&gt;GetOpcode())).c_str() , GetPlayerInfo().c_str()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 423); } }; } } while (0)" data-ref="_M/TC_LOG_ERROR">TC_LOG_ERROR</a>(<q>"network.opcode"</q>, <q>"Received not allowed opcode %s from %s"</q>, <a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" ><a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" >GetOpcodeNameForLogging</a></a>(<b>static_cast</b>&lt;<a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" ><a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" >OpcodeClient</a></a>&gt;(<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" ><a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a></a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a></a>())).<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>()</td></tr>
<tr><th id="423">423</th><td>                            , <a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" ><a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" >GetPlayerInfo</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>());</td></tr>
<tr><th id="424">424</th><td>                    <b>break</b>;</td></tr>
<tr><th id="425">425</th><td>                <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#SessionStatus::STATUS_UNHANDLED" title='SessionStatus::STATUS_UNHANDLED' data-ref="SessionStatus::STATUS_UNHANDLED" >STATUS_UNHANDLED</a>:</td></tr>
<tr><th id="426">426</th><td>                        <a class="macro" href="../../../common/Logging/Log.h.html#211" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network.opcode&quot;, LOG_LEVEL_ERROR)) { if (false) check_args(&quot;Received not handled opcode %s from %s&quot;, GetOpcodeNameForLogging(static_cast&lt;OpcodeClient&gt;(packet-&gt;GetOpcode())).c_str() , GetPlayerInfo().c_str()); { try { Log::instance()-&gt;outMessage(&quot;network.opcode&quot;, LOG_LEVEL_ERROR, &quot;Received not handled opcode %s from %s&quot;, GetOpcodeNameForLogging(static_cast&lt;OpcodeClient&gt;(packet-&gt;GetOpcode())).c_str() , GetPlayerInfo().c_str()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 427); } }; } } while (0)" data-ref="_M/TC_LOG_ERROR">TC_LOG_ERROR</a>(<q>"network.opcode"</q>, <q>"Received not handled opcode %s from %s"</q>, <a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" ><a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" >GetOpcodeNameForLogging</a></a>(<b>static_cast</b>&lt;<a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" ><a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" >OpcodeClient</a></a>&gt;(<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" ><a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a></a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a></a>())).<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>()</td></tr>
<tr><th id="427">427</th><td>                            , <a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" ><a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" >GetPlayerInfo</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>());</td></tr>
<tr><th id="428">428</th><td>                    <b>break</b>;</td></tr>
<tr><th id="429">429</th><td>            }</td></tr>
<tr><th id="430">430</th><td>        }</td></tr>
<tr><th id="431">431</th><td>        <b>catch</b> (<span class="namespace">WorldPackets::</span><a class="type" href="Packets/PacketUtilities.h.html#WorldPackets::PacketArrayMaxCapacityException" title='WorldPackets::PacketArrayMaxCapacityException' data-ref="WorldPackets::PacketArrayMaxCapacityException" >PacketArrayMaxCapacityException</a> <em>const</em>&amp; <dfn class="local col5 decl" id="95pamce" title='pamce' data-type='const WorldPackets::PacketArrayMaxCapacityException &amp;' data-ref="95pamce" >pamce</dfn>)</td></tr>
<tr><th id="432">432</th><td>        {</td></tr>
<tr><th id="433">433</th><td>            <a class="macro" href="../../../common/Logging/Log.h.html#211" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network&quot;, LOG_LEVEL_ERROR)) { if (false) check_args(&quot;PacketArrayMaxCapacityException: %s while parsing %s from %s.&quot;, pamce.what(), GetOpcodeNameForLogging(static_cast&lt;OpcodeClient&gt;(packet-&gt;GetOpcode())).c_str(), GetPlayerInfo().c_str()); { try { Log::instance()-&gt;outMessage(&quot;network&quot;, LOG_LEVEL_ERROR, &quot;PacketArrayMaxCapacityException: %s while parsing %s from %s.&quot;, pamce.what(), GetOpcodeNameForLogging(static_cast&lt;OpcodeClient&gt;(packet-&gt;GetOpcode())).c_str(), GetPlayerInfo().c_str()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 434); } }; } } while (0)" data-ref="_M/TC_LOG_ERROR">TC_LOG_ERROR</a>(<q>"network"</q>, <q>"PacketArrayMaxCapacityException: %s while parsing %s from %s."</q>,</td></tr>
<tr><th id="434">434</th><td>                <a class="local col5 ref" href="#95pamce" title='pamce' data-ref="95pamce" ><a class="local col5 ref" href="#95pamce" title='pamce' data-ref="95pamce" >pamce</a></a>.<a class="virtual ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK19ByteBufferException4whatEv" title='ByteBufferException::what' data-ref="_ZNK19ByteBufferException4whatEv" id="_ZNK19ByteBufferException4whatEv" ><a class="virtual ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK19ByteBufferException4whatEv" title='ByteBufferException::what' data-ref="_ZNK19ByteBufferException4whatEv" id="_ZNK19ByteBufferException4whatEv" >what</a></a>(), <a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" ><a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" >GetOpcodeNameForLogging</a></a>(<b>static_cast</b>&lt;<a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" ><a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" >OpcodeClient</a></a>&gt;(<a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" ><a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a></a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a></a>())).<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" ><a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" >GetPlayerInfo</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>());</td></tr>
<tr><th id="435">435</th><td>        }</td></tr>
<tr><th id="436">436</th><td>        <b>catch</b> (<a class="type" href="../../shared/Packets/ByteBuffer.h.html#ByteBufferException" title='ByteBufferException' data-ref="ByteBufferException" >ByteBufferException</a> <em>const</em>&amp;)</td></tr>
<tr><th id="437">437</th><td>        {</td></tr>
<tr><th id="438">438</th><td>            <a class="macro" href="../../../common/Logging/Log.h.html#211" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network&quot;, LOG_LEVEL_ERROR)) { if (false) check_args(&quot;WorldSession::Update ByteBufferException occured while parsing a packet (opcode: %u) from client %s, accountid=%i. Skipped packet.&quot;, packet-&gt;GetOpcode(), GetRemoteAddress().c_str(), GetAccountId()); { try { Log::instance()-&gt;outMessage(&quot;network&quot;, LOG_LEVEL_ERROR, &quot;WorldSession::Update ByteBufferException occured while parsing a packet (opcode: %u) from client %s, accountid=%i. Skipped packet.&quot;, packet-&gt;GetOpcode(), GetRemoteAddress().c_str(), GetAccountId()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 439); } }; } } while (0)" data-ref="_M/TC_LOG_ERROR">TC_LOG_ERROR</a>(<q>"network"</q>, <q>"WorldSession::Update ByteBufferException occured while parsing a packet (opcode: %u) from client %s, accountid=%i. Skipped packet."</q>,</td></tr>
<tr><th id="439">439</th><td>                    <a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" ><a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a></a>-&gt;<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a></a>(), <a class="member" href="WorldSession.h.html#_ZNK12WorldSession16GetRemoteAddressEv" title='WorldSession::GetRemoteAddress' data-ref="_ZNK12WorldSession16GetRemoteAddressEv" id="_ZNK12WorldSession16GetRemoteAddressEv" ><a class="member" href="WorldSession.h.html#_ZNK12WorldSession16GetRemoteAddressEv" title='WorldSession::GetRemoteAddress' data-ref="_ZNK12WorldSession16GetRemoteAddressEv" id="_ZNK12WorldSession16GetRemoteAddressEv" >GetRemoteAddress</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" ><a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a></a>());</td></tr>
<tr><th id="440">440</th><td>            <a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>-&gt;<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer7hexlikeEv" title='ByteBuffer::hexlike' data-ref="_ZNK10ByteBuffer7hexlikeEv" id="_ZNK10ByteBuffer7hexlikeEv" >hexlike</a>();</td></tr>
<tr><th id="441">441</th><td>        }</td></tr>
<tr><th id="442">442</th><td></td></tr>
<tr><th id="443">443</th><td>        <b>if</b> (<a class="local col0 ref" href="#90deletePacket" title='deletePacket' data-ref="90deletePacket" >deletePacket</a>)</td></tr>
<tr><th id="444">444</th><td>            <b>delete</b> <a class="local col9 ref" href="#89packet" title='packet' data-ref="89packet" >packet</a>;</td></tr>
<tr><th id="445">445</th><td></td></tr>
<tr><th id="446">446</th><td>        <a class="local col0 ref" href="#90deletePacket" title='deletePacket' data-ref="90deletePacket" >deletePacket</a> = <b>true</b>;</td></tr>
<tr><th id="447">447</th><td></td></tr>
<tr><th id="448">448</th><td><u>#define <dfn class="macro" id="_M/MAX_PROCESSED_PACKETS_IN_SAME_WORLDSESSION_UPDATE" data-ref="_M/MAX_PROCESSED_PACKETS_IN_SAME_WORLDSESSION_UPDATE">MAX_PROCESSED_PACKETS_IN_SAME_WORLDSESSION_UPDATE</dfn> 100</u></td></tr>
<tr><th id="449">449</th><td>        <a class="local col2 ref" href="#92processedPackets" title='processedPackets' data-ref="92processedPackets" >processedPackets</a>++;</td></tr>
<tr><th id="450">450</th><td></td></tr>
<tr><th id="451">451</th><td>        <i>//process only a max amout of packets in 1 Update() call.</i></td></tr>
<tr><th id="452">452</th><td><i>        //Any leftover will be processed in next update</i></td></tr>
<tr><th id="453">453</th><td>        <b>if</b> (<a class="local col2 ref" href="#92processedPackets" title='processedPackets' data-ref="92processedPackets" >processedPackets</a> &gt; <a class="macro" href="#448" title="100" data-ref="_M/MAX_PROCESSED_PACKETS_IN_SAME_WORLDSESSION_UPDATE">MAX_PROCESSED_PACKETS_IN_SAME_WORLDSESSION_UPDATE</a>)</td></tr>
<tr><th id="454">454</th><td>            <b>break</b>;</td></tr>
<tr><th id="455">455</th><td>    }</td></tr>
<tr><th id="456">456</th><td></td></tr>
<tr><th id="457">457</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_recvQueue" title='WorldSession::_recvQueue' data-ref="WorldSession::_recvQueue" id="WorldSession::_recvQueue" >_recvQueue</a>.<a class="ref" href="../../../common/Threading/LockedQueue.h.html#_ZN11LockedQueueIP11WorldPacketSt5dequeIS1_SaIS1_EEE5readdET_S6_" title='LockedQueue&lt;WorldPacket *, std::deque&lt;WorldPacket *, std::allocator&lt;WorldPacket *&gt; &gt; &gt;::readd' data-ref="_ZN11LockedQueueIP11WorldPacketSt5dequeIS1_SaIS1_EEE5readdET_S6_" id="_ZN11LockedQueueIP11WorldPacketSt5dequeIS1_SaIS1_EEE5readdET_S6_" >readd</a>(<a class="local col1 ref" href="#91requeuePackets" title='requeuePackets' data-ref="91requeuePackets" >requeuePackets</a>.<a class="ref" href="../../../../../include/c++/4.9/bits/stl_vector.h.html#_ZNSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNSt6vector5beginEv" id="_ZNSt6vector5beginEv" >begin</a>(), <a class="local col1 ref" href="#91requeuePackets" title='requeuePackets' data-ref="91requeuePackets" >requeuePackets</a>.<a class="ref" href="../../../../../include/c++/4.9/bits/stl_vector.h.html#_ZNSt6vector3endEv" title='std::vector::end' data-ref="_ZNSt6vector3endEv" id="_ZNSt6vector3endEv" >end</a>());</td></tr>
<tr><th id="458">458</th><td></td></tr>
<tr><th id="459">459</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_REALM" title='ConnectionType::CONNECTION_TYPE_REALM' data-ref="ConnectionType::CONNECTION_TYPE_REALM" id="ConnectionType::CONNECTION_TYPE_REALM" >CONNECTION_TYPE_REALM</a>] &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_REALM" title='ConnectionType::CONNECTION_TYPE_REALM' data-ref="ConnectionType::CONNECTION_TYPE_REALM" >CONNECTION_TYPE_REALM</a>]<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv" id="_ZNKSt12__shared_ptrptEv" >-&gt;</a><a class="ref" href="../../shared/Networking/Socket.h.html#_ZNK6Socket6IsOpenEv" title='Socket::IsOpen' data-ref="_ZNK6Socket6IsOpenEv" id="_ZNK6Socket6IsOpenEv" >IsOpen</a>() &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::_warden" title='WorldSession::_warden' data-ref="WorldSession::_warden" id="WorldSession::_warden" >_warden</a>)</td></tr>
<tr><th id="460">460</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_warden" title='WorldSession::_warden' data-ref="WorldSession::_warden" id="WorldSession::_warden" >_warden</a>-&gt;<a class="ref" href="../Warden/Warden.h.html#_ZN6Warden6UpdateEv" title='Warden::Update' data-ref="_ZN6Warden6UpdateEv" id="_ZN6Warden6UpdateEv" >Update</a>();</td></tr>
<tr><th id="461">461</th><td></td></tr>
<tr><th id="462">462</th><td>    <a class="member" href="#_ZN12WorldSession21ProcessQueryCallbacksEv" title='WorldSession::ProcessQueryCallbacks' data-ref="_ZN12WorldSession21ProcessQueryCallbacksEv" >ProcessQueryCallbacks</a>();</td></tr>
<tr><th id="463">463</th><td></td></tr>
<tr><th id="464">464</th><td>    <i>//check if we are safe to proceed with logout</i></td></tr>
<tr><th id="465">465</th><td><i>    //logout procedure should happen only in World::UpdateSessions() method!!!</i></td></tr>
<tr><th id="466">466</th><td>    <b>if</b> (<a class="local col8 ref" href="#88updater" title='updater' data-ref="88updater" >updater</a>.<a class="virtual ref" href="WorldSession.h.html#_ZNK12PacketFilter13ProcessUnsafeEv" title='PacketFilter::ProcessUnsafe' data-ref="_ZNK12PacketFilter13ProcessUnsafeEv" id="_ZNK12PacketFilter13ProcessUnsafeEv" >ProcessUnsafe</a>())</td></tr>
<tr><th id="467">467</th><td>    {</td></tr>
<tr><th id="468">468</th><td>        <a class="typedef" href="../../../../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t" >time_t</a> <dfn class="local col6 decl" id="96currTime" title='currTime' data-type='time_t' data-ref="96currTime" >currTime</dfn> = <a class="ref" href="../../../../../include/time.h.html#time" title='time' data-ref="time" id="time" >time</a>(<span class="macro" title="__null" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="469">469</th><td>        <i class="doc">///- If necessary, log the player out</i></td></tr>
<tr><th id="470">470</th><td>        <b>if</b> (<a class="member" href="WorldSession.h.html#_ZNK12WorldSession12ShouldLogOutEl" title='WorldSession::ShouldLogOut' data-ref="_ZNK12WorldSession12ShouldLogOutEl" id="_ZNK12WorldSession12ShouldLogOutEl" >ShouldLogOut</a>(<a class="local col6 ref" href="#96currTime" title='currTime' data-ref="96currTime" >currTime</a>) &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::m_playerLoading" title='WorldSession::m_playerLoading' data-ref="WorldSession::m_playerLoading" id="WorldSession::m_playerLoading" >m_playerLoading</a>.<a class="ref" href="../Entities/Object/ObjectGuid.h.html#_ZNK10ObjectGuid7IsEmptyEv" title='ObjectGuid::IsEmpty' data-ref="_ZNK10ObjectGuid7IsEmptyEv" id="_ZNK10ObjectGuid7IsEmptyEv" >IsEmpty</a>())</td></tr>
<tr><th id="471">471</th><td>            <a class="member" href="#_ZN12WorldSession12LogoutPlayerEb" title='WorldSession::LogoutPlayer' data-ref="_ZN12WorldSession12LogoutPlayerEb" >LogoutPlayer</a>(<b>true</b>);</td></tr>
<tr><th id="472">472</th><td></td></tr>
<tr><th id="473">473</th><td>        <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_REALM" title='ConnectionType::CONNECTION_TYPE_REALM' data-ref="ConnectionType::CONNECTION_TYPE_REALM" id="ConnectionType::CONNECTION_TYPE_REALM" >CONNECTION_TYPE_REALM</a>] &amp;&amp; <a class="member" href="WorldSession.h.html#_ZNK12WorldSession9GetPlayerEv" title='WorldSession::GetPlayer' data-ref="_ZNK12WorldSession9GetPlayerEv" id="_ZNK12WorldSession9GetPlayerEv" >GetPlayer</a>() &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::_warden" title='WorldSession::_warden' data-ref="WorldSession::_warden" id="WorldSession::_warden" >_warden</a>)</td></tr>
<tr><th id="474">474</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_warden" title='WorldSession::_warden' data-ref="WorldSession::_warden" id="WorldSession::_warden" >_warden</a>-&gt;<a class="ref" href="../Warden/Warden.h.html#_ZN6Warden6UpdateEv" title='Warden::Update' data-ref="_ZN6Warden6UpdateEv" id="_ZN6Warden6UpdateEv" >Update</a>();</td></tr>
<tr><th id="475">475</th><td></td></tr>
<tr><th id="476">476</th><td>        <i class="doc">///- Cleanup socket pointer if need</i></td></tr>
<tr><th id="477">477</th><td>        <b>if</b> ((<a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_REALM" title='ConnectionType::CONNECTION_TYPE_REALM' data-ref="ConnectionType::CONNECTION_TYPE_REALM" id="ConnectionType::CONNECTION_TYPE_REALM" >CONNECTION_TYPE_REALM</a>] &amp;&amp; !<a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_REALM" title='ConnectionType::CONNECTION_TYPE_REALM' data-ref="ConnectionType::CONNECTION_TYPE_REALM" >CONNECTION_TYPE_REALM</a>]<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv" id="_ZNKSt12__shared_ptrptEv" >-&gt;</a><a class="ref" href="../../shared/Networking/Socket.h.html#_ZNK6Socket6IsOpenEv" title='Socket::IsOpen' data-ref="_ZNK6Socket6IsOpenEv" id="_ZNK6Socket6IsOpenEv" >IsOpen</a>()) ||</td></tr>
<tr><th id="478">478</th><td>            (<a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_INSTANCE" title='ConnectionType::CONNECTION_TYPE_INSTANCE' data-ref="ConnectionType::CONNECTION_TYPE_INSTANCE" id="ConnectionType::CONNECTION_TYPE_INSTANCE" >CONNECTION_TYPE_INSTANCE</a>] &amp;&amp; !<a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_INSTANCE" title='ConnectionType::CONNECTION_TYPE_INSTANCE' data-ref="ConnectionType::CONNECTION_TYPE_INSTANCE" >CONNECTION_TYPE_INSTANCE</a>]<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv" id="_ZNKSt12__shared_ptrptEv" >-&gt;</a><a class="ref" href="../../shared/Networking/Socket.h.html#_ZNK6Socket6IsOpenEv" title='Socket::IsOpen' data-ref="_ZNK6Socket6IsOpenEv" id="_ZNK6Socket6IsOpenEv" >IsOpen</a>()))</td></tr>
<tr><th id="479">479</th><td>        {</td></tr>
<tr><th id="480">480</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::expireTime" title='WorldSession::expireTime' data-ref="WorldSession::expireTime" id="WorldSession::expireTime" >expireTime</a> -= <a class="member" href="WorldSession.h.html#WorldSession::expireTime" title='WorldSession::expireTime' data-ref="WorldSession::expireTime" id="WorldSession::expireTime" >expireTime</a> &gt; <a class="local col7 ref" href="#87diff" title='diff' data-ref="87diff" >diff</a> ? <a class="local col7 ref" href="#87diff" title='diff' data-ref="87diff" >diff</a> : <a class="member" href="WorldSession.h.html#WorldSession::expireTime" title='WorldSession::expireTime' data-ref="WorldSession::expireTime" id="WorldSession::expireTime" >expireTime</a>;</td></tr>
<tr><th id="481">481</th><td>            <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::expireTime" title='WorldSession::expireTime' data-ref="WorldSession::expireTime" id="WorldSession::expireTime" >expireTime</a> &lt; <a class="local col7 ref" href="#87diff" title='diff' data-ref="87diff" >diff</a> || <a class="member" href="WorldSession.h.html#WorldSession::forceExit" title='WorldSession::forceExit' data-ref="WorldSession::forceExit" id="WorldSession::forceExit" >forceExit</a> || !<a class="member" href="WorldSession.h.html#_ZNK12WorldSession9GetPlayerEv" title='WorldSession::GetPlayer' data-ref="_ZNK12WorldSession9GetPlayerEv" id="_ZNK12WorldSession9GetPlayerEv" >GetPlayer</a>())</td></tr>
<tr><th id="482">482</th><td>            {</td></tr>
<tr><th id="483">483</th><td>                <a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_REALM" title='ConnectionType::CONNECTION_TYPE_REALM' data-ref="ConnectionType::CONNECTION_TYPE_REALM" id="ConnectionType::CONNECTION_TYPE_REALM" >CONNECTION_TYPE_REALM</a>].<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNSt12__shared_ptr5resetEv" title='std::__shared_ptr::reset' data-ref="_ZNSt12__shared_ptr5resetEv" id="_ZNSt12__shared_ptr5resetEv" >reset</a>();</td></tr>
<tr><th id="484">484</th><td>                <a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_INSTANCE" title='ConnectionType::CONNECTION_TYPE_INSTANCE' data-ref="ConnectionType::CONNECTION_TYPE_INSTANCE" id="ConnectionType::CONNECTION_TYPE_INSTANCE" >CONNECTION_TYPE_INSTANCE</a>].<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNSt12__shared_ptr5resetEv" title='std::__shared_ptr::reset' data-ref="_ZNSt12__shared_ptr5resetEv" id="_ZNSt12__shared_ptr5resetEv" >reset</a>();</td></tr>
<tr><th id="485">485</th><td>            }</td></tr>
<tr><th id="486">486</th><td>        }</td></tr>
<tr><th id="487">487</th><td></td></tr>
<tr><th id="488">488</th><td>        <b>if</b> (!<a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_REALM" title='ConnectionType::CONNECTION_TYPE_REALM' data-ref="ConnectionType::CONNECTION_TYPE_REALM" id="ConnectionType::CONNECTION_TYPE_REALM" >CONNECTION_TYPE_REALM</a>])</td></tr>
<tr><th id="489">489</th><td>            <b>return</b> <b>false</b>;                                       <i>//Will remove this session from the world session map</i></td></tr>
<tr><th id="490">490</th><td>    }</td></tr>
<tr><th id="491">491</th><td></td></tr>
<tr><th id="492">492</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="493">493</th><td>}</td></tr>
<tr><th id="494">494</th><td></td></tr>
<tr><th id="495">495</th><td><i class="doc">/// %Log the player out</i></td></tr>
<tr><th id="496">496</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession12LogoutPlayerEb" title='WorldSession::LogoutPlayer' data-ref="_ZN12WorldSession12LogoutPlayerEb" >LogoutPlayer</dfn>(<em>bool</em> <dfn class="local col7 decl" id="97save" title='save' data-type='bool' data-ref="97save" >save</dfn>)</td></tr>
<tr><th id="497">497</th><td>{</td></tr>
<tr><th id="498">498</th><td>    <i>// finish pending transfers before starting the logout</i></td></tr>
<tr><th id="499">499</th><td>    <b>while</b> (<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a> &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZNK6Player20IsBeingTeleportedFarEv" title='Player::IsBeingTeleportedFar' data-ref="_ZNK6Player20IsBeingTeleportedFarEv" id="_ZNK6Player20IsBeingTeleportedFarEv" >IsBeingTeleportedFar</a>())</td></tr>
<tr><th id="500">500</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession28HandleMoveWorldportAckOpcodeEv" title='WorldSession::HandleMoveWorldportAckOpcode' data-ref="_ZN12WorldSession28HandleMoveWorldportAckOpcodeEv" id="_ZN12WorldSession28HandleMoveWorldportAckOpcodeEv" >HandleMoveWorldportAckOpcode</a>();</td></tr>
<tr><th id="501">501</th><td></td></tr>
<tr><th id="502">502</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_playerLogout" title='WorldSession::m_playerLogout' data-ref="WorldSession::m_playerLogout" id="WorldSession::m_playerLogout" >m_playerLogout</a> = <b>true</b>;</td></tr>
<tr><th id="503">503</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_playerSave" title='WorldSession::m_playerSave' data-ref="WorldSession::m_playerSave" id="WorldSession::m_playerSave" >m_playerSave</a> = <a class="local col7 ref" href="#97save" title='save' data-ref="97save" >save</a>;</td></tr>
<tr><th id="504">504</th><td></td></tr>
<tr><th id="505">505</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>)</td></tr>
<tr><th id="506">506</th><td>    {</td></tr>
<tr><th id="507">507</th><td>        <a class="type" href="../Entities/Object/ObjectGuid.h.html#ObjectGuid" title='ObjectGuid' data-ref="ObjectGuid" >ObjectGuid</a> <dfn class="local col8 decl" id="98lguid" title='lguid' data-type='ObjectGuid' data-ref="98lguid" >lguid</dfn> = <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZNK6Player11GetLootGUIDEv" title='Player::GetLootGUID' data-ref="_ZNK6Player11GetLootGUIDEv" id="_ZNK6Player11GetLootGUIDEv" >GetLootGUID</a>();</td></tr>
<tr><th id="508">508</th><td>        <b>if</b> (!<a class="local col8 ref" href="#98lguid" title='lguid' data-ref="98lguid" >lguid</a>.<a class="ref" href="../Entities/Object/ObjectGuid.h.html#_ZNK10ObjectGuid7IsEmptyEv" title='ObjectGuid::IsEmpty' data-ref="_ZNK10ObjectGuid7IsEmptyEv" id="_ZNK10ObjectGuid7IsEmptyEv" >IsEmpty</a>())</td></tr>
<tr><th id="509">509</th><td>            <a class="member" href="WorldSession.h.html#_ZN12WorldSession13DoLootReleaseE10ObjectGuid" title='WorldSession::DoLootRelease' data-ref="_ZN12WorldSession13DoLootReleaseE10ObjectGuid" id="_ZN12WorldSession13DoLootReleaseE10ObjectGuid" >DoLootRelease</a>(<a class="local col8 ref" href="#98lguid" title='lguid' data-ref="98lguid" >lguid</a>);</td></tr>
<tr><th id="510">510</th><td></td></tr>
<tr><th id="511">511</th><td>        <i class="doc">///- If the player just died before logging out, make him appear as a ghost</i></td></tr>
<tr><th id="512">512</th><td>        <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZNK6Player13GetDeathTimerEv" title='Player::GetDeathTimer' data-ref="_ZNK6Player13GetDeathTimerEv" id="_ZNK6Player13GetDeathTimerEv" >GetDeathTimer</a>())</td></tr>
<tr><th id="513">513</th><td>        {</td></tr>
<tr><th id="514">514</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Unit/Unit.h.html#_ZN4Unit20getHostileRefManagerEv" title='Unit::getHostileRefManager' data-ref="_ZN4Unit20getHostileRefManagerEv" id="_ZN4Unit20getHostileRefManagerEv" >getHostileRefManager</a>().<a class="ref" href="../Combat/HostileRefManager.h.html#_ZN17HostileRefManager16deleteReferencesEv" title='HostileRefManager::deleteReferences' data-ref="_ZN17HostileRefManager16deleteReferencesEv" id="_ZN17HostileRefManager16deleteReferencesEv" >deleteReferences</a>();</td></tr>
<tr><th id="515">515</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player16BuildPlayerRepopEv" title='Player::BuildPlayerRepop' data-ref="_ZN6Player16BuildPlayerRepopEv" id="_ZN6Player16BuildPlayerRepopEv" >BuildPlayerRepop</a>();</td></tr>
<tr><th id="516">516</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player16RepopAtGraveyardEv" title='Player::RepopAtGraveyard' data-ref="_ZN6Player16RepopAtGraveyardEv" id="_ZN6Player16RepopAtGraveyardEv" >RepopAtGraveyard</a>();</td></tr>
<tr><th id="517">517</th><td>        }</td></tr>
<tr><th id="518">518</th><td>        <b>else</b> <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Unit/Unit.h.html#_ZNK4Unit11HasAuraTypeE8AuraType" title='Unit::HasAuraType' data-ref="_ZNK4Unit11HasAuraTypeE8AuraType" id="_ZNK4Unit11HasAuraTypeE8AuraType" >HasAuraType</a>(<a class="enum" href="../Spells/Auras/SpellAuraDefines.h.html#AuraType::SPELL_AURA_SPIRIT_OF_REDEMPTION" title='AuraType::SPELL_AURA_SPIRIT_OF_REDEMPTION' data-ref="AuraType::SPELL_AURA_SPIRIT_OF_REDEMPTION" id="AuraType::SPELL_AURA_SPIRIT_OF_REDEMPTION" >SPELL_AURA_SPIRIT_OF_REDEMPTION</a>))</td></tr>
<tr><th id="519">519</th><td>        {</td></tr>
<tr><th id="520">520</th><td>            <i>// this will kill character by SPELL_AURA_SPIRIT_OF_REDEMPTION</i></td></tr>
<tr><th id="521">521</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Unit/Unit.h.html#_ZN4Unit17RemoveAurasByTypeE8AuraType10ObjectGuidP4Aurabb" title='Unit::RemoveAurasByType' data-ref="_ZN4Unit17RemoveAurasByTypeE8AuraType10ObjectGuidP4Aurabb" id="_ZN4Unit17RemoveAurasByTypeE8AuraType10ObjectGuidP4Aurabb" >RemoveAurasByType</a>(<a class="enum" href="../Spells/Auras/SpellAuraDefines.h.html#AuraType::SPELL_AURA_MOD_SHAPESHIFT" title='AuraType::SPELL_AURA_MOD_SHAPESHIFT' data-ref="AuraType::SPELL_AURA_MOD_SHAPESHIFT" id="AuraType::SPELL_AURA_MOD_SHAPESHIFT" >SPELL_AURA_MOD_SHAPESHIFT</a>);</td></tr>
<tr><th id="522">522</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player10KillPlayerEv" title='Player::KillPlayer' data-ref="_ZN6Player10KillPlayerEv" id="_ZN6Player10KillPlayerEv" >KillPlayer</a>();</td></tr>
<tr><th id="523">523</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player16BuildPlayerRepopEv" title='Player::BuildPlayerRepop' data-ref="_ZN6Player16BuildPlayerRepopEv" id="_ZN6Player16BuildPlayerRepopEv" >BuildPlayerRepop</a>();</td></tr>
<tr><th id="524">524</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player16RepopAtGraveyardEv" title='Player::RepopAtGraveyard' data-ref="_ZN6Player16RepopAtGraveyardEv" id="_ZN6Player16RepopAtGraveyardEv" >RepopAtGraveyard</a>();</td></tr>
<tr><th id="525">525</th><td>        }</td></tr>
<tr><th id="526">526</th><td>        <b>else</b> <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZNK6Player14HasPendingBindEv" title='Player::HasPendingBind' data-ref="_ZNK6Player14HasPendingBindEv" id="_ZNK6Player14HasPendingBindEv" >HasPendingBind</a>())</td></tr>
<tr><th id="527">527</th><td>        {</td></tr>
<tr><th id="528">528</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player16RepopAtGraveyardEv" title='Player::RepopAtGraveyard' data-ref="_ZN6Player16RepopAtGraveyardEv" id="_ZN6Player16RepopAtGraveyardEv" >RepopAtGraveyard</a>();</td></tr>
<tr><th id="529">529</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player14SetPendingBindEjj" title='Player::SetPendingBind' data-ref="_ZN6Player14SetPendingBindEjj" id="_ZN6Player14SetPendingBindEjj" >SetPendingBind</a>(<var>0</var>, <var>0</var>);</td></tr>
<tr><th id="530">530</th><td>        }</td></tr>
<tr><th id="531">531</th><td></td></tr>
<tr><th id="532">532</th><td>        <i>//drop a flag if player is carrying it</i></td></tr>
<tr><th id="533">533</th><td>        <b>if</b> (<a class="type" href="../Battlegrounds/Battleground.h.html#Battleground" title='Battleground' data-ref="Battleground" >Battleground</a>* <dfn class="local col9 decl" id="99bg" title='bg' data-type='Battleground *' data-ref="99bg" ><a class="local col9 ref" href="#99bg" title='bg' data-ref="99bg" >bg</a></dfn> = <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZNK6Player15GetBattlegroundEv" title='Player::GetBattleground' data-ref="_ZNK6Player15GetBattlegroundEv" id="_ZNK6Player15GetBattlegroundEv" >GetBattleground</a>())</td></tr>
<tr><th id="534">534</th><td>            <a class="local col9 ref" href="#99bg" title='bg' data-ref="99bg" >bg</a>-&gt;<a class="ref" href="../Battlegrounds/Battleground.h.html#_ZN12Battleground20EventPlayerLoggedOutEP6Player" title='Battleground::EventPlayerLoggedOut' data-ref="_ZN12Battleground20EventPlayerLoggedOutEP6Player" id="_ZN12Battleground20EventPlayerLoggedOutEP6Player" >EventPlayerLoggedOut</a>(<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>);</td></tr>
<tr><th id="535">535</th><td></td></tr>
<tr><th id="536">536</th><td>        <i class="doc">///- Teleport to home if the player is in an invalid instance</i></td></tr>
<tr><th id="537">537</th><td>        <b>if</b> (!<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#Player::m_InstanceValid" title='Player::m_InstanceValid' data-ref="Player::m_InstanceValid" id="Player::m_InstanceValid" >m_InstanceValid</a> &amp;&amp; !<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZNK6Player12IsGameMasterEv" title='Player::IsGameMaster' data-ref="_ZNK6Player12IsGameMasterEv" id="_ZNK6Player12IsGameMasterEv" >IsGameMaster</a>())</td></tr>
<tr><th id="538">538</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player10TeleportToEjffffj" title='Player::TeleportTo' data-ref="_ZN6Player10TeleportToEjffffj" id="_ZN6Player10TeleportToEjffffj" >TeleportTo</a>(<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#Player::m_homebindMapId" title='Player::m_homebindMapId' data-ref="Player::m_homebindMapId" id="Player::m_homebindMapId" >m_homebindMapId</a>, <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#Player::m_homebindX" title='Player::m_homebindX' data-ref="Player::m_homebindX" id="Player::m_homebindX" >m_homebindX</a>, <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#Player::m_homebindY" title='Player::m_homebindY' data-ref="Player::m_homebindY" id="Player::m_homebindY" >m_homebindY</a>, <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#Player::m_homebindZ" title='Player::m_homebindZ' data-ref="Player::m_homebindZ" id="Player::m_homebindZ" >m_homebindZ</a>, <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Position.h.html#_ZNK8Position14GetOrientationEv" title='Position::GetOrientation' data-ref="_ZNK8Position14GetOrientationEv" id="_ZNK8Position14GetOrientationEv" >GetOrientation</a>());</td></tr>
<tr><th id="539">539</th><td></td></tr>
<tr><th id="540">540</th><td>        <a class="macro" href="../OutdoorPvP/OutdoorPvPMgr.h.html#109" title="OutdoorPvPMgr::instance()" data-ref="_M/sOutdoorPvPMgr">sOutdoorPvPMgr</a>-&gt;<a class="ref" href="../OutdoorPvP/OutdoorPvPMgr.h.html#_ZN13OutdoorPvPMgr21HandlePlayerLeaveZoneEP6Playerj" title='OutdoorPvPMgr::HandlePlayerLeaveZone' data-ref="_ZN13OutdoorPvPMgr21HandlePlayerLeaveZoneEP6Playerj" id="_ZN13OutdoorPvPMgr21HandlePlayerLeaveZoneEP6Playerj" >HandlePlayerLeaveZone</a>(<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>, <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK11WorldObject9GetZoneIdEv" title='WorldObject::GetZoneId' data-ref="_ZNK11WorldObject9GetZoneIdEv" id="_ZNK11WorldObject9GetZoneIdEv" >GetZoneId</a>());</td></tr>
<tr><th id="541">541</th><td></td></tr>
<tr><th id="542">542</th><td>        <b>for</b> (<em>int</em> <dfn class="local col0 decl" id="100i" title='i' data-type='int' data-ref="100i" >i</dfn>=<var>0</var>; <a class="local col0 ref" href="#100i" title='i' data-ref="100i" >i</a> &lt; <a class="macro" href="../Miscellaneous/SharedDefines.h.html#209" title="2" data-ref="_M/PLAYER_MAX_BATTLEGROUND_QUEUES">PLAYER_MAX_BATTLEGROUND_QUEUES</a>; ++<a class="local col0 ref" href="#100i" title='i' data-ref="100i" >i</a>)</td></tr>
<tr><th id="543">543</th><td>        {</td></tr>
<tr><th id="544">544</th><td>            <b>if</b> (<a class="type" href="../Miscellaneous/SharedDefines.h.html#BattlegroundQueueTypeId" title='BattlegroundQueueTypeId' data-ref="BattlegroundQueueTypeId" >BattlegroundQueueTypeId</a> <dfn class="local col1 decl" id="101bgQueueTypeId" title='bgQueueTypeId' data-type='BattlegroundQueueTypeId' data-ref="101bgQueueTypeId" ><a class="local col1 ref" href="#101bgQueueTypeId" title='bgQueueTypeId' data-ref="101bgQueueTypeId" >bgQueueTypeId</a></dfn> = <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZNK6Player26GetBattlegroundQueueTypeIdEj" title='Player::GetBattlegroundQueueTypeId' data-ref="_ZNK6Player26GetBattlegroundQueueTypeIdEj" id="_ZNK6Player26GetBattlegroundQueueTypeIdEj" >GetBattlegroundQueueTypeId</a>(<a class="local col0 ref" href="#100i" title='i' data-ref="100i" >i</a>))</td></tr>
<tr><th id="545">545</th><td>            {</td></tr>
<tr><th id="546">546</th><td>                <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player25RemoveBattlegroundQueueIdE23BattlegroundQueueTypeId" title='Player::RemoveBattlegroundQueueId' data-ref="_ZN6Player25RemoveBattlegroundQueueIdE23BattlegroundQueueTypeId" id="_ZN6Player25RemoveBattlegroundQueueIdE23BattlegroundQueueTypeId" >RemoveBattlegroundQueueId</a>(<a class="local col1 ref" href="#101bgQueueTypeId" title='bgQueueTypeId' data-ref="101bgQueueTypeId" >bgQueueTypeId</a>);</td></tr>
<tr><th id="547">547</th><td>                <a class="type" href="../Battlegrounds/BattlegroundQueue.h.html#BattlegroundQueue" title='BattlegroundQueue' data-ref="BattlegroundQueue" >BattlegroundQueue</a>&amp; <dfn class="local col2 decl" id="102queue" title='queue' data-type='BattlegroundQueue &amp;' data-ref="102queue" >queue</dfn> = <a class="macro" href="../Battlegrounds/BattlegroundMgr.h.html#185" title="BattlegroundMgr::instance()" data-ref="_M/sBattlegroundMgr">sBattlegroundMgr</a>-&gt;<a class="ref" href="../Battlegrounds/BattlegroundMgr.h.html#_ZN15BattlegroundMgr20GetBattlegroundQueueE23BattlegroundQueueTypeId" title='BattlegroundMgr::GetBattlegroundQueue' data-ref="_ZN15BattlegroundMgr20GetBattlegroundQueueE23BattlegroundQueueTypeId" id="_ZN15BattlegroundMgr20GetBattlegroundQueueE23BattlegroundQueueTypeId" >GetBattlegroundQueue</a>(<a class="local col1 ref" href="#101bgQueueTypeId" title='bgQueueTypeId' data-ref="101bgQueueTypeId" >bgQueueTypeId</a>);</td></tr>
<tr><th id="548">548</th><td>                <a class="local col2 ref" href="#102queue" title='queue' data-ref="102queue" >queue</a>.<a class="ref" href="../Battlegrounds/BattlegroundQueue.h.html#_ZN17BattlegroundQueue12RemovePlayerE10ObjectGuidb" title='BattlegroundQueue::RemovePlayer' data-ref="_ZN17BattlegroundQueue12RemovePlayerE10ObjectGuidb" id="_ZN17BattlegroundQueue12RemovePlayerE10ObjectGuidb" >RemovePlayer</a>(<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK6Object7GetGUIDEv" title='Object::GetGUID' data-ref="_ZNK6Object7GetGUIDEv" id="_ZNK6Object7GetGUIDEv" >GetGUID</a>(), <b>true</b>);</td></tr>
<tr><th id="549">549</th><td>            }</td></tr>
<tr><th id="550">550</th><td>        }</td></tr>
<tr><th id="551">551</th><td></td></tr>
<tr><th id="552">552</th><td>        <i>// Repop at GraveYard or other player far teleport will prevent saving player because of not present map</i></td></tr>
<tr><th id="553">553</th><td><i>        // Teleport player immediately for correct player save</i></td></tr>
<tr><th id="554">554</th><td>        <b>while</b> (<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZNK6Player20IsBeingTeleportedFarEv" title='Player::IsBeingTeleportedFar' data-ref="_ZNK6Player20IsBeingTeleportedFarEv" id="_ZNK6Player20IsBeingTeleportedFarEv" >IsBeingTeleportedFar</a>())</td></tr>
<tr><th id="555">555</th><td>            <a class="member" href="WorldSession.h.html#_ZN12WorldSession28HandleMoveWorldportAckOpcodeEv" title='WorldSession::HandleMoveWorldportAckOpcode' data-ref="_ZN12WorldSession28HandleMoveWorldportAckOpcodeEv" id="_ZN12WorldSession28HandleMoveWorldportAckOpcodeEv" >HandleMoveWorldportAckOpcode</a>();</td></tr>
<tr><th id="556">556</th><td></td></tr>
<tr><th id="557">557</th><td>        <i class="doc">///- If the player is in a guild, update the guild roster and broadcast a logout message to other guild members</i></td></tr>
<tr><th id="558">558</th><td>        <b>if</b> (<a class="type" href="../Guilds/Guild.h.html#Guild" title='Guild' data-ref="Guild" >Guild</a>* <dfn class="local col3 decl" id="103guild" title='guild' data-type='Guild *' data-ref="103guild" ><a class="local col3 ref" href="#103guild" title='guild' data-ref="103guild" >guild</a></dfn> = <a class="macro" href="../Guilds/GuildMgr.h.html#65" title="GuildMgr::instance()" data-ref="_M/sGuildMgr">sGuildMgr</a>-&gt;<a class="ref" href="../Guilds/GuildMgr.h.html#_ZNK8GuildMgr12GetGuildByIdEm" title='GuildMgr::GetGuildById' data-ref="_ZNK8GuildMgr12GetGuildByIdEm" id="_ZNK8GuildMgr12GetGuildByIdEm" >GetGuildById</a>(<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZNK6Player10GetGuildIdEv" title='Player::GetGuildId' data-ref="_ZNK6Player10GetGuildIdEv" id="_ZNK6Player10GetGuildIdEv" >GetGuildId</a>()))</td></tr>
<tr><th id="559">559</th><td>            <a class="local col3 ref" href="#103guild" title='guild' data-ref="103guild" >guild</a>-&gt;<a class="ref" href="../Guilds/Guild.h.html#_ZN5Guild18HandleMemberLogoutEP12WorldSession" title='Guild::HandleMemberLogout' data-ref="_ZN5Guild18HandleMemberLogoutEP12WorldSession" id="_ZN5Guild18HandleMemberLogoutEP12WorldSession" >HandleMemberLogout</a>(<b>this</b>);</td></tr>
<tr><th id="560">560</th><td></td></tr>
<tr><th id="561">561</th><td>        <i class="doc">///- Remove pet</i></td></tr>
<tr><th id="562">562</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player9RemovePetEP3Pet11PetSaveModeb" title='Player::RemovePet' data-ref="_ZN6Player9RemovePetEP3Pet11PetSaveModeb" id="_ZN6Player9RemovePetEP3Pet11PetSaveModeb" >RemovePet</a>(<span class="macro" title="__null" data-ref="_M/NULL">NULL</span>, <a class="enum" href="../Entities/Pet/PetDefines.h.html#PetSaveMode::PET_SAVE_AS_CURRENT" title='PetSaveMode::PET_SAVE_AS_CURRENT' data-ref="PetSaveMode::PET_SAVE_AS_CURRENT" id="PetSaveMode::PET_SAVE_AS_CURRENT" >PET_SAVE_AS_CURRENT</a>, <b>true</b>);</td></tr>
<tr><th id="563">563</th><td></td></tr>
<tr><th id="564">564</th><td>        <i class="doc">///- Clear whisper whitelist</i></td></tr>
<tr><th id="565">565</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player21ClearWhisperWhiteListEv" title='Player::ClearWhisperWhiteList' data-ref="_ZN6Player21ClearWhisperWhiteListEv" id="_ZN6Player21ClearWhisperWhiteListEv" >ClearWhisperWhiteList</a>();</td></tr>
<tr><th id="566">566</th><td></td></tr>
<tr><th id="567">567</th><td>        <i class="doc">///- empty buyback items and save the player in the database</i></td></tr>
<tr><th id="568">568</th><td><i class="doc">        // some save parts only correctly work in case player present in map/player_lists (pets, etc)</i></td></tr>
<tr><th id="569">569</th><td>        <b>if</b> (<a class="local col7 ref" href="#97save" title='save' data-ref="97save" >save</a>)</td></tr>
<tr><th id="570">570</th><td>        {</td></tr>
<tr><th id="571">571</th><td>            <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col4 decl" id="104eslot" title='eslot' data-type='uint32' data-ref="104eslot" >eslot</dfn>;</td></tr>
<tr><th id="572">572</th><td>            <b>for</b> (<em>int</em> <dfn class="local col5 decl" id="105j" title='j' data-type='int' data-ref="105j" >j</dfn> = <a class="enum" href="../Entities/Player/Player.h.html#BuyBackSlots::BUYBACK_SLOT_START" title='BuyBackSlots::BUYBACK_SLOT_START' data-ref="BuyBackSlots::BUYBACK_SLOT_START" id="BuyBackSlots::BUYBACK_SLOT_START" >BUYBACK_SLOT_START</a>; <a class="local col5 ref" href="#105j" title='j' data-ref="105j" >j</a> &lt; <a class="enum" href="../Entities/Player/Player.h.html#BuyBackSlots::BUYBACK_SLOT_END" title='BuyBackSlots::BUYBACK_SLOT_END' data-ref="BuyBackSlots::BUYBACK_SLOT_END" id="BuyBackSlots::BUYBACK_SLOT_END" >BUYBACK_SLOT_END</a>; ++<a class="local col5 ref" href="#105j" title='j' data-ref="105j" >j</a>)</td></tr>
<tr><th id="573">573</th><td>            {</td></tr>
<tr><th id="574">574</th><td>                <a class="local col4 ref" href="#104eslot" title='eslot' data-ref="104eslot" >eslot</a> = <a class="local col5 ref" href="#105j" title='j' data-ref="105j" >j</a> - <a class="enum" href="../Entities/Player/Player.h.html#BuyBackSlots::BUYBACK_SLOT_START" title='BuyBackSlots::BUYBACK_SLOT_START' data-ref="BuyBackSlots::BUYBACK_SLOT_START" id="BuyBackSlots::BUYBACK_SLOT_START" >BUYBACK_SLOT_START</a>;</td></tr>
<tr><th id="575">575</th><td>                <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZN6Object12SetGuidValueEtRK10ObjectGuid" title='Object::SetGuidValue' data-ref="_ZN6Object12SetGuidValueEtRK10ObjectGuid" id="_ZN6Object12SetGuidValueEtRK10ObjectGuid" >SetGuidValue</a>(<a class="enum" href="../Entities/Object/Updates/UpdateFields.h.html#PlayerFields::PLAYER_FIELD_INV_SLOT_HEAD" title='PlayerFields::PLAYER_FIELD_INV_SLOT_HEAD' data-ref="PlayerFields::PLAYER_FIELD_INV_SLOT_HEAD" id="PlayerFields::PLAYER_FIELD_INV_SLOT_HEAD" >PLAYER_FIELD_INV_SLOT_HEAD</a> + (<a class="local col5 ref" href="#105j" title='j' data-ref="105j" >j</a> * <var>4</var>), <a class="type" href="../Entities/Object/ObjectGuid.h.html#ObjectGuid" title='ObjectGuid' data-ref="ObjectGuid" >ObjectGuid</a>::<a class="ref" href="../Entities/Object/ObjectGuid.h.html#_ZN10ObjectGuid5EmptyE" title='ObjectGuid::Empty' data-ref="_ZN10ObjectGuid5EmptyE" id="_ZN10ObjectGuid5EmptyE" >Empty</a>);</td></tr>
<tr><th id="576">576</th><td>                <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZN6Object14SetUInt32ValueEtj" title='Object::SetUInt32Value' data-ref="_ZN6Object14SetUInt32ValueEtj" id="_ZN6Object14SetUInt32ValueEtj" >SetUInt32Value</a>(<a class="enum" href="../Entities/Object/Updates/UpdateFields.h.html#PlayerFields::PLAYER_FIELD_BUYBACK_PRICE_1" title='PlayerFields::PLAYER_FIELD_BUYBACK_PRICE_1' data-ref="PlayerFields::PLAYER_FIELD_BUYBACK_PRICE_1" id="PlayerFields::PLAYER_FIELD_BUYBACK_PRICE_1" >PLAYER_FIELD_BUYBACK_PRICE_1</a> + <a class="local col4 ref" href="#104eslot" title='eslot' data-ref="104eslot" >eslot</a>, <var>0</var>);</td></tr>
<tr><th id="577">577</th><td>                <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZN6Object14SetUInt32ValueEtj" title='Object::SetUInt32Value' data-ref="_ZN6Object14SetUInt32ValueEtj" id="_ZN6Object14SetUInt32ValueEtj" >SetUInt32Value</a>(<a class="enum" href="../Entities/Object/Updates/UpdateFields.h.html#PlayerFields::PLAYER_FIELD_BUYBACK_TIMESTAMP_1" title='PlayerFields::PLAYER_FIELD_BUYBACK_TIMESTAMP_1' data-ref="PlayerFields::PLAYER_FIELD_BUYBACK_TIMESTAMP_1" id="PlayerFields::PLAYER_FIELD_BUYBACK_TIMESTAMP_1" >PLAYER_FIELD_BUYBACK_TIMESTAMP_1</a> + <a class="local col4 ref" href="#104eslot" title='eslot' data-ref="104eslot" >eslot</a>, <var>0</var>);</td></tr>
<tr><th id="578">578</th><td>            }</td></tr>
<tr><th id="579">579</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player8SaveToDBEb" title='Player::SaveToDB' data-ref="_ZN6Player8SaveToDBEb" id="_ZN6Player8SaveToDBEb" >SaveToDB</a>();</td></tr>
<tr><th id="580">580</th><td>        }</td></tr>
<tr><th id="581">581</th><td></td></tr>
<tr><th id="582">582</th><td>        <i class="doc">///- Leave all channels before player delete...</i></td></tr>
<tr><th id="583">583</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player15CleanupChannelsEv" title='Player::CleanupChannels' data-ref="_ZN6Player15CleanupChannelsEv" id="_ZN6Player15CleanupChannelsEv" >CleanupChannels</a>();</td></tr>
<tr><th id="584">584</th><td></td></tr>
<tr><th id="585">585</th><td>        <i class="doc">///- If the player is in a group (or invited), remove him. If the group if then only 1 person, disband the group.</i></td></tr>
<tr><th id="586">586</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player17UninviteFromGroupEv" title='Player::UninviteFromGroup' data-ref="_ZN6Player17UninviteFromGroupEv" id="_ZN6Player17UninviteFromGroupEv" >UninviteFromGroup</a>();</td></tr>
<tr><th id="587">587</th><td></td></tr>
<tr><th id="588">588</th><td>        <i>// remove player from the group if he is:</i></td></tr>
<tr><th id="589">589</th><td><i>        // a) in group; b) not in raid group; c) logging out normally (not being kicked or disconnected)</i></td></tr>
<tr><th id="590">590</th><td>        <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player8GetGroupEv" title='Player::GetGroup' data-ref="_ZN6Player8GetGroupEv" id="_ZN6Player8GetGroupEv" >GetGroup</a>() &amp;&amp; !<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player8GetGroupEv" title='Player::GetGroup' data-ref="_ZN6Player8GetGroupEv" id="_ZN6Player8GetGroupEv" >GetGroup</a>()-&gt;<a class="ref" href="../Groups/Group.h.html#_ZNK5Group11isRaidGroupEv" title='Group::isRaidGroup' data-ref="_ZNK5Group11isRaidGroupEv" id="_ZNK5Group11isRaidGroupEv" >isRaidGroup</a>() &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_REALM" title='ConnectionType::CONNECTION_TYPE_REALM' data-ref="ConnectionType::CONNECTION_TYPE_REALM" id="ConnectionType::CONNECTION_TYPE_REALM" >CONNECTION_TYPE_REALM</a>])</td></tr>
<tr><th id="591">591</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player15RemoveFromGroupE12RemoveMethod" title='Player::RemoveFromGroup' data-ref="_ZN6Player15RemoveFromGroupE12RemoveMethod" id="_ZN6Player15RemoveFromGroupE12RemoveMethod" >RemoveFromGroup</a>();</td></tr>
<tr><th id="592">592</th><td></td></tr>
<tr><th id="593">593</th><td>        <i class="doc">//! Send update to group and reset stored max enchanting level</i></td></tr>
<tr><th id="594">594</th><td>        <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player8GetGroupEv" title='Player::GetGroup' data-ref="_ZN6Player8GetGroupEv" id="_ZN6Player8GetGroupEv" >GetGroup</a>())</td></tr>
<tr><th id="595">595</th><td>        {</td></tr>
<tr><th id="596">596</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player8GetGroupEv" title='Player::GetGroup' data-ref="_ZN6Player8GetGroupEv" id="_ZN6Player8GetGroupEv" >GetGroup</a>()-&gt;<a class="ref" href="../Groups/Group.h.html#_ZN5Group10SendUpdateEv" title='Group::SendUpdate' data-ref="_ZN5Group10SendUpdateEv" id="_ZN5Group10SendUpdateEv" >SendUpdate</a>();</td></tr>
<tr><th id="597">597</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player8GetGroupEv" title='Player::GetGroup' data-ref="_ZN6Player8GetGroupEv" id="_ZN6Player8GetGroupEv" >GetGroup</a>()-&gt;<a class="ref" href="../Groups/Group.h.html#_ZN5Group23ResetMaxEnchantingLevelEv" title='Group::ResetMaxEnchantingLevel' data-ref="_ZN5Group23ResetMaxEnchantingLevelEv" id="_ZN5Group23ResetMaxEnchantingLevelEv" >ResetMaxEnchantingLevel</a>();</td></tr>
<tr><th id="598">598</th><td>        }</td></tr>
<tr><th id="599">599</th><td></td></tr>
<tr><th id="600">600</th><td>        <i class="doc">//! Broadcast a logout message to the player's friends</i></td></tr>
<tr><th id="601">601</th><td>        <a class="macro" href="../Entities/Player/SocialMgr.h.html#164" title="SocialMgr::instance()" data-ref="_M/sSocialMgr">sSocialMgr</a>-&gt;<a class="ref" href="../Entities/Player/SocialMgr.h.html#_ZN9SocialMgr16SendFriendStatusEP6Player13FriendsResultRK10ObjectGuidb" title='SocialMgr::SendFriendStatus' data-ref="_ZN9SocialMgr16SendFriendStatusEP6Player13FriendsResultRK10ObjectGuidb" id="_ZN9SocialMgr16SendFriendStatusEP6Player13FriendsResultRK10ObjectGuidb" >SendFriendStatus</a>(<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>, <a class="enum" href="../Entities/Player/SocialMgr.h.html#FriendsResult::FRIEND_OFFLINE" title='FriendsResult::FRIEND_OFFLINE' data-ref="FriendsResult::FRIEND_OFFLINE" id="FriendsResult::FRIEND_OFFLINE" >FRIEND_OFFLINE</a>, <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK6Object7GetGUIDEv" title='Object::GetGUID' data-ref="_ZNK6Object7GetGUIDEv" id="_ZNK6Object7GetGUIDEv" >GetGUID</a>(), <b>true</b>);</td></tr>
<tr><th id="602">602</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Player/Player.h.html#_ZN6Player12RemoveSocialEv" title='Player::RemoveSocial' data-ref="_ZN6Player12RemoveSocialEv" id="_ZN6Player12RemoveSocialEv" >RemoveSocial</a>();</td></tr>
<tr><th id="603">603</th><td></td></tr>
<tr><th id="604">604</th><td>        <i class="doc">//! Call script hook before deletion</i></td></tr>
<tr><th id="605">605</th><td>        <a class="macro" href="../Scripting/ScriptMgr.h.html#841" title="ScriptMgr::instance()" data-ref="_M/sScriptMgr">sScriptMgr</a>-&gt;<a class="ref" href="../Scripting/ScriptMgr.h.html#_ZN9ScriptMgr14OnPlayerLogoutEP6Player" title='ScriptMgr::OnPlayerLogout' data-ref="_ZN9ScriptMgr14OnPlayerLogoutEP6Player" id="_ZN9ScriptMgr14OnPlayerLogoutEP6Player" >OnPlayerLogout</a>(<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>);</td></tr>
<tr><th id="606">606</th><td></td></tr>
<tr><th id="607">607</th><td>        <i class="doc">//! Remove the player from the world</i></td></tr>
<tr><th id="608">608</th><td><i class="doc">        // the player may not be in the world when logging out</i></td></tr>
<tr><th id="609">609</th><td><i class="doc">        // e.g if he got disconnected during a transfer to another map</i></td></tr>
<tr><th id="610">610</th><td><i class="doc">        // calls to GetMap in this case may cause crashes</i></td></tr>
<tr><th id="611">611</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="virtual ref" href="../Entities/Player/Player.h.html#_ZN6Player20CleanupsBeforeDeleteEb" title='Player::CleanupsBeforeDelete' data-ref="_ZN6Player20CleanupsBeforeDeleteEb" id="_ZN6Player20CleanupsBeforeDeleteEb" >CleanupsBeforeDelete</a>();</td></tr>
<tr><th id="612">612</th><td>        <a class="macro" href="../../../common/Logging/Log.h.html#205" title="do { if (Log::instance()-&gt;ShouldLog(&quot;entities.player.character&quot;, LOG_LEVEL_INFO)) { if (false) check_args(&quot;Account: %u (IP: %s) Logout Character:[%s] (%s) Level: %d&quot;, GetAccountId(), GetRemoteAddress().c_str(), _player-&gt;GetName().c_str(), _player-&gt;GetGUID().ToString().c_str(), _player-&gt;getLevel()); { try { Log::instance()-&gt;outMessage(&quot;entities.player.character&quot;, LOG_LEVEL_INFO, &quot;Account: %u (IP: %s) Logout Character:[%s] (%s) Level: %d&quot;, GetAccountId(), GetRemoteAddress().c_str(), _player-&gt;GetName().c_str(), _player-&gt;GetGUID().ToString().c_str(), _player-&gt;getLevel()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 613); } }; } } while (0)" data-ref="_M/TC_LOG_INFO">TC_LOG_INFO</a>(<q>"entities.player.character"</q>, <q>"Account: %u (IP: %s) Logout Character:[%s] (%s) Level: %d"</q>,</td></tr>
<tr><th id="613">613</th><td>            <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" ><a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a></a>(), <a class="member" href="WorldSession.h.html#_ZNK12WorldSession16GetRemoteAddressEv" title='WorldSession::GetRemoteAddress' data-ref="_ZNK12WorldSession16GetRemoteAddressEv" id="_ZNK12WorldSession16GetRemoteAddressEv" ><a class="member" href="WorldSession.h.html#_ZNK12WorldSession16GetRemoteAddressEv" title='WorldSession::GetRemoteAddress' data-ref="_ZNK12WorldSession16GetRemoteAddressEv" id="_ZNK12WorldSession16GetRemoteAddressEv" >GetRemoteAddress</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" ><a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a></a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK11WorldObject7GetNameEv" title='WorldObject::GetName' data-ref="_ZNK11WorldObject7GetNameEv" id="_ZNK11WorldObject7GetNameEv" ><a class="ref" href="../Entities/Object/Object.h.html#_ZNK11WorldObject7GetNameEv" title='WorldObject::GetName' data-ref="_ZNK11WorldObject7GetNameEv" id="_ZNK11WorldObject7GetNameEv" >GetName</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" ><a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a></a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK6Object7GetGUIDEv" title='Object::GetGUID' data-ref="_ZNK6Object7GetGUIDEv" id="_ZNK6Object7GetGUIDEv" ><a class="ref" href="../Entities/Object/Object.h.html#_ZNK6Object7GetGUIDEv" title='Object::GetGUID' data-ref="_ZNK6Object7GetGUIDEv" id="_ZNK6Object7GetGUIDEv" >GetGUID</a></a>().<a class="ref" href="../Entities/Object/ObjectGuid.h.html#_ZNK10ObjectGuid8ToStringEv" title='ObjectGuid::ToString' data-ref="_ZNK10ObjectGuid8ToStringEv" id="_ZNK10ObjectGuid8ToStringEv" ><a class="ref" href="../Entities/Object/ObjectGuid.h.html#_ZNK10ObjectGuid8ToStringEv" title='ObjectGuid::ToString' data-ref="_ZNK10ObjectGuid8ToStringEv" id="_ZNK10ObjectGuid8ToStringEv" >ToString</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" ><a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a></a>-&gt;<a class="ref" href="../Entities/Unit/Unit.h.html#_ZNK4Unit8getLevelEv" title='Unit::getLevel' data-ref="_ZNK4Unit8getLevelEv" id="_ZNK4Unit8getLevelEv" ><a class="ref" href="../Entities/Unit/Unit.h.html#_ZNK4Unit8getLevelEv" title='Unit::getLevel' data-ref="_ZNK4Unit8getLevelEv" id="_ZNK4Unit8getLevelEv" >getLevel</a></a>());</td></tr>
<tr><th id="614">614</th><td></td></tr>
<tr><th id="615">615</th><td>        <a class="macro" href="BattlenetServerManager.h.html#59" title="IPC::BattlenetComm::ServerManager::Instance()" data-ref="_M/sBattlenetServer">sBattlenetServer</a>.<a class="ref" href="BattlenetServerManager.h.html#_ZN3IPC13BattlenetComm13ServerManager25SendChangeToonOnlineStateEjj10ObjectGuidRKSsb" title='IPC::BattlenetComm::ServerManager::SendChangeToonOnlineState' data-ref="_ZN3IPC13BattlenetComm13ServerManager25SendChangeToonOnlineStateEjj10ObjectGuidRKSsb" id="_ZN3IPC13BattlenetComm13ServerManager25SendChangeToonOnlineStateEjj10ObjectGuidRKSsb" >SendChangeToonOnlineState</a>(<a class="member" href="WorldSession.h.html#_ZNK12WorldSession21GetBattlenetAccountIdEv" title='WorldSession::GetBattlenetAccountId' data-ref="_ZNK12WorldSession21GetBattlenetAccountIdEv" id="_ZNK12WorldSession21GetBattlenetAccountIdEv" >GetBattlenetAccountId</a>(), <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a>(), <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK6Object7GetGUIDEv" title='Object::GetGUID' data-ref="_ZNK6Object7GetGUIDEv" id="_ZNK6Object7GetGUIDEv" >GetGUID</a>(), <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK11WorldObject7GetNameEv" title='WorldObject::GetName' data-ref="_ZNK11WorldObject7GetNameEv" id="_ZNK11WorldObject7GetNameEv" >GetName</a>(), <b>false</b>);</td></tr>
<tr><th id="616">616</th><td></td></tr>
<tr><th id="617">617</th><td>        <b>if</b> (<a class="type" href="../Maps/Map.h.html#Map" title='Map' data-ref="Map" >Map</a>* <dfn class="local col6 decl" id="106_map" title='_map' data-type='Map *' data-ref="106_map" ><a class="local col6 ref" href="#106_map" title='_map' data-ref="106_map" >_map</a></dfn> = <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK11WorldObject7FindMapEv" title='WorldObject::FindMap' data-ref="_ZNK11WorldObject7FindMapEv" id="_ZNK11WorldObject7FindMapEv" >FindMap</a>())</td></tr>
<tr><th id="618">618</th><td>            <a class="local col6 ref" href="#106_map" title='_map' data-ref="106_map" >_map</a>-&gt;<a class="virtual ref" href="../Maps/Map.h.html#_ZN3Map19RemovePlayerFromMapEP6Playerb" title='Map::RemovePlayerFromMap' data-ref="_ZN3Map19RemovePlayerFromMapEP6Playerb" id="_ZN3Map19RemovePlayerFromMapEP6Playerb" >RemovePlayerFromMap</a>(<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>, <b>true</b>);</td></tr>
<tr><th id="619">619</th><td></td></tr>
<tr><th id="620">620</th><td>        <a class="member" href="#_ZN12WorldSession9SetPlayerEP6Player" title='WorldSession::SetPlayer' data-ref="_ZN12WorldSession9SetPlayerEP6Player" >SetPlayer</a>(<span class="macro" title="__null" data-ref="_M/NULL">NULL</span>); <i class="doc">//! Pointer already deleted during RemovePlayerFromMap</i></td></tr>
<tr><th id="621">621</th><td></td></tr>
<tr><th id="622">622</th><td>        <i class="doc">//! Send the 'logout complete' packet to the client</i></td></tr>
<tr><th id="623">623</th><td><i class="doc">        //! Client will respond by sending 3x CMSG_CANCEL_TRADE, which we currently dont handle</i></td></tr>
<tr><th id="624">624</th><td>        <a class="member" href="#_ZN12WorldSession10SendPacketEPK11WorldPacketb" title='WorldSession::SendPacket' data-ref="_ZN12WorldSession10SendPacketEPK11WorldPacketb" >SendPacket</a>(<span class="namespace">WorldPackets::Character::</span><a class="type" href="Packets/CharacterPackets.h.html#WorldPackets::Character::LogoutComplete" title='WorldPackets::Character::LogoutComplete' data-ref="WorldPackets::Character::LogoutComplete" >LogoutComplete</a><a class="ref" href="Packets/CharacterPackets.h.html#_ZN12WorldPackets9Character14LogoutCompleteC1Ev" title='WorldPackets::Character::LogoutComplete::LogoutComplete' data-ref="_ZN12WorldPackets9Character14LogoutCompleteC1Ev" id="_ZN12WorldPackets9Character14LogoutCompleteC1Ev" >(</a>).<a class="virtual ref" href="Packets/CharacterPackets.h.html#_ZN12WorldPackets9Character14LogoutComplete5WriteEv" title='WorldPackets::Character::LogoutComplete::Write' data-ref="_ZN12WorldPackets9Character14LogoutComplete5WriteEv" id="_ZN12WorldPackets9Character14LogoutComplete5WriteEv" >Write</a>());</td></tr>
<tr><th id="625">625</th><td>        <a class="macro" href="../../../common/Logging/Log.h.html#202" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network&quot;, LOG_LEVEL_DEBUG)) { if (false) check_args(&quot;SESSION: Sent SMSG_LOGOUT_COMPLETE Message&quot;); { try { Log::instance()-&gt;outMessage(&quot;network&quot;, LOG_LEVEL_DEBUG, &quot;SESSION: Sent SMSG_LOGOUT_COMPLETE Message&quot;); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 625); } }; } } while (0)" data-ref="_M/TC_LOG_DEBUG">TC_LOG_DEBUG</a>(<q>"network"</q>, <q>"SESSION: Sent SMSG_LOGOUT_COMPLETE Message"</q>);</td></tr>
<tr><th id="626">626</th><td></td></tr>
<tr><th id="627">627</th><td>        <i class="doc">//! Since each account can only have one online character at any given time, ensure all characters for active account are marked as offline</i></td></tr>
<tr><th id="628">628</th><td>        <a class="type" href="../../database/Database/PreparedStatement.h.html#PreparedStatement" title='PreparedStatement' data-ref="PreparedStatement" >PreparedStatement</a>* <dfn class="local col7 decl" id="107stmt" title='stmt' data-type='PreparedStatement *' data-ref="107stmt" >stmt</dfn> = <a class="ref" href="../../database/Database/DatabaseEnv.h.html#CharacterDatabase" title='CharacterDatabase' data-ref="CharacterDatabase" id="CharacterDatabase" >CharacterDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" title='DatabaseWorkerPool::GetPreparedStatement' data-ref="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" id="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" >GetPreparedStatement</a>(<a class="enum" href="../../database/Database/Implementation/CharacterDatabase.h.html#CharacterDatabaseStatements::CHAR_UPD_ACCOUNT_ONLINE" title='CharacterDatabaseStatements::CHAR_UPD_ACCOUNT_ONLINE' data-ref="CharacterDatabaseStatements::CHAR_UPD_ACCOUNT_ONLINE" id="CharacterDatabaseStatements::CHAR_UPD_ACCOUNT_ONLINE" >CHAR_UPD_ACCOUNT_ONLINE</a>);</td></tr>
<tr><th id="629">629</th><td>        <a class="local col7 ref" href="#107stmt" title='stmt' data-ref="107stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setUInt32Ehj" title='PreparedStatement::setUInt32' data-ref="_ZN17PreparedStatement9setUInt32Ehj" id="_ZN17PreparedStatement9setUInt32Ehj" >setUInt32</a>(<var>0</var>, <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a>());</td></tr>
<tr><th id="630">630</th><td>        <a class="ref" href="../../database/Database/DatabaseEnv.h.html#CharacterDatabase" title='CharacterDatabase' data-ref="CharacterDatabase" id="CharacterDatabase" >CharacterDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool7ExecuteEP17PreparedStatement" title='DatabaseWorkerPool::Execute' data-ref="_ZN18DatabaseWorkerPool7ExecuteEP17PreparedStatement" id="_ZN18DatabaseWorkerPool7ExecuteEP17PreparedStatement" >Execute</a>(<a class="local col7 ref" href="#107stmt" title='stmt' data-ref="107stmt" >stmt</a>);</td></tr>
<tr><th id="631">631</th><td>    }</td></tr>
<tr><th id="632">632</th><td></td></tr>
<tr><th id="633">633</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_INSTANCE" title='ConnectionType::CONNECTION_TYPE_INSTANCE' data-ref="ConnectionType::CONNECTION_TYPE_INSTANCE" id="ConnectionType::CONNECTION_TYPE_INSTANCE" >CONNECTION_TYPE_INSTANCE</a>])</td></tr>
<tr><th id="634">634</th><td>    {</td></tr>
<tr><th id="635">635</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_INSTANCE" title='ConnectionType::CONNECTION_TYPE_INSTANCE' data-ref="ConnectionType::CONNECTION_TYPE_INSTANCE" >CONNECTION_TYPE_INSTANCE</a>]<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv" id="_ZNKSt12__shared_ptrptEv" >-&gt;</a><a class="ref" href="../../shared/Networking/Socket.h.html#_ZN6Socket11CloseSocketEv" title='Socket::CloseSocket' data-ref="_ZN6Socket11CloseSocketEv" id="_ZN6Socket11CloseSocketEv" >CloseSocket</a>();</td></tr>
<tr><th id="636">636</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_INSTANCE" title='ConnectionType::CONNECTION_TYPE_INSTANCE' data-ref="ConnectionType::CONNECTION_TYPE_INSTANCE" id="ConnectionType::CONNECTION_TYPE_INSTANCE" >CONNECTION_TYPE_INSTANCE</a>].<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNSt12__shared_ptr5resetEv" title='std::__shared_ptr::reset' data-ref="_ZNSt12__shared_ptr5resetEv" id="_ZNSt12__shared_ptr5resetEv" >reset</a>();</td></tr>
<tr><th id="637">637</th><td>    }</td></tr>
<tr><th id="638">638</th><td></td></tr>
<tr><th id="639">639</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_playerLogout" title='WorldSession::m_playerLogout' data-ref="WorldSession::m_playerLogout" id="WorldSession::m_playerLogout" >m_playerLogout</a> = <b>false</b>;</td></tr>
<tr><th id="640">640</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_playerSave" title='WorldSession::m_playerSave' data-ref="WorldSession::m_playerSave" id="WorldSession::m_playerSave" >m_playerSave</a> = <b>false</b>;</td></tr>
<tr><th id="641">641</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_playerRecentlyLogout" title='WorldSession::m_playerRecentlyLogout' data-ref="WorldSession::m_playerRecentlyLogout" id="WorldSession::m_playerRecentlyLogout" >m_playerRecentlyLogout</a> = <b>true</b>;</td></tr>
<tr><th id="642">642</th><td>    <a class="member" href="WorldSession.h.html#_ZN12WorldSession18SetLogoutStartTimeEl" title='WorldSession::SetLogoutStartTime' data-ref="_ZN12WorldSession18SetLogoutStartTimeEl" id="_ZN12WorldSession18SetLogoutStartTimeEl" >SetLogoutStartTime</a>(<var>0</var>);</td></tr>
<tr><th id="643">643</th><td>}</td></tr>
<tr><th id="644">644</th><td></td></tr>
<tr><th id="645">645</th><td><i class="doc">/// Kick a player out of the World</i></td></tr>
<tr><th id="646">646</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession10KickPlayerEv" title='WorldSession::KickPlayer' data-ref="_ZN12WorldSession10KickPlayerEv" >KickPlayer</dfn>()</td></tr>
<tr><th id="647">647</th><td>{</td></tr>
<tr><th id="648">648</th><td>    <b>for</b> (<a class="typedef" href="../../../common/Define.h.html#uint8" title='uint8' data-type='uint8_t' data-ref="uint8" >uint8</a> <dfn class="local col8 decl" id="108i" title='i' data-type='uint8' data-ref="108i" >i</dfn> = <var>0</var>; <a class="local col8 ref" href="#108i" title='i' data-ref="108i" >i</a> &lt; <var>2</var>; ++<a class="local col8 ref" href="#108i" title='i' data-ref="108i" >i</a>)</td></tr>
<tr><th id="649">649</th><td>    {</td></tr>
<tr><th id="650">650</th><td>        <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" id="WorldSession::m_Socket" >m_Socket</a>[<a class="local col8 ref" href="#108i" title='i' data-ref="108i" >i</a>])</td></tr>
<tr><th id="651">651</th><td>        {</td></tr>
<tr><th id="652">652</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::m_Socket" title='WorldSession::m_Socket' data-ref="WorldSession::m_Socket" >m_Socket</a>[<a class="local col8 ref" href="#108i" title='i' data-ref="108i" >i</a>]<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv" id="_ZNKSt12__shared_ptrptEv" >-&gt;</a><a class="ref" href="../../shared/Networking/Socket.h.html#_ZN6Socket11CloseSocketEv" title='Socket::CloseSocket' data-ref="_ZN6Socket11CloseSocketEv" id="_ZN6Socket11CloseSocketEv" >CloseSocket</a>();</td></tr>
<tr><th id="653">653</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::forceExit" title='WorldSession::forceExit' data-ref="WorldSession::forceExit" id="WorldSession::forceExit" >forceExit</a> = <b>true</b>;</td></tr>
<tr><th id="654">654</th><td>        }</td></tr>
<tr><th id="655">655</th><td>    }</td></tr>
<tr><th id="656">656</th><td>}</td></tr>
<tr><th id="657">657</th><td></td></tr>
<tr><th id="658">658</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession16SendNotificationEPKcz" title='WorldSession::SendNotification' data-ref="_ZN12WorldSession16SendNotificationEPKcz" >SendNotification</dfn>(<em>char</em> <em>const</em>* <dfn class="local col9 decl" id="109format" title='format' data-type='const char *' data-ref="109format" >format</dfn>, ...)</td></tr>
<tr><th id="659">659</th><td>{</td></tr>
<tr><th id="660">660</th><td>    <b>if</b> (<a class="local col9 ref" href="#109format" title='format' data-ref="109format" >format</a>)</td></tr>
<tr><th id="661">661</th><td>    {</td></tr>
<tr><th id="662">662</th><td>        <span class='typedef' title='va_list' data-type='__gnuc_va_list' data-ref="va_list" >va_list</span> <dfn class="local col0 decl" id="110ap" title='ap' data-type='va_list' data-ref="110ap" >ap</dfn>;</td></tr>
<tr><th id="663">663</th><td>        <em>char</em> <dfn class="local col1 decl" id="111szStr" title='szStr' data-type='char [1024]' data-ref="111szStr" >szStr</dfn>[<var>1024</var>];</td></tr>
<tr><th id="664">664</th><td>        <a class="local col1 ref" href="#111szStr" title='szStr' data-ref="111szStr" >szStr</a>[<var>0</var>] = <kdb>'\0'</kdb>;</td></tr>
<tr><th id="665">665</th><td>        <span class="macro" title="__builtin_va_start(ap, format)" data-ref="_M/va_start">va_start</span>(<a class="local col0 ref" href="#110ap" title='ap' data-ref="110ap" >ap</a>, <a class="local col9 ref" href="#109format" title='format' data-ref="109format" >format</a>);</td></tr>
<tr><th id="666">666</th><td>        <a class="ref" href="../../../../../include/stdio.h.html#vsnprintf" title='vsnprintf' data-ref="vsnprintf" id="vsnprintf" >vsnprintf</a>(<a class="local col1 ref" href="#111szStr" title='szStr' data-ref="111szStr" >szStr</a>, <var>1024</var>, <a class="local col9 ref" href="#109format" title='format' data-ref="109format" >format</a>, <a class="local col0 ref" href="#110ap" title='ap' data-ref="110ap" >ap</a>);</td></tr>
<tr><th id="667">667</th><td>        <span class="macro" title="__builtin_va_end(ap)" data-ref="_M/va_end">va_end</span>(<a class="local col0 ref" href="#110ap" title='ap' data-ref="110ap" >ap</a>);</td></tr>
<tr><th id="668">668</th><td></td></tr>
<tr><th id="669">669</th><td>        <a class="member" href="#_ZN12WorldSession10SendPacketEPK11WorldPacketb" title='WorldSession::SendPacket' data-ref="_ZN12WorldSession10SendPacketEPK11WorldPacketb" >SendPacket</a>(<span class="namespace"><a class="ref" href="Packets/ChatPackets.h.html#_ZN12WorldPackets4Chat17PrintNotificationC1ERKSs" title='WorldPackets::Chat::PrintNotification::PrintNotification' data-ref="_ZN12WorldPackets4Chat17PrintNotificationC1ERKSs" id="_ZN12WorldPackets4Chat17PrintNotificationC1ERKSs" >WorldPackets</a>::Chat::</span><a class="type" href="Packets/ChatPackets.h.html#WorldPackets::Chat::PrintNotification" title='WorldPackets::Chat::PrintNotification' data-ref="WorldPackets::Chat::PrintNotification" >PrintNotification</a>(<a class="local col1 ref" href="#111szStr" title='szStr' data-ref="111szStr" >szStr</a>).<a class="virtual ref" href="Packets/ChatPackets.h.html#_ZN12WorldPackets4Chat17PrintNotification5WriteEv" title='WorldPackets::Chat::PrintNotification::Write' data-ref="_ZN12WorldPackets4Chat17PrintNotification5WriteEv" id="_ZN12WorldPackets4Chat17PrintNotification5WriteEv" >Write</a>());</td></tr>
<tr><th id="670">670</th><td>    }</td></tr>
<tr><th id="671">671</th><td>}</td></tr>
<tr><th id="672">672</th><td></td></tr>
<tr><th id="673">673</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession16SendNotificationEjz" title='WorldSession::SendNotification' data-ref="_ZN12WorldSession16SendNotificationEjz" >SendNotification</dfn>(<a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col2 decl" id="112stringId" title='stringId' data-type='uint32' data-ref="112stringId" >stringId</dfn>, ...)</td></tr>
<tr><th id="674">674</th><td>{</td></tr>
<tr><th id="675">675</th><td>    <em>char</em> <em>const</em>* <dfn class="local col3 decl" id="113format" title='format' data-type='const char *' data-ref="113format" >format</dfn> = <a class="member" href="#_ZNK12WorldSession16GetTrinityStringEj" title='WorldSession::GetTrinityString' data-ref="_ZNK12WorldSession16GetTrinityStringEj" >GetTrinityString</a>(<a class="local col2 ref" href="#112stringId" title='stringId' data-ref="112stringId" >stringId</a>);</td></tr>
<tr><th id="676">676</th><td>    <b>if</b> (<a class="local col3 ref" href="#113format" title='format' data-ref="113format" >format</a>)</td></tr>
<tr><th id="677">677</th><td>    {</td></tr>
<tr><th id="678">678</th><td>        <span class='typedef' title='va_list' data-type='__gnuc_va_list' data-ref="va_list" >va_list</span> <dfn class="local col4 decl" id="114ap" title='ap' data-type='va_list' data-ref="114ap" >ap</dfn>;</td></tr>
<tr><th id="679">679</th><td>        <em>char</em> <dfn class="local col5 decl" id="115szStr" title='szStr' data-type='char [1024]' data-ref="115szStr" >szStr</dfn>[<var>1024</var>];</td></tr>
<tr><th id="680">680</th><td>        <a class="local col5 ref" href="#115szStr" title='szStr' data-ref="115szStr" >szStr</a>[<var>0</var>] = <kdb>'\0'</kdb>;</td></tr>
<tr><th id="681">681</th><td>        <span class="macro" title="__builtin_va_start(ap, stringId)" data-ref="_M/va_start">va_start</span>(<a class="local col4 ref" href="#114ap" title='ap' data-ref="114ap" >ap</a>, <a class="local col2 ref" href="#112stringId" title='stringId' data-ref="112stringId" >stringId</a>);</td></tr>
<tr><th id="682">682</th><td>        <a class="ref" href="../../../../../include/stdio.h.html#vsnprintf" title='vsnprintf' data-ref="vsnprintf" id="vsnprintf" >vsnprintf</a>(<a class="local col5 ref" href="#115szStr" title='szStr' data-ref="115szStr" >szStr</a>, <var>1024</var>, <a class="local col3 ref" href="#113format" title='format' data-ref="113format" >format</a>, <a class="local col4 ref" href="#114ap" title='ap' data-ref="114ap" >ap</a>);</td></tr>
<tr><th id="683">683</th><td>        <span class="macro" title="__builtin_va_end(ap)" data-ref="_M/va_end">va_end</span>(<a class="local col4 ref" href="#114ap" title='ap' data-ref="114ap" >ap</a>);</td></tr>
<tr><th id="684">684</th><td></td></tr>
<tr><th id="685">685</th><td>        <a class="member" href="#_ZN12WorldSession10SendPacketEPK11WorldPacketb" title='WorldSession::SendPacket' data-ref="_ZN12WorldSession10SendPacketEPK11WorldPacketb" >SendPacket</a>(<span class="namespace"><a class="ref" href="Packets/ChatPackets.h.html#_ZN12WorldPackets4Chat17PrintNotificationC1ERKSs" title='WorldPackets::Chat::PrintNotification::PrintNotification' data-ref="_ZN12WorldPackets4Chat17PrintNotificationC1ERKSs" id="_ZN12WorldPackets4Chat17PrintNotificationC1ERKSs" >WorldPackets</a>::Chat::</span><a class="type" href="Packets/ChatPackets.h.html#WorldPackets::Chat::PrintNotification" title='WorldPackets::Chat::PrintNotification' data-ref="WorldPackets::Chat::PrintNotification" >PrintNotification</a>(<a class="local col5 ref" href="#115szStr" title='szStr' data-ref="115szStr" >szStr</a>).<a class="virtual ref" href="Packets/ChatPackets.h.html#_ZN12WorldPackets4Chat17PrintNotification5WriteEv" title='WorldPackets::Chat::PrintNotification::Write' data-ref="_ZN12WorldPackets4Chat17PrintNotification5WriteEv" id="_ZN12WorldPackets4Chat17PrintNotification5WriteEv" >Write</a>());</td></tr>
<tr><th id="686">686</th><td>    }</td></tr>
<tr><th id="687">687</th><td>}</td></tr>
<tr><th id="688">688</th><td></td></tr>
<tr><th id="689">689</th><td><em>char</em> <em>const</em>* <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZNK12WorldSession16GetTrinityStringEj" title='WorldSession::GetTrinityString' data-ref="_ZNK12WorldSession16GetTrinityStringEj" >GetTrinityString</dfn>(<a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col6 decl" id="116entry" title='entry' data-type='uint32' data-ref="116entry" >entry</dfn>) <em>const</em></td></tr>
<tr><th id="690">690</th><td>{</td></tr>
<tr><th id="691">691</th><td>    <b>return</b> <a class="macro" href="../Globals/ObjectMgr.h.html#1564" title="ObjectMgr::instance()" data-ref="_M/sObjectMgr">sObjectMgr</a>-&gt;<a class="ref" href="../Globals/ObjectMgr.h.html#_ZNK9ObjectMgr16GetTrinityStringEj14LocaleConstant" title='ObjectMgr::GetTrinityString' data-ref="_ZNK9ObjectMgr16GetTrinityStringEj14LocaleConstant" id="_ZNK9ObjectMgr16GetTrinityStringEj14LocaleConstant" >GetTrinityString</a>(<a class="local col6 ref" href="#116entry" title='entry' data-ref="116entry" >entry</a>, <a class="member" href="WorldSession.h.html#_ZNK12WorldSession23GetSessionDbLocaleIndexEv" title='WorldSession::GetSessionDbLocaleIndex' data-ref="_ZNK12WorldSession23GetSessionDbLocaleIndexEv" id="_ZNK12WorldSession23GetSessionDbLocaleIndexEv" >GetSessionDbLocaleIndex</a>());</td></tr>
<tr><th id="692">692</th><td>}</td></tr>
<tr><th id="693">693</th><td></td></tr>
<tr><th id="694">694</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession11Handle_NULLERN12WorldPackets4NullE" title='WorldSession::Handle_NULL' data-ref="_ZN12WorldSession11Handle_NULLERN12WorldPackets4NullE" >Handle_NULL</dfn>(<span class="namespace">WorldPackets::</span><a class="type" href="WorldSession.h.html#WorldPackets::Null" title='WorldPackets::Null' data-ref="WorldPackets::Null" >Null</a>&amp; <dfn class="local col7 decl" id="117null" title='null' data-type='WorldPackets::Null &amp;' data-ref="117null" >null</dfn>)</td></tr>
<tr><th id="695">695</th><td>{</td></tr>
<tr><th id="696">696</th><td>    <a class="macro" href="../../../common/Logging/Log.h.html#211" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network.opcode&quot;, LOG_LEVEL_ERROR)) { if (false) check_args(&quot;Received unhandled opcode %s from %s&quot;, GetOpcodeNameForLogging(null.GetOpcode()).c_str(), GetPlayerInfo().c_str()); { try { Log::instance()-&gt;outMessage(&quot;network.opcode&quot;, LOG_LEVEL_ERROR, &quot;Received unhandled opcode %s from %s&quot;, GetOpcodeNameForLogging(null.GetOpcode()).c_str(), GetPlayerInfo().c_str()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 696); } }; } } while (0)" data-ref="_M/TC_LOG_ERROR">TC_LOG_ERROR</a>(<q>"network.opcode"</q>, <q>"Received unhandled opcode %s from %s"</q>, <a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" ><a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" >GetOpcodeNameForLogging</a></a>(<a class="local col7 ref" href="#117null" title='null' data-ref="117null" ><a class="local col7 ref" href="#117null" title='null' data-ref="117null" >null</a></a>.<a class="ref" href="Packet.h.html#_ZNK12WorldPackets12ClientPacket9GetOpcodeEv" title='WorldPackets::ClientPacket::GetOpcode' data-ref="_ZNK12WorldPackets12ClientPacket9GetOpcodeEv" id="_ZNK12WorldPackets12ClientPacket9GetOpcodeEv" ><a class="ref" href="Packet.h.html#_ZNK12WorldPackets12ClientPacket9GetOpcodeEv" title='WorldPackets::ClientPacket::GetOpcode' data-ref="_ZNK12WorldPackets12ClientPacket9GetOpcodeEv" id="_ZNK12WorldPackets12ClientPacket9GetOpcodeEv" >GetOpcode</a></a>()).<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" ><a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" >GetPlayerInfo</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>());</td></tr>
<tr><th id="697">697</th><td>}</td></tr>
<tr><th id="698">698</th><td></td></tr>
<tr><th id="699">699</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession20Handle_EarlyProccessER11WorldPacket" title='WorldSession::Handle_EarlyProccess' data-ref="_ZN12WorldSession20Handle_EarlyProccessER11WorldPacket" >Handle_EarlyProccess</dfn>(<a class="type" href="WorldPacket.h.html#WorldPacket" title='WorldPacket' data-ref="WorldPacket" >WorldPacket</a>&amp; <dfn class="local col8 decl" id="118recvPacket" title='recvPacket' data-type='WorldPacket &amp;' data-ref="118recvPacket" >recvPacket</dfn>)</td></tr>
<tr><th id="700">700</th><td>{</td></tr>
<tr><th id="701">701</th><td>    <a class="macro" href="../../../common/Logging/Log.h.html#211" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network.opcode&quot;, LOG_LEVEL_ERROR)) { if (false) check_args(&quot;Received opcode %s that must be processed in WorldSocket::OnRead from %s&quot; , GetOpcodeNameForLogging(static_cast&lt;OpcodeClient&gt;(recvPacket.GetOpcode())).c_str(), GetPlayerInfo().c_str()); { try { Log::instance()-&gt;outMessage(&quot;network.opcode&quot;, LOG_LEVEL_ERROR, &quot;Received opcode %s that must be processed in WorldSocket::OnRead from %s&quot; , GetOpcodeNameForLogging(static_cast&lt;OpcodeClient&gt;(recvPacket.GetOpcode())).c_str(), GetPlayerInfo().c_str()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 702); } }; } } while (0)" data-ref="_M/TC_LOG_ERROR">TC_LOG_ERROR</a>(<q>"network.opcode"</q>, <q>"Received opcode %s that must be processed in WorldSocket::OnRead from %s"</q></td></tr>
<tr><th id="702">702</th><td>        , <a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" ><a class="ref" href="Protocol/Opcodes.h.html#_Z23GetOpcodeNameForLoggingT_" title='GetOpcodeNameForLogging' data-ref="_Z23GetOpcodeNameForLoggingT_" id="_Z23GetOpcodeNameForLoggingT_" >GetOpcodeNameForLogging</a></a>(<b>static_cast</b>&lt;<a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" ><a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" >OpcodeClient</a></a>&gt;(<a class="local col8 ref" href="#118recvPacket" title='recvPacket' data-ref="118recvPacket" ><a class="local col8 ref" href="#118recvPacket" title='recvPacket' data-ref="118recvPacket" >recvPacket</a></a>.<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a></a>())).<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" ><a class="member" href="#_ZNK12WorldSession13GetPlayerInfoEv" title='WorldSession::GetPlayerInfo' data-ref="_ZNK12WorldSession13GetPlayerInfoEv" >GetPlayerInfo</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>());</td></tr>
<tr><th id="703">703</th><td>}</td></tr>
<tr><th id="704">704</th><td></td></tr>
<tr><th id="705">705</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession21SendConnectToInstanceEN12WorldPackets4Auth15ConnectToSerialE" title='WorldSession::SendConnectToInstance' data-ref="_ZN12WorldSession21SendConnectToInstanceEN12WorldPackets4Auth15ConnectToSerialE" >SendConnectToInstance</dfn>(<span class="namespace">WorldPackets::Auth::</span><a class="type" href="WorldSession.h.html#WorldPackets::Auth::ConnectToSerial" title='WorldPackets::Auth::ConnectToSerial' data-ref="WorldPackets::Auth::ConnectToSerial" >ConnectToSerial</a> <dfn class="local col9 decl" id="119serial" title='serial' data-type='WorldPackets::Auth::ConnectToSerial' data-ref="119serial" >serial</dfn>)</td></tr>
<tr><th id="706">706</th><td>{</td></tr>
<tr><th id="707">707</th><td>    <span class="namespace">boost::system::</span><a class="type" href="../../../../../include/boost/system/error_code.hpp.html#boost::system::error_code" title='boost::system::error_code' data-ref="boost::system::error_code" >error_code</a> <dfn class="local col0 decl" id="120ignored_error" title='ignored_error' data-type='boost::system::error_code' data-ref="120ignored_error" >ignored_error</dfn>;</td></tr>
<tr><th id="708">708</th><td>    <span class="namespace">boost::asio::ip::</span><a class="type" href="../../../../../include/boost/asio/ip/tcp.hpp.html#boost::asio::ip::tcp" title='boost::asio::ip::tcp' data-ref="boost::asio::ip::tcp" >tcp</a>::<a class="typedef" href="../../../../../include/boost/asio/ip/tcp.hpp.html#boost::asio::ip::tcp::endpoint" title='boost::asio::ip::tcp::endpoint' data-type='basic_endpoint&lt;boost::asio::ip::tcp&gt;' data-ref="boost::asio::ip::tcp::endpoint" >endpoint</a> <dfn class="local col1 decl" id="121instanceAddress" title='instanceAddress' data-type='boost::asio::ip::tcp::endpoint' data-ref="121instanceAddress" >instanceAddress</dfn> = <a class="ref" href="../World/World.h.html#realm" title='realm' data-ref="realm" id="realm" >realm</a>.<a class="ref" href="../../shared/Realm/Realm.h.html#_ZNK5Realm19GetAddressForClientERKN5boost4asio2ip7addressE" title='Realm::GetAddressForClient' data-ref="_ZNK5Realm19GetAddressForClientERKN5boost4asio2ip7addressE" id="_ZNK5Realm19GetAddressForClientERKN5boost4asio2ip7addressE" >GetAddressForClient</a>(<span class="namespace">boost::asio::ip::</span><a class="type" href="../../../../../include/boost/asio/ip/address.hpp.html#boost::asio::ip::address" title='boost::asio::ip::address' data-ref="boost::asio::ip::address" >address</a>::<a class="ref" href="../../../../../include/boost/asio/ip/address.hpp.html#_ZN5boost4asio2ip7address11from_stringERKSsRNS_6system10error_codeE" title='boost::asio::ip::address::from_string' data-ref="_ZN5boost4asio2ip7address11from_stringERKSsRNS_6system10error_codeE" id="_ZN5boost4asio2ip7address11from_stringERKSsRNS_6system10error_codeE" >from_string</a>(<a class="member" href="WorldSession.h.html#_ZNK12WorldSession16GetRemoteAddressEv" title='WorldSession::GetRemoteAddress' data-ref="_ZNK12WorldSession16GetRemoteAddressEv" id="_ZNK12WorldSession16GetRemoteAddressEv" >GetRemoteAddress</a>(), <a class="local col0 ref" href="#120ignored_error" title='ignored_error' data-ref="120ignored_error" >ignored_error</a>));</td></tr>
<tr><th id="709">709</th><td>    <a class="local col1 ref" href="#121instanceAddress" title='instanceAddress' data-ref="121instanceAddress" >instanceAddress</a>.<a class="ref" href="../../../../../include/boost/asio/ip/basic_endpoint.hpp.html#_ZN5boost4asio2ip14basic_endpoint4portEt" title='boost::asio::ip::basic_endpoint::port' data-ref="_ZN5boost4asio2ip14basic_endpoint4portEt" id="_ZN5boost4asio2ip14basic_endpoint4portEt" >port</a>(<a class="macro" href="../World/World.h.html#904" title="World::instance()" data-ref="_M/sWorld">sWorld</a>-&gt;<a class="ref" href="../World/World.h.html#_ZNK5World12getIntConfigE15WorldIntConfigs" title='World::getIntConfig' data-ref="_ZNK5World12getIntConfigE15WorldIntConfigs" id="_ZNK5World12getIntConfigE15WorldIntConfigs" >getIntConfig</a>(<a class="enum" href="../World/World.h.html#WorldIntConfigs::CONFIG_PORT_INSTANCE" title='WorldIntConfigs::CONFIG_PORT_INSTANCE' data-ref="WorldIntConfigs::CONFIG_PORT_INSTANCE" id="WorldIntConfigs::CONFIG_PORT_INSTANCE" >CONFIG_PORT_INSTANCE</a>));</td></tr>
<tr><th id="710">710</th><td></td></tr>
<tr><th id="711">711</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_instanceConnectKey" title='WorldSession::_instanceConnectKey' data-ref="WorldSession::_instanceConnectKey" id="WorldSession::_instanceConnectKey" >_instanceConnectKey</a>.<a class="ref" href="WorldSession.h.html#WorldSession::ConnectToKey::Fields" title='WorldSession::ConnectToKey::Fields' data-ref="WorldSession::ConnectToKey::Fields" id="WorldSession::ConnectToKey::Fields" >Fields</a>.<a class="ref" href="WorldSession.h.html#WorldSession::ConnectToKey::(anonymous)::AccountId" title='WorldSession::ConnectToKey::(anonymous struct)::AccountId' data-ref="WorldSession::ConnectToKey::(anonymous)::AccountId" id="WorldSession::ConnectToKey::(anonymous)::AccountId" >AccountId</a> = <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a>();</td></tr>
<tr><th id="712">712</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_instanceConnectKey" title='WorldSession::_instanceConnectKey' data-ref="WorldSession::_instanceConnectKey" id="WorldSession::_instanceConnectKey" >_instanceConnectKey</a>.<a class="ref" href="WorldSession.h.html#WorldSession::ConnectToKey::Fields" title='WorldSession::ConnectToKey::Fields' data-ref="WorldSession::ConnectToKey::Fields" id="WorldSession::ConnectToKey::Fields" >Fields</a>.<a class="ref" href="WorldSession.h.html#WorldSession::ConnectToKey::(anonymous)::ConnectionType" title='WorldSession::ConnectToKey::(anonymous struct)::ConnectionType' data-ref="WorldSession::ConnectToKey::(anonymous)::ConnectionType" id="WorldSession::ConnectToKey::(anonymous)::ConnectionType" >ConnectionType</a> = <a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_INSTANCE" title='ConnectionType::CONNECTION_TYPE_INSTANCE' data-ref="ConnectionType::CONNECTION_TYPE_INSTANCE" id="ConnectionType::CONNECTION_TYPE_INSTANCE" >CONNECTION_TYPE_INSTANCE</a>;</td></tr>
<tr><th id="713">713</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_instanceConnectKey" title='WorldSession::_instanceConnectKey' data-ref="WorldSession::_instanceConnectKey" id="WorldSession::_instanceConnectKey" >_instanceConnectKey</a>.<a class="ref" href="WorldSession.h.html#WorldSession::ConnectToKey::Fields" title='WorldSession::ConnectToKey::Fields' data-ref="WorldSession::ConnectToKey::Fields" id="WorldSession::ConnectToKey::Fields" >Fields</a>.<a class="ref" href="WorldSession.h.html#WorldSession::ConnectToKey::(anonymous)::Key" title='WorldSession::ConnectToKey::(anonymous struct)::Key' data-ref="WorldSession::ConnectToKey::(anonymous)::Key" id="WorldSession::ConnectToKey::(anonymous)::Key" >Key</a> = <a class="ref" href="../../../common/Utilities/Random.h.html#_Z5urandjj" title='urand' data-ref="_Z5urandjj" id="_Z5urandjj" >urand</a>(<var>0</var>, <var>0x7FFFFFFF</var>);</td></tr>
<tr><th id="714">714</th><td></td></tr>
<tr><th id="715">715</th><td>    <span class="namespace">WorldPackets::Auth::</span><a class="type" href="Packets/AuthenticationPackets.h.html#WorldPackets::Auth::ConnectTo" title='WorldPackets::Auth::ConnectTo' data-ref="WorldPackets::Auth::ConnectTo" >ConnectTo</a> <dfn class="local col2 decl" id="122connectTo" title='connectTo' data-type='WorldPackets::Auth::ConnectTo' data-ref="122connectTo" >connectTo</dfn>;</td></tr>
<tr><th id="716">716</th><td>    <a class="local col2 ref" href="#122connectTo" title='connectTo' data-ref="122connectTo" >connectTo</a>.<a class="ref" href="Packets/AuthenticationPackets.h.html#WorldPackets::Auth::ConnectTo::Key" title='WorldPackets::Auth::ConnectTo::Key' data-ref="WorldPackets::Auth::ConnectTo::Key" id="WorldPackets::Auth::ConnectTo::Key" >Key</a> = <a class="member" href="WorldSession.h.html#WorldSession::_instanceConnectKey" title='WorldSession::_instanceConnectKey' data-ref="WorldSession::_instanceConnectKey" id="WorldSession::_instanceConnectKey" >_instanceConnectKey</a>.<a class="ref" href="WorldSession.h.html#WorldSession::ConnectToKey::Raw" title='WorldSession::ConnectToKey::Raw' data-ref="WorldSession::ConnectToKey::Raw" id="WorldSession::ConnectToKey::Raw" >Raw</a>;</td></tr>
<tr><th id="717">717</th><td>    <a class="local col2 ref" href="#122connectTo" title='connectTo' data-ref="122connectTo" >connectTo</a>.<a class="ref" href="Packets/AuthenticationPackets.h.html#WorldPackets::Auth::ConnectTo::Serial" title='WorldPackets::Auth::ConnectTo::Serial' data-ref="WorldPackets::Auth::ConnectTo::Serial" id="WorldPackets::Auth::ConnectTo::Serial" >Serial</a> = <a class="local col9 ref" href="#119serial" title='serial' data-ref="119serial" >serial</a>;</td></tr>
<tr><th id="718">718</th><td>    <a class="local col2 ref" href="#122connectTo" title='connectTo' data-ref="122connectTo" >connectTo</a>.<a class="ref" href="Packets/AuthenticationPackets.h.html#WorldPackets::Auth::ConnectTo::Payload" title='WorldPackets::Auth::ConnectTo::Payload' data-ref="WorldPackets::Auth::ConnectTo::Payload" id="WorldPackets::Auth::ConnectTo::Payload" >Payload</a>.<a class="ref" href="Packets/AuthenticationPackets.h.html#WorldPackets::Auth::ConnectTo::ConnectPayload::Where" title='WorldPackets::Auth::ConnectTo::ConnectPayload::Where' data-ref="WorldPackets::Auth::ConnectTo::ConnectPayload::Where" id="WorldPackets::Auth::ConnectTo::ConnectPayload::Where" >Where</a> <a class="ref" href="../../../../../include/boost/asio/ip/basic_endpoint.hpp.html#_ZN5boost4asio2ip14basic_endpointaSERKNS1_14basic_endpointIT_EE" title='boost::asio::ip::basic_endpoint::operator=' data-ref="_ZN5boost4asio2ip14basic_endpointaSERKNS1_14basic_endpointIT_EE" id="_ZN5boost4asio2ip14basic_endpointaSERKNS1_14basic_endpointIT_EE" >=</a> <a class="local col1 ref" href="#121instanceAddress" title='instanceAddress' data-ref="121instanceAddress" >instanceAddress</a>;</td></tr>
<tr><th id="719">719</th><td>    <a class="local col2 ref" href="#122connectTo" title='connectTo' data-ref="122connectTo" >connectTo</a>.<a class="ref" href="Packets/AuthenticationPackets.h.html#WorldPackets::Auth::ConnectTo::Con" title='WorldPackets::Auth::ConnectTo::Con' data-ref="WorldPackets::Auth::ConnectTo::Con" id="WorldPackets::Auth::ConnectTo::Con" >Con</a> = <a class="enum" href="Protocol/Opcodes.h.html#ConnectionType::CONNECTION_TYPE_INSTANCE" title='ConnectionType::CONNECTION_TYPE_INSTANCE' data-ref="ConnectionType::CONNECTION_TYPE_INSTANCE" id="ConnectionType::CONNECTION_TYPE_INSTANCE" >CONNECTION_TYPE_INSTANCE</a>;</td></tr>
<tr><th id="720">720</th><td></td></tr>
<tr><th id="721">721</th><td>    <a class="member" href="#_ZN12WorldSession10SendPacketEPK11WorldPacketb" title='WorldSession::SendPacket' data-ref="_ZN12WorldSession10SendPacketEPK11WorldPacketb" >SendPacket</a>(<a class="local col2 ref" href="#122connectTo" title='connectTo' data-ref="122connectTo" >connectTo</a>.<a class="virtual ref" href="Packets/AuthenticationPackets.h.html#_ZN12WorldPackets4Auth9ConnectTo5WriteEv" title='WorldPackets::Auth::ConnectTo::Write' data-ref="_ZN12WorldPackets4Auth9ConnectTo5WriteEv" id="_ZN12WorldPackets4Auth9ConnectTo5WriteEv" >Write</a>());</td></tr>
<tr><th id="722">722</th><td>}</td></tr>
<tr><th id="723">723</th><td></td></tr>
<tr><th id="724">724</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession15LoadAccountDataESt10shared_ptrI17PreparedResultSetEj" title='WorldSession::LoadAccountData' data-ref="_ZN12WorldSession15LoadAccountDataESt10shared_ptrI17PreparedResultSetEj" >LoadAccountData</dfn>(<a class="typedef" href="../../database/Database/QueryResult.h.html#PreparedQueryResult" title='PreparedQueryResult' data-type='std::shared_ptr&lt;PreparedResultSet&gt;' data-ref="PreparedQueryResult" >PreparedQueryResult</a> <dfn class="local col3 decl" id="123result" title='result' data-type='PreparedQueryResult' data-ref="123result" >result</dfn>, <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col4 decl" id="124mask" title='mask' data-type='uint32' data-ref="124mask" >mask</dfn>)</td></tr>
<tr><th id="725">725</th><td>{</td></tr>
<tr><th id="726">726</th><td>    <b>for</b> (<a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col5 decl" id="125i" title='i' data-type='uint32' data-ref="125i" >i</dfn> = <var>0</var>; <a class="local col5 ref" href="#125i" title='i' data-ref="125i" >i</a> &lt; <a class="macro" href="WorldSession.h.html#719" title="8" data-ref="_M/NUM_ACCOUNT_DATA_TYPES">NUM_ACCOUNT_DATA_TYPES</a>; ++<a class="local col5 ref" href="#125i" title='i' data-ref="125i" >i</a>)</td></tr>
<tr><th id="727">727</th><td>        <b>if</b> (<a class="local col4 ref" href="#124mask" title='mask' data-ref="124mask" >mask</a> &amp; (<var>1</var> &lt;&lt; <a class="local col5 ref" href="#125i" title='i' data-ref="125i" >i</a>))</td></tr>
<tr><th id="728">728</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_accountData" title='WorldSession::_accountData' data-ref="WorldSession::_accountData" id="WorldSession::_accountData" >_accountData</a>[<a class="local col5 ref" href="#125i" title='i' data-ref="125i" >i</a>] <a class="ref" href="WorldSession.h.html#_ZN11AccountDataaSEOS_" title='AccountData::operator=' data-ref="_ZN11AccountDataaSEOS_" id="_ZN11AccountDataaSEOS_" >=</a> <a class="type" href="WorldSession.h.html#AccountData" title='AccountData' data-ref="AccountData" >AccountData</a><a class="ref" href="WorldSession.h.html#_ZN11AccountDataC1Ev" title='AccountData::AccountData' data-ref="_ZN11AccountDataC1Ev" id="_ZN11AccountDataC1Ev" >(</a>);</td></tr>
<tr><th id="729">729</th><td></td></tr>
<tr><th id="730">730</th><td>    <b>if</b> (!<a class="local col3 ref" href="#123result" title='result' data-ref="123result" >result</a>)</td></tr>
<tr><th id="731">731</th><td>        <b>return</b>;</td></tr>
<tr><th id="732">732</th><td></td></tr>
<tr><th id="733">733</th><td>    <b>do</b></td></tr>
<tr><th id="734">734</th><td>    {</td></tr>
<tr><th id="735">735</th><td>        <a class="type" href="../../database/Database/Field.h.html#Field" title='Field' data-ref="Field" >Field</a>* <dfn class="local col6 decl" id="126fields" title='fields' data-type='Field *' data-ref="126fields" >fields</dfn> = <a class="local col3 ref" href="#123result" title='result' data-ref="123result" >result</a><a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv" id="_ZNKSt12__shared_ptrptEv" >-&gt;</a><a class="ref" href="../../database/Database/QueryResult.h.html#_ZNK17PreparedResultSet5FetchEv" title='PreparedResultSet::Fetch' data-ref="_ZNK17PreparedResultSet5FetchEv" id="_ZNK17PreparedResultSet5FetchEv" >Fetch</a>();</td></tr>
<tr><th id="736">736</th><td>        <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col7 decl" id="127type" title='type' data-type='uint32' data-ref="127type" >type</dfn> = <a class="local col6 ref" href="#126fields" title='fields' data-ref="126fields" >fields</a>[<var>0</var>].<a class="ref" href="../../database/Database/Field.h.html#_ZNK5Field8GetUInt8Ev" title='Field::GetUInt8' data-ref="_ZNK5Field8GetUInt8Ev" id="_ZNK5Field8GetUInt8Ev" >GetUInt8</a>();</td></tr>
<tr><th id="737">737</th><td>        <b>if</b> (<a class="local col7 ref" href="#127type" title='type' data-ref="127type" >type</a> &gt;= <a class="macro" href="WorldSession.h.html#719" title="8" data-ref="_M/NUM_ACCOUNT_DATA_TYPES">NUM_ACCOUNT_DATA_TYPES</a>)</td></tr>
<tr><th id="738">738</th><td>        {</td></tr>
<tr><th id="739">739</th><td>            <a class="macro" href="../../../common/Logging/Log.h.html#211" title="do { if (Log::instance()-&gt;ShouldLog(&quot;misc&quot;, LOG_LEVEL_ERROR)) { if (false) check_args(&quot;Table `%s` have invalid account data type (%u), ignore.&quot;, mask == 0x15 ? &quot;account_data&quot; : &quot;character_account_data&quot;, type); { try { Log::instance()-&gt;outMessage(&quot;misc&quot;, LOG_LEVEL_ERROR, &quot;Table `%s` have invalid account data type (%u), ignore.&quot;, mask == 0x15 ? &quot;account_data&quot; : &quot;character_account_data&quot;, type); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 740); } }; } } while (0)" data-ref="_M/TC_LOG_ERROR">TC_LOG_ERROR</a>(<q>"misc"</q>, <q>"Table `%s` have invalid account data type (%u), ignore."</q>,</td></tr>
<tr><th id="740">740</th><td>                <a class="local col4 ref" href="#124mask" title='mask' data-ref="124mask" ><a class="local col4 ref" href="#124mask" title='mask' data-ref="124mask" >mask</a></a> == <a class="macro" href="WorldSession.h.html#721" title="0x15" data-ref="_M/GLOBAL_CACHE_MASK">GLOBAL_CACHE_MASK</a> ? <q>"account_data"</q> : <q>"character_account_data"</q>, <a class="local col7 ref" href="#127type" title='type' data-ref="127type" ><a class="local col7 ref" href="#127type" title='type' data-ref="127type" >type</a></a>);</td></tr>
<tr><th id="741">741</th><td>            <b>continue</b>;</td></tr>
<tr><th id="742">742</th><td>        }</td></tr>
<tr><th id="743">743</th><td></td></tr>
<tr><th id="744">744</th><td>        <b>if</b> ((<a class="local col4 ref" href="#124mask" title='mask' data-ref="124mask" >mask</a> &amp; (<var>1</var> &lt;&lt; <a class="local col7 ref" href="#127type" title='type' data-ref="127type" >type</a>)) == <var>0</var>)</td></tr>
<tr><th id="745">745</th><td>        {</td></tr>
<tr><th id="746">746</th><td>            <a class="macro" href="../../../common/Logging/Log.h.html#211" title="do { if (Log::instance()-&gt;ShouldLog(&quot;misc&quot;, LOG_LEVEL_ERROR)) { if (false) check_args(&quot;Table `%s` have non appropriate for table  account data type (%u), ignore.&quot;, mask == 0x15 ? &quot;account_data&quot; : &quot;character_account_data&quot;, type); { try { Log::instance()-&gt;outMessage(&quot;misc&quot;, LOG_LEVEL_ERROR, &quot;Table `%s` have non appropriate for table  account data type (%u), ignore.&quot;, mask == 0x15 ? &quot;account_data&quot; : &quot;character_account_data&quot;, type); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 747); } }; } } while (0)" data-ref="_M/TC_LOG_ERROR">TC_LOG_ERROR</a>(<q>"misc"</q>, <q>"Table `%s` have non appropriate for table  account data type (%u), ignore."</q>,</td></tr>
<tr><th id="747">747</th><td>                <a class="local col4 ref" href="#124mask" title='mask' data-ref="124mask" ><a class="local col4 ref" href="#124mask" title='mask' data-ref="124mask" >mask</a></a> == <a class="macro" href="WorldSession.h.html#721" title="0x15" data-ref="_M/GLOBAL_CACHE_MASK">GLOBAL_CACHE_MASK</a> ? <q>"account_data"</q> : <q>"character_account_data"</q>, <a class="local col7 ref" href="#127type" title='type' data-ref="127type" ><a class="local col7 ref" href="#127type" title='type' data-ref="127type" >type</a></a>);</td></tr>
<tr><th id="748">748</th><td>            <b>continue</b>;</td></tr>
<tr><th id="749">749</th><td>        }</td></tr>
<tr><th id="750">750</th><td></td></tr>
<tr><th id="751">751</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_accountData" title='WorldSession::_accountData' data-ref="WorldSession::_accountData" id="WorldSession::_accountData" >_accountData</a>[<a class="local col7 ref" href="#127type" title='type' data-ref="127type" >type</a>].<a class="ref" href="WorldSession.h.html#AccountData::Time" title='AccountData::Time' data-ref="AccountData::Time" id="AccountData::Time" >Time</a> = <a class="typedef" href="../../../../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t" >time_t</a>(<a class="local col6 ref" href="#126fields" title='fields' data-ref="126fields" >fields</a>[<var>1</var>].<a class="ref" href="../../database/Database/Field.h.html#_ZNK5Field9GetUInt32Ev" title='Field::GetUInt32' data-ref="_ZNK5Field9GetUInt32Ev" id="_ZNK5Field9GetUInt32Ev" >GetUInt32</a>());</td></tr>
<tr><th id="752">752</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_accountData" title='WorldSession::_accountData' data-ref="WorldSession::_accountData" id="WorldSession::_accountData" >_accountData</a>[<a class="local col7 ref" href="#127type" title='type' data-ref="127type" >type</a>].<a class="ref" href="WorldSession.h.html#AccountData::Data" title='AccountData::Data' data-ref="AccountData::Data" id="AccountData::Data" >Data</a> <a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNSt12basic_stringaSEOSbIT_T0_T1_E" title='std::basic_string::operator=' data-ref="_ZNSt12basic_stringaSEOSbIT_T0_T1_E" id="_ZNSt12basic_stringaSEOSbIT_T0_T1_E" >=</a> <a class="local col6 ref" href="#126fields" title='fields' data-ref="126fields" >fields</a>[<var>2</var>].<a class="ref" href="../../database/Database/Field.h.html#_ZNK5Field9GetStringEv" title='Field::GetString' data-ref="_ZNK5Field9GetStringEv" id="_ZNK5Field9GetStringEv" >GetString</a>();</td></tr>
<tr><th id="753">753</th><td>    }</td></tr>
<tr><th id="754">754</th><td>    <b>while</b> (<a class="local col3 ref" href="#123result" title='result' data-ref="123result" >result</a><a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv" id="_ZNKSt12__shared_ptrptEv" >-&gt;</a><a class="ref" href="../../database/Database/QueryResult.h.html#_ZN17PreparedResultSet7NextRowEv" title='PreparedResultSet::NextRow' data-ref="_ZN17PreparedResultSet7NextRowEv" id="_ZN17PreparedResultSet7NextRowEv" >NextRow</a>());</td></tr>
<tr><th id="755">755</th><td>}</td></tr>
<tr><th id="756">756</th><td></td></tr>
<tr><th id="757">757</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession14SetAccountDataE15AccountDataTypejRKSs" title='WorldSession::SetAccountData' data-ref="_ZN12WorldSession14SetAccountDataE15AccountDataTypejRKSs" >SetAccountData</dfn>(<a class="type" href="WorldSession.h.html#AccountDataType" title='AccountDataType' data-ref="AccountDataType" >AccountDataType</a> <dfn class="local col8 decl" id="128type" title='type' data-type='AccountDataType' data-ref="128type" >type</dfn>, <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col9 decl" id="129time" title='time' data-type='uint32' data-ref="129time" >time</dfn>, <span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/4.9/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" >string</a> <em>const</em>&amp; <dfn class="local col0 decl" id="130data" title='data' data-type='const std::string &amp;' data-ref="130data" >data</dfn>)</td></tr>
<tr><th id="758">758</th><td>{</td></tr>
<tr><th id="759">759</th><td>    <b>if</b> ((<var>1</var> &lt;&lt; <a class="local col8 ref" href="#128type" title='type' data-ref="128type" >type</a>) &amp; <a class="macro" href="WorldSession.h.html#721" title="0x15" data-ref="_M/GLOBAL_CACHE_MASK">GLOBAL_CACHE_MASK</a>)</td></tr>
<tr><th id="760">760</th><td>    {</td></tr>
<tr><th id="761">761</th><td>        <a class="type" href="../../database/Database/PreparedStatement.h.html#PreparedStatement" title='PreparedStatement' data-ref="PreparedStatement" >PreparedStatement</a>* <dfn class="local col1 decl" id="131stmt" title='stmt' data-type='PreparedStatement *' data-ref="131stmt" >stmt</dfn> = <a class="ref" href="../../database/Database/DatabaseEnv.h.html#CharacterDatabase" title='CharacterDatabase' data-ref="CharacterDatabase" id="CharacterDatabase" >CharacterDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" title='DatabaseWorkerPool::GetPreparedStatement' data-ref="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" id="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" >GetPreparedStatement</a>(<a class="enum" href="../../database/Database/Implementation/CharacterDatabase.h.html#CharacterDatabaseStatements::CHAR_REP_ACCOUNT_DATA" title='CharacterDatabaseStatements::CHAR_REP_ACCOUNT_DATA' data-ref="CharacterDatabaseStatements::CHAR_REP_ACCOUNT_DATA" id="CharacterDatabaseStatements::CHAR_REP_ACCOUNT_DATA" >CHAR_REP_ACCOUNT_DATA</a>);</td></tr>
<tr><th id="762">762</th><td>        <a class="local col1 ref" href="#131stmt" title='stmt' data-ref="131stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setUInt32Ehj" title='PreparedStatement::setUInt32' data-ref="_ZN17PreparedStatement9setUInt32Ehj" id="_ZN17PreparedStatement9setUInt32Ehj" >setUInt32</a>(<var>0</var>, <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a>());</td></tr>
<tr><th id="763">763</th><td>        <a class="local col1 ref" href="#131stmt" title='stmt' data-ref="131stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement8setUInt8Ehh" title='PreparedStatement::setUInt8' data-ref="_ZN17PreparedStatement8setUInt8Ehh" id="_ZN17PreparedStatement8setUInt8Ehh" >setUInt8</a>(<var>1</var>, <a class="local col8 ref" href="#128type" title='type' data-ref="128type" >type</a>);</td></tr>
<tr><th id="764">764</th><td>        <a class="local col1 ref" href="#131stmt" title='stmt' data-ref="131stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setUInt32Ehj" title='PreparedStatement::setUInt32' data-ref="_ZN17PreparedStatement9setUInt32Ehj" id="_ZN17PreparedStatement9setUInt32Ehj" >setUInt32</a>(<var>2</var>, <a class="local col9 ref" href="#129time" title='time' data-ref="129time" >time</a>);</td></tr>
<tr><th id="765">765</th><td>        <a class="local col1 ref" href="#131stmt" title='stmt' data-ref="131stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setStringEhRKSs" title='PreparedStatement::setString' data-ref="_ZN17PreparedStatement9setStringEhRKSs" id="_ZN17PreparedStatement9setStringEhRKSs" >setString</a>(<var>3</var>, <a class="local col0 ref" href="#130data" title='data' data-ref="130data" >data</a>);</td></tr>
<tr><th id="766">766</th><td>        <a class="ref" href="../../database/Database/DatabaseEnv.h.html#CharacterDatabase" title='CharacterDatabase' data-ref="CharacterDatabase" id="CharacterDatabase" >CharacterDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool7ExecuteEP17PreparedStatement" title='DatabaseWorkerPool::Execute' data-ref="_ZN18DatabaseWorkerPool7ExecuteEP17PreparedStatement" id="_ZN18DatabaseWorkerPool7ExecuteEP17PreparedStatement" >Execute</a>(<a class="local col1 ref" href="#131stmt" title='stmt' data-ref="131stmt" >stmt</a>);</td></tr>
<tr><th id="767">767</th><td>    }</td></tr>
<tr><th id="768">768</th><td>    <b>else</b></td></tr>
<tr><th id="769">769</th><td>    {</td></tr>
<tr><th id="770">770</th><td>        <i>// _player can be NULL and packet received after logout but m_GUID still store correct guid</i></td></tr>
<tr><th id="771">771</th><td>        <b>if</b> (!<a class="member" href="WorldSession.h.html#WorldSession::m_GUIDLow" title='WorldSession::m_GUIDLow' data-ref="WorldSession::m_GUIDLow" id="WorldSession::m_GUIDLow" >m_GUIDLow</a>)</td></tr>
<tr><th id="772">772</th><td>            <b>return</b>;</td></tr>
<tr><th id="773">773</th><td></td></tr>
<tr><th id="774">774</th><td>        <a class="type" href="../../database/Database/PreparedStatement.h.html#PreparedStatement" title='PreparedStatement' data-ref="PreparedStatement" >PreparedStatement</a>* <dfn class="local col2 decl" id="132stmt" title='stmt' data-type='PreparedStatement *' data-ref="132stmt" >stmt</dfn> = <a class="ref" href="../../database/Database/DatabaseEnv.h.html#CharacterDatabase" title='CharacterDatabase' data-ref="CharacterDatabase" id="CharacterDatabase" >CharacterDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" title='DatabaseWorkerPool::GetPreparedStatement' data-ref="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" id="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" >GetPreparedStatement</a>(<a class="enum" href="../../database/Database/Implementation/CharacterDatabase.h.html#CharacterDatabaseStatements::CHAR_REP_PLAYER_ACCOUNT_DATA" title='CharacterDatabaseStatements::CHAR_REP_PLAYER_ACCOUNT_DATA' data-ref="CharacterDatabaseStatements::CHAR_REP_PLAYER_ACCOUNT_DATA" id="CharacterDatabaseStatements::CHAR_REP_PLAYER_ACCOUNT_DATA" >CHAR_REP_PLAYER_ACCOUNT_DATA</a>);</td></tr>
<tr><th id="775">775</th><td>        <a class="local col2 ref" href="#132stmt" title='stmt' data-ref="132stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setUInt64Ehm" title='PreparedStatement::setUInt64' data-ref="_ZN17PreparedStatement9setUInt64Ehm" id="_ZN17PreparedStatement9setUInt64Ehm" >setUInt64</a>(<var>0</var>, <a class="member" href="WorldSession.h.html#WorldSession::m_GUIDLow" title='WorldSession::m_GUIDLow' data-ref="WorldSession::m_GUIDLow" id="WorldSession::m_GUIDLow" >m_GUIDLow</a>);</td></tr>
<tr><th id="776">776</th><td>        <a class="local col2 ref" href="#132stmt" title='stmt' data-ref="132stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement8setUInt8Ehh" title='PreparedStatement::setUInt8' data-ref="_ZN17PreparedStatement8setUInt8Ehh" id="_ZN17PreparedStatement8setUInt8Ehh" >setUInt8</a>(<var>1</var>, <a class="local col8 ref" href="#128type" title='type' data-ref="128type" >type</a>);</td></tr>
<tr><th id="777">777</th><td>        <a class="local col2 ref" href="#132stmt" title='stmt' data-ref="132stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setUInt32Ehj" title='PreparedStatement::setUInt32' data-ref="_ZN17PreparedStatement9setUInt32Ehj" id="_ZN17PreparedStatement9setUInt32Ehj" >setUInt32</a>(<var>2</var>, <a class="local col9 ref" href="#129time" title='time' data-ref="129time" >time</a>);</td></tr>
<tr><th id="778">778</th><td>        <a class="local col2 ref" href="#132stmt" title='stmt' data-ref="132stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setStringEhRKSs" title='PreparedStatement::setString' data-ref="_ZN17PreparedStatement9setStringEhRKSs" id="_ZN17PreparedStatement9setStringEhRKSs" >setString</a>(<var>3</var>, <a class="local col0 ref" href="#130data" title='data' data-ref="130data" >data</a>);</td></tr>
<tr><th id="779">779</th><td>        <a class="ref" href="../../database/Database/DatabaseEnv.h.html#CharacterDatabase" title='CharacterDatabase' data-ref="CharacterDatabase" id="CharacterDatabase" >CharacterDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool7ExecuteEP17PreparedStatement" title='DatabaseWorkerPool::Execute' data-ref="_ZN18DatabaseWorkerPool7ExecuteEP17PreparedStatement" id="_ZN18DatabaseWorkerPool7ExecuteEP17PreparedStatement" >Execute</a>(<a class="local col2 ref" href="#132stmt" title='stmt' data-ref="132stmt" >stmt</a>);</td></tr>
<tr><th id="780">780</th><td>    }</td></tr>
<tr><th id="781">781</th><td></td></tr>
<tr><th id="782">782</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_accountData" title='WorldSession::_accountData' data-ref="WorldSession::_accountData" id="WorldSession::_accountData" >_accountData</a>[<a class="local col8 ref" href="#128type" title='type' data-ref="128type" >type</a>].<a class="ref" href="WorldSession.h.html#AccountData::Time" title='AccountData::Time' data-ref="AccountData::Time" id="AccountData::Time" >Time</a> = <a class="typedef" href="../../../../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t" >time_t</a>(<a class="local col9 ref" href="#129time" title='time' data-ref="129time" >time</a>);</td></tr>
<tr><th id="783">783</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_accountData" title='WorldSession::_accountData' data-ref="WorldSession::_accountData" id="WorldSession::_accountData" >_accountData</a>[<a class="local col8 ref" href="#128type" title='type' data-ref="128type" >type</a>].<a class="ref" href="WorldSession.h.html#AccountData::Data" title='AccountData::Data' data-ref="AccountData::Data" id="AccountData::Data" >Data</a> <a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNSt12basic_stringaSERKSbIT_T0_T1_E" title='std::basic_string::operator=' data-ref="_ZNSt12basic_stringaSERKSbIT_T0_T1_E" id="_ZNSt12basic_stringaSERKSbIT_T0_T1_E" >=</a> <a class="local col0 ref" href="#130data" title='data' data-ref="130data" >data</a>;</td></tr>
<tr><th id="784">784</th><td>}</td></tr>
<tr><th id="785">785</th><td></td></tr>
<tr><th id="786">786</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession17LoadTutorialsDataESt10shared_ptrI17PreparedResultSetE" title='WorldSession::LoadTutorialsData' data-ref="_ZN12WorldSession17LoadTutorialsDataESt10shared_ptrI17PreparedResultSetE" >LoadTutorialsData</dfn>(<a class="typedef" href="../../database/Database/QueryResult.h.html#PreparedQueryResult" title='PreparedQueryResult' data-type='std::shared_ptr&lt;PreparedResultSet&gt;' data-ref="PreparedQueryResult" >PreparedQueryResult</a> <dfn class="local col3 decl" id="133result" title='result' data-type='PreparedQueryResult' data-ref="133result" >result</dfn>)</td></tr>
<tr><th id="787">787</th><td>{</td></tr>
<tr><th id="788">788</th><td>    <a class="ref" href="../../../../../include/string.h.html#memset" title='memset' data-ref="memset" id="memset" >memset</a>(<a class="member" href="WorldSession.h.html#WorldSession::_tutorials" title='WorldSession::_tutorials' data-ref="WorldSession::_tutorials" id="WorldSession::_tutorials" >_tutorials</a>, <var>0</var>, <b>sizeof</b>(<a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a>) * <a class="macro" href="WorldSession.h.html#757" title="8" data-ref="_M/MAX_ACCOUNT_TUTORIAL_VALUES">MAX_ACCOUNT_TUTORIAL_VALUES</a>);</td></tr>
<tr><th id="789">789</th><td></td></tr>
<tr><th id="790">790</th><td>    <b>if</b> (<a class="local col3 ref" href="#133result" title='result' data-ref="133result" >result</a>)</td></tr>
<tr><th id="791">791</th><td>        <b>for</b> (<a class="typedef" href="../../../common/Define.h.html#uint8" title='uint8' data-type='uint8_t' data-ref="uint8" >uint8</a> <dfn class="local col4 decl" id="134i" title='i' data-type='uint8' data-ref="134i" >i</dfn> = <var>0</var>; <a class="local col4 ref" href="#134i" title='i' data-ref="134i" >i</a> &lt; <a class="macro" href="WorldSession.h.html#757" title="8" data-ref="_M/MAX_ACCOUNT_TUTORIAL_VALUES">MAX_ACCOUNT_TUTORIAL_VALUES</a>; ++<a class="local col4 ref" href="#134i" title='i' data-ref="134i" >i</a>)</td></tr>
<tr><th id="792">792</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::_tutorials" title='WorldSession::_tutorials' data-ref="WorldSession::_tutorials" id="WorldSession::_tutorials" >_tutorials</a>[<a class="local col4 ref" href="#134i" title='i' data-ref="134i" >i</a>] = (<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrdeEv" title='std::__shared_ptr::operator*' data-ref="_ZNKSt12__shared_ptrdeEv" id="_ZNKSt12__shared_ptrdeEv" >*</a><a class="local col3 ref" href="#133result" title='result' data-ref="133result" >result</a>)<a class="ref" href="../../database/Database/QueryResult.h.html#_ZNK17PreparedResultSetixEj" title='PreparedResultSet::operator[]' data-ref="_ZNK17PreparedResultSetixEj" id="_ZNK17PreparedResultSetixEj" >[<a class="local col4 ref" href="#134i" title='i' data-ref="134i" >i</a>]</a>.<a class="ref" href="../../database/Database/Field.h.html#_ZNK5Field9GetUInt32Ev" title='Field::GetUInt32' data-ref="_ZNK5Field9GetUInt32Ev" id="_ZNK5Field9GetUInt32Ev" >GetUInt32</a>();</td></tr>
<tr><th id="793">793</th><td></td></tr>
<tr><th id="794">794</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_tutorialsChanged" title='WorldSession::_tutorialsChanged' data-ref="WorldSession::_tutorialsChanged" id="WorldSession::_tutorialsChanged" >_tutorialsChanged</a> = <b>false</b>;</td></tr>
<tr><th id="795">795</th><td>}</td></tr>
<tr><th id="796">796</th><td></td></tr>
<tr><th id="797">797</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession17SendTutorialsDataEv" title='WorldSession::SendTutorialsData' data-ref="_ZN12WorldSession17SendTutorialsDataEv" >SendTutorialsData</dfn>()</td></tr>
<tr><th id="798">798</th><td>{</td></tr>
<tr><th id="799">799</th><td>    <span class="namespace">WorldPackets::Misc::</span><a class="type" href="Packets/MiscPackets.h.html#WorldPackets::Misc::TutorialFlags" title='WorldPackets::Misc::TutorialFlags' data-ref="WorldPackets::Misc::TutorialFlags" >TutorialFlags</a> <dfn class="local col5 decl" id="135packet" title='packet' data-type='WorldPackets::Misc::TutorialFlags' data-ref="135packet" >packet</dfn>;</td></tr>
<tr><th id="800">800</th><td>    <a class="ref" href="../../../../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy" id="memcpy" >memcpy</a>(<a class="local col5 ref" href="#135packet" title='packet' data-ref="135packet" >packet</a>.<a class="ref" href="Packets/MiscPackets.h.html#WorldPackets::Misc::TutorialFlags::TutorialData" title='WorldPackets::Misc::TutorialFlags::TutorialData' data-ref="WorldPackets::Misc::TutorialFlags::TutorialData" id="WorldPackets::Misc::TutorialFlags::TutorialData" >TutorialData</a>, <a class="member" href="WorldSession.h.html#WorldSession::_tutorials" title='WorldSession::_tutorials' data-ref="WorldSession::_tutorials" id="WorldSession::_tutorials" >_tutorials</a>, <b>sizeof</b>(<a class="member" href="WorldSession.h.html#WorldSession::_tutorials" title='WorldSession::_tutorials' data-ref="WorldSession::_tutorials" id="WorldSession::_tutorials" >_tutorials</a>));</td></tr>
<tr><th id="801">801</th><td>    <a class="member" href="#_ZN12WorldSession10SendPacketEPK11WorldPacketb" title='WorldSession::SendPacket' data-ref="_ZN12WorldSession10SendPacketEPK11WorldPacketb" >SendPacket</a>(<a class="local col5 ref" href="#135packet" title='packet' data-ref="135packet" >packet</a>.<a class="virtual ref" href="Packets/MiscPackets.h.html#_ZN12WorldPackets4Misc13TutorialFlags5WriteEv" title='WorldPackets::Misc::TutorialFlags::Write' data-ref="_ZN12WorldPackets4Misc13TutorialFlags5WriteEv" id="_ZN12WorldPackets4Misc13TutorialFlags5WriteEv" >Write</a>());</td></tr>
<tr><th id="802">802</th><td>}</td></tr>
<tr><th id="803">803</th><td></td></tr>
<tr><th id="804">804</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession17SaveTutorialsDataERSt10shared_ptrI11TransactionE" title='WorldSession::SaveTutorialsData' data-ref="_ZN12WorldSession17SaveTutorialsDataERSt10shared_ptrI11TransactionE" >SaveTutorialsData</dfn>(<a class="typedef" href="../../database/Database/Transaction.h.html#SQLTransaction" title='SQLTransaction' data-type='std::shared_ptr&lt;Transaction&gt;' data-ref="SQLTransaction" >SQLTransaction</a>&amp; <dfn class="local col6 decl" id="136trans" title='trans' data-type='SQLTransaction &amp;' data-ref="136trans" >trans</dfn>)</td></tr>
<tr><th id="805">805</th><td>{</td></tr>
<tr><th id="806">806</th><td>    <b>if</b> (!<a class="member" href="WorldSession.h.html#WorldSession::_tutorialsChanged" title='WorldSession::_tutorialsChanged' data-ref="WorldSession::_tutorialsChanged" id="WorldSession::_tutorialsChanged" >_tutorialsChanged</a>)</td></tr>
<tr><th id="807">807</th><td>        <b>return</b>;</td></tr>
<tr><th id="808">808</th><td></td></tr>
<tr><th id="809">809</th><td>    <a class="type" href="../../database/Database/PreparedStatement.h.html#PreparedStatement" title='PreparedStatement' data-ref="PreparedStatement" >PreparedStatement</a>* <dfn class="local col7 decl" id="137stmt" title='stmt' data-type='PreparedStatement *' data-ref="137stmt" >stmt</dfn> = <a class="ref" href="../../database/Database/DatabaseEnv.h.html#CharacterDatabase" title='CharacterDatabase' data-ref="CharacterDatabase" id="CharacterDatabase" >CharacterDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" title='DatabaseWorkerPool::GetPreparedStatement' data-ref="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" id="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" >GetPreparedStatement</a>(<a class="enum" href="../../database/Database/Implementation/CharacterDatabase.h.html#CharacterDatabaseStatements::CHAR_SEL_HAS_TUTORIALS" title='CharacterDatabaseStatements::CHAR_SEL_HAS_TUTORIALS' data-ref="CharacterDatabaseStatements::CHAR_SEL_HAS_TUTORIALS" id="CharacterDatabaseStatements::CHAR_SEL_HAS_TUTORIALS" >CHAR_SEL_HAS_TUTORIALS</a>);</td></tr>
<tr><th id="810">810</th><td>    <a class="local col7 ref" href="#137stmt" title='stmt' data-ref="137stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setUInt32Ehj" title='PreparedStatement::setUInt32' data-ref="_ZN17PreparedStatement9setUInt32Ehj" id="_ZN17PreparedStatement9setUInt32Ehj" >setUInt32</a>(<var>0</var>, <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a>());</td></tr>
<tr><th id="811">811</th><td>    <em>bool</em> <dfn class="local col8 decl" id="138hasTutorials" title='hasTutorials' data-type='bool' data-ref="138hasTutorials" >hasTutorials</dfn> = <em>bool</em>(<a class="ref" href="../../database/Database/DatabaseEnv.h.html#CharacterDatabase" title='CharacterDatabase' data-ref="CharacterDatabase" id="CharacterDatabase" >CharacterDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool5QueryEP17PreparedStatement" title='DatabaseWorkerPool::Query' data-ref="_ZN18DatabaseWorkerPool5QueryEP17PreparedStatement" id="_ZN18DatabaseWorkerPool5QueryEP17PreparedStatement" >Query</a>(<a class="local col7 ref" href="#137stmt" title='stmt' data-ref="137stmt" >stmt</a>));</td></tr>
<tr><th id="812">812</th><td>    <i>// Modify data in DB</i></td></tr>
<tr><th id="813">813</th><td>    <a class="local col7 ref" href="#137stmt" title='stmt' data-ref="137stmt" >stmt</a> = <a class="ref" href="../../database/Database/DatabaseEnv.h.html#CharacterDatabase" title='CharacterDatabase' data-ref="CharacterDatabase" id="CharacterDatabase" >CharacterDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" title='DatabaseWorkerPool::GetPreparedStatement' data-ref="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" id="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" >GetPreparedStatement</a>(<a class="local col8 ref" href="#138hasTutorials" title='hasTutorials' data-ref="138hasTutorials" >hasTutorials</a> ? <a class="enum" href="../../database/Database/Implementation/CharacterDatabase.h.html#CharacterDatabaseStatements::CHAR_UPD_TUTORIALS" title='CharacterDatabaseStatements::CHAR_UPD_TUTORIALS' data-ref="CharacterDatabaseStatements::CHAR_UPD_TUTORIALS" id="CharacterDatabaseStatements::CHAR_UPD_TUTORIALS" >CHAR_UPD_TUTORIALS</a> : <a class="enum" href="../../database/Database/Implementation/CharacterDatabase.h.html#CharacterDatabaseStatements::CHAR_INS_TUTORIALS" title='CharacterDatabaseStatements::CHAR_INS_TUTORIALS' data-ref="CharacterDatabaseStatements::CHAR_INS_TUTORIALS" id="CharacterDatabaseStatements::CHAR_INS_TUTORIALS" >CHAR_INS_TUTORIALS</a>);</td></tr>
<tr><th id="814">814</th><td>    <b>for</b> (<a class="typedef" href="../../../common/Define.h.html#uint8" title='uint8' data-type='uint8_t' data-ref="uint8" >uint8</a> <dfn class="local col9 decl" id="139i" title='i' data-type='uint8' data-ref="139i" >i</dfn> = <var>0</var>; <a class="local col9 ref" href="#139i" title='i' data-ref="139i" >i</a> &lt; <a class="macro" href="WorldSession.h.html#757" title="8" data-ref="_M/MAX_ACCOUNT_TUTORIAL_VALUES">MAX_ACCOUNT_TUTORIAL_VALUES</a>; ++<a class="local col9 ref" href="#139i" title='i' data-ref="139i" >i</a>)</td></tr>
<tr><th id="815">815</th><td>        <a class="local col7 ref" href="#137stmt" title='stmt' data-ref="137stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setUInt32Ehj" title='PreparedStatement::setUInt32' data-ref="_ZN17PreparedStatement9setUInt32Ehj" id="_ZN17PreparedStatement9setUInt32Ehj" >setUInt32</a>(<a class="local col9 ref" href="#139i" title='i' data-ref="139i" >i</a>, <a class="member" href="WorldSession.h.html#WorldSession::_tutorials" title='WorldSession::_tutorials' data-ref="WorldSession::_tutorials" id="WorldSession::_tutorials" >_tutorials</a>[<a class="local col9 ref" href="#139i" title='i' data-ref="139i" >i</a>]);</td></tr>
<tr><th id="816">816</th><td>    <a class="local col7 ref" href="#137stmt" title='stmt' data-ref="137stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setUInt32Ehj" title='PreparedStatement::setUInt32' data-ref="_ZN17PreparedStatement9setUInt32Ehj" id="_ZN17PreparedStatement9setUInt32Ehj" >setUInt32</a>(<a class="macro" href="WorldSession.h.html#757" title="8" data-ref="_M/MAX_ACCOUNT_TUTORIAL_VALUES">MAX_ACCOUNT_TUTORIAL_VALUES</a>, <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a>());</td></tr>
<tr><th id="817">817</th><td>    <a class="local col6 ref" href="#136trans" title='trans' data-ref="136trans" >trans</a><a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptrptEv" title='std::__shared_ptr::operator-&gt;' data-ref="_ZNKSt12__shared_ptrptEv" id="_ZNKSt12__shared_ptrptEv" >-&gt;</a><a class="ref" href="../../database/Database/Transaction.h.html#_ZN11Transaction6AppendEP17PreparedStatement" title='Transaction::Append' data-ref="_ZN11Transaction6AppendEP17PreparedStatement" id="_ZN11Transaction6AppendEP17PreparedStatement" >Append</a>(<a class="local col7 ref" href="#137stmt" title='stmt' data-ref="137stmt" >stmt</a>);</td></tr>
<tr><th id="818">818</th><td></td></tr>
<tr><th id="819">819</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_tutorialsChanged" title='WorldSession::_tutorialsChanged' data-ref="WorldSession::_tutorialsChanged" id="WorldSession::_tutorialsChanged" >_tutorialsChanged</a> = <b>false</b>;</td></tr>
<tr><th id="820">820</th><td>}</td></tr>
<tr><th id="821">821</th><td></td></tr>
<tr><th id="822">822</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession14ReadAddonsInfoER10ByteBuffer" title='WorldSession::ReadAddonsInfo' data-ref="_ZN12WorldSession14ReadAddonsInfoER10ByteBuffer" >ReadAddonsInfo</dfn>(<a class="type" href="../../shared/Packets/ByteBuffer.h.html#ByteBuffer" title='ByteBuffer' data-ref="ByteBuffer" >ByteBuffer</a>&amp; <dfn class="local col0 decl" id="140data" title='data' data-type='ByteBuffer &amp;' data-ref="140data" >data</dfn>)</td></tr>
<tr><th id="823">823</th><td>{</td></tr>
<tr><th id="824">824</th><td>    <b>if</b> (<a class="local col0 ref" href="#140data" title='data' data-ref="140data" >data</a>.<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer4rposEv" title='ByteBuffer::rpos' data-ref="_ZNK10ByteBuffer4rposEv" id="_ZNK10ByteBuffer4rposEv" >rpos</a>() + <var>4</var> &gt; <a class="local col0 ref" href="#140data" title='data' data-ref="140data" >data</a>.<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer4sizeEv" title='ByteBuffer::size' data-ref="_ZNK10ByteBuffer4sizeEv" id="_ZNK10ByteBuffer4sizeEv" >size</a>())</td></tr>
<tr><th id="825">825</th><td>        <b>return</b>;</td></tr>
<tr><th id="826">826</th><td></td></tr>
<tr><th id="827">827</th><td>    <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col1 decl" id="141size" title='size' data-type='uint32' data-ref="141size" >size</dfn>;</td></tr>
<tr><th id="828">828</th><td>    <a class="local col0 ref" href="#140data" title='data' data-ref="140data" >data</a> <a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZN10ByteBufferrsERj" title='ByteBuffer::operator&gt;&gt;' data-ref="_ZN10ByteBufferrsERj" id="_ZN10ByteBufferrsERj" >&gt;&gt;</a> <a class="local col1 ref" href="#141size" title='size' data-ref="141size" >size</a>;</td></tr>
<tr><th id="829">829</th><td></td></tr>
<tr><th id="830">830</th><td>    <b>if</b> (!<a class="local col1 ref" href="#141size" title='size' data-ref="141size" >size</a>)</td></tr>
<tr><th id="831">831</th><td>        <b>return</b>;</td></tr>
<tr><th id="832">832</th><td></td></tr>
<tr><th id="833">833</th><td>    <b>if</b> (<a class="local col1 ref" href="#141size" title='size' data-ref="141size" >size</a> &gt; <var>0xFFFFF</var>)</td></tr>
<tr><th id="834">834</th><td>    {</td></tr>
<tr><th id="835">835</th><td>        <a class="macro" href="../../../common/Logging/Log.h.html#202" title="do { if (Log::instance()-&gt;ShouldLog(&quot;addon&quot;, LOG_LEVEL_DEBUG)) { if (false) check_args(&quot;WorldSession::ReadAddonsInfo: AddOnInfo too big, size %u&quot;, size); { try { Log::instance()-&gt;outMessage(&quot;addon&quot;, LOG_LEVEL_DEBUG, &quot;WorldSession::ReadAddonsInfo: AddOnInfo too big, size %u&quot;, size); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 835); } }; } } while (0)" data-ref="_M/TC_LOG_DEBUG">TC_LOG_DEBUG</a>(<q>"addon"</q>, <q>"WorldSession::ReadAddonsInfo: AddOnInfo too big, size %u"</q>, <a class="local col1 ref" href="#141size" title='size' data-ref="141size" ><a class="local col1 ref" href="#141size" title='size' data-ref="141size" >size</a></a>);</td></tr>
<tr><th id="836">836</th><td>        <b>return</b>;</td></tr>
<tr><th id="837">837</th><td>    }</td></tr>
<tr><th id="838">838</th><td></td></tr>
<tr><th id="839">839</th><td>    <a class="typedef" href="../../../../dep/zlib/zconf.h.html#uLongf" title='uLongf' data-type='uLong' data-ref="uLongf" >uLongf</a> <dfn class="local col2 decl" id="142uSize" title='uSize' data-type='uLongf' data-ref="142uSize" >uSize</dfn> = <a class="local col1 ref" href="#141size" title='size' data-ref="141size" >size</a>;</td></tr>
<tr><th id="840">840</th><td></td></tr>
<tr><th id="841">841</th><td>    <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col3 decl" id="143pos" title='pos' data-type='uint32' data-ref="143pos" >pos</dfn> = <a class="local col0 ref" href="#140data" title='data' data-ref="140data" >data</a>.<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer4rposEv" title='ByteBuffer::rpos' data-ref="_ZNK10ByteBuffer4rposEv" id="_ZNK10ByteBuffer4rposEv" >rpos</a>();</td></tr>
<tr><th id="842">842</th><td></td></tr>
<tr><th id="843">843</th><td>    <a class="type" href="../../shared/Packets/ByteBuffer.h.html#ByteBuffer" title='ByteBuffer' data-ref="ByteBuffer" >ByteBuffer</a> <dfn class="local col4 decl" id="144addonInfo" title='addonInfo' data-type='ByteBuffer' data-ref="144addonInfo" >addonInfo</dfn>;</td></tr>
<tr><th id="844">844</th><td>    <a class="local col4 ref" href="#144addonInfo" title='addonInfo' data-ref="144addonInfo" >addonInfo</a>.<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZN10ByteBuffer6resizeEm" title='ByteBuffer::resize' data-ref="_ZN10ByteBuffer6resizeEm" id="_ZN10ByteBuffer6resizeEm" >resize</a>(<a class="local col1 ref" href="#141size" title='size' data-ref="141size" >size</a>);</td></tr>
<tr><th id="845">845</th><td></td></tr>
<tr><th id="846">846</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::m_addonsList" title='WorldSession::m_addonsList' data-ref="WorldSession::m_addonsList" id="WorldSession::m_addonsList" >m_addonsList</a>.<a class="ref" href="../../../../../include/c++/4.9/bits/stl_list.h.html#_ZNSt4list5clearEv" title='std::list::clear' data-ref="_ZNSt4list5clearEv" id="_ZNSt4list5clearEv" >clear</a>();</td></tr>
<tr><th id="847">847</th><td></td></tr>
<tr><th id="848">848</th><td>    <b>if</b> (<a class="ref" href="../../../../dep/zlib/zlib.h.html#uncompress" title='uncompress' data-ref="uncompress" id="uncompress" >uncompress</a>(<a class="local col4 ref" href="#144addonInfo" title='addonInfo' data-ref="144addonInfo" >addonInfo</a>.<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZN10ByteBuffer8contentsEv" title='ByteBuffer::contents' data-ref="_ZN10ByteBuffer8contentsEv" id="_ZN10ByteBuffer8contentsEv" >contents</a>(), &amp;<a class="local col2 ref" href="#142uSize" title='uSize' data-ref="142uSize" >uSize</a>, <a class="local col0 ref" href="#140data" title='data' data-ref="140data" >data</a>.<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZN10ByteBuffer8contentsEv" title='ByteBuffer::contents' data-ref="_ZN10ByteBuffer8contentsEv" id="_ZN10ByteBuffer8contentsEv" >contents</a>() + <a class="local col3 ref" href="#143pos" title='pos' data-ref="143pos" >pos</a>, <a class="local col0 ref" href="#140data" title='data' data-ref="140data" >data</a>.<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer4sizeEv" title='ByteBuffer::size' data-ref="_ZNK10ByteBuffer4sizeEv" id="_ZNK10ByteBuffer4sizeEv" >size</a>() - <a class="local col3 ref" href="#143pos" title='pos' data-ref="143pos" >pos</a>) == <a class="macro" href="../../../../dep/zlib/zlib.h.html#173" title="0" data-ref="_M/Z_OK">Z_OK</a>)</td></tr>
<tr><th id="849">849</th><td>    {</td></tr>
<tr><th id="850">850</th><td>        <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col5 decl" id="145addonsCount" title='addonsCount' data-type='uint32' data-ref="145addonsCount" >addonsCount</dfn>;</td></tr>
<tr><th id="851">851</th><td>        <a class="local col4 ref" href="#144addonInfo" title='addonInfo' data-ref="144addonInfo" >addonInfo</a> <a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZN10ByteBufferrsERj" title='ByteBuffer::operator&gt;&gt;' data-ref="_ZN10ByteBufferrsERj" id="_ZN10ByteBufferrsERj" >&gt;&gt;</a> <a class="local col5 ref" href="#145addonsCount" title='addonsCount' data-ref="145addonsCount" >addonsCount</a>;                         <i>// addons count</i></td></tr>
<tr><th id="852">852</th><td></td></tr>
<tr><th id="853">853</th><td>        <b>for</b> (<a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col6 decl" id="146i" title='i' data-type='uint32' data-ref="146i" >i</dfn> = <var>0</var>; <a class="local col6 ref" href="#146i" title='i' data-ref="146i" >i</a> &lt; <a class="local col5 ref" href="#145addonsCount" title='addonsCount' data-ref="145addonsCount" >addonsCount</a>; ++<a class="local col6 ref" href="#146i" title='i' data-ref="146i" >i</a>)</td></tr>
<tr><th id="854">854</th><td>        {</td></tr>
<tr><th id="855">855</th><td>            <span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/4.9/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" >string</a> <dfn class="local col7 decl" id="147addonName" title='addonName' data-type='std::string' data-ref="147addonName" >addonName</dfn>;</td></tr>
<tr><th id="856">856</th><td>            <a class="typedef" href="../../../common/Define.h.html#uint8" title='uint8' data-type='uint8_t' data-ref="uint8" >uint8</a> <dfn class="local col8 decl" id="148enabled" title='enabled' data-type='uint8' data-ref="148enabled" >enabled</dfn>;</td></tr>
<tr><th id="857">857</th><td>            <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" ><a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a></a> <dfn class="local col9 decl" id="149crc" title='crc' data-type='uint32' data-ref="149crc" >crc</dfn>, <dfn class="local col0 decl" id="150unk1" title='unk1' data-type='uint32' data-ref="150unk1" >unk1</dfn>;</td></tr>
<tr><th id="858">858</th><td></td></tr>
<tr><th id="859">859</th><td>            <i>// check next addon data format correctness</i></td></tr>
<tr><th id="860">860</th><td>            <b>if</b> (<a class="local col4 ref" href="#144addonInfo" title='addonInfo' data-ref="144addonInfo" >addonInfo</a>.<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer4rposEv" title='ByteBuffer::rpos' data-ref="_ZNK10ByteBuffer4rposEv" id="_ZNK10ByteBuffer4rposEv" >rpos</a>() + <var>1</var> &gt; <a class="local col4 ref" href="#144addonInfo" title='addonInfo' data-ref="144addonInfo" >addonInfo</a>.<a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZNK10ByteBuffer4sizeEv" title='ByteBuffer::size' data-ref="_ZNK10ByteBuffer4sizeEv" id="_ZNK10ByteBuffer4sizeEv" >size</a>())</td></tr>
<tr><th id="861">861</th><td>                <b>return</b>;</td></tr>
<tr><th id="862">862</th><td></td></tr>
<tr><th id="863">863</th><td>            <a class="local col4 ref" href="#144addonInfo" title='addonInfo' data-ref="144addonInfo" >addonInfo</a> <a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZN10ByteBufferrsERSs" title='ByteBuffer::operator&gt;&gt;' data-ref="_ZN10ByteBufferrsERSs" id="_ZN10ByteBufferrsERSs" >&gt;&gt;</a> <a class="local col7 ref" href="#147addonName" title='addonName' data-ref="147addonName" >addonName</a>;</td></tr>
<tr><th id="864">864</th><td></td></tr>
<tr><th id="865">865</th><td>            <a class="local col4 ref" href="#144addonInfo" title='addonInfo' data-ref="144addonInfo" >addonInfo</a> <a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZN10ByteBufferrsERh" title='ByteBuffer::operator&gt;&gt;' data-ref="_ZN10ByteBufferrsERh" id="_ZN10ByteBufferrsERh" >&gt;&gt;</a> <a class="local col8 ref" href="#148enabled" title='enabled' data-ref="148enabled" >enabled</a> <a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZN10ByteBufferrsERj" title='ByteBuffer::operator&gt;&gt;' data-ref="_ZN10ByteBufferrsERj" id="_ZN10ByteBufferrsERj" >&gt;&gt;</a> <a class="local col9 ref" href="#149crc" title='crc' data-ref="149crc" >crc</a> <a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZN10ByteBufferrsERj" title='ByteBuffer::operator&gt;&gt;' data-ref="_ZN10ByteBufferrsERj" id="_ZN10ByteBufferrsERj" >&gt;&gt;</a> <a class="local col0 ref" href="#150unk1" title='unk1' data-ref="150unk1" >unk1</a>;</td></tr>
<tr><th id="866">866</th><td></td></tr>
<tr><th id="867">867</th><td>            <a class="macro" href="../../../common/Logging/Log.h.html#202" title="do { if (Log::instance()-&gt;ShouldLog(&quot;addon&quot;, LOG_LEVEL_DEBUG)) { if (false) check_args(&quot;AddOn: %s (CRC: 0x%x) - enabled: 0x%x - Unknown2: 0x%x&quot;, addonName.c_str(), crc, enabled, unk1); { try { Log::instance()-&gt;outMessage(&quot;addon&quot;, LOG_LEVEL_DEBUG, &quot;AddOn: %s (CRC: 0x%x) - enabled: 0x%x - Unknown2: 0x%x&quot;, addonName.c_str(), crc, enabled, unk1); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 867); } }; } } while (0)" data-ref="_M/TC_LOG_DEBUG">TC_LOG_DEBUG</a>(<q>"addon"</q>, <q>"AddOn: %s (CRC: 0x%x) - enabled: 0x%x - Unknown2: 0x%x"</q>, <a class="local col7 ref" href="#147addonName" title='addonName' data-ref="147addonName" ><a class="local col7 ref" href="#147addonName" title='addonName' data-ref="147addonName" >addonName</a></a>.<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="local col9 ref" href="#149crc" title='crc' data-ref="149crc" ><a class="local col9 ref" href="#149crc" title='crc' data-ref="149crc" >crc</a></a>, <a class="local col8 ref" href="#148enabled" title='enabled' data-ref="148enabled" ><a class="local col8 ref" href="#148enabled" title='enabled' data-ref="148enabled" >enabled</a></a>, <a class="local col0 ref" href="#150unk1" title='unk1' data-ref="150unk1" ><a class="local col0 ref" href="#150unk1" title='unk1' data-ref="150unk1" >unk1</a></a>);</td></tr>
<tr><th id="868">868</th><td></td></tr>
<tr><th id="869">869</th><td>            <a class="type" href="../Addons/AddonMgr.h.html#AddonInfo" title='AddonInfo' data-ref="AddonInfo" >AddonInfo</a> <dfn class="local col1 decl" id="151addon" title='addon' data-type='AddonInfo' data-ref="151addon" >addon</dfn><a class="ref" href="../Addons/AddonMgr.h.html#_ZN9AddonInfoC1ERKSshjhb" title='AddonInfo::AddonInfo' data-ref="_ZN9AddonInfoC1ERKSshjhb" id="_ZN9AddonInfoC1ERKSshjhb" >(</a><a class="local col7 ref" href="#147addonName" title='addonName' data-ref="147addonName" >addonName</a>, <a class="local col8 ref" href="#148enabled" title='enabled' data-ref="148enabled" >enabled</a>, <a class="local col9 ref" href="#149crc" title='crc' data-ref="149crc" >crc</a>, <var>2</var>, <b>true</b>);</td></tr>
<tr><th id="870">870</th><td></td></tr>
<tr><th id="871">871</th><td>            <a class="type" href="../Addons/AddonMgr.h.html#SavedAddon" title='SavedAddon' data-ref="SavedAddon" >SavedAddon</a> <em>const</em>* <dfn class="local col2 decl" id="152savedAddon" title='savedAddon' data-type='const SavedAddon *' data-ref="152savedAddon" >savedAddon</dfn> = <span class="namespace">AddonMgr::</span><a class="ref" href="../Addons/AddonMgr.h.html#_ZN8AddonMgr12GetAddonInfoERKSs" title='AddonMgr::GetAddonInfo' data-ref="_ZN8AddonMgr12GetAddonInfoERKSs" id="_ZN8AddonMgr12GetAddonInfoERKSs" >GetAddonInfo</a>(<a class="local col7 ref" href="#147addonName" title='addonName' data-ref="147addonName" >addonName</a>);</td></tr>
<tr><th id="872">872</th><td>            <b>if</b> (<a class="local col2 ref" href="#152savedAddon" title='savedAddon' data-ref="152savedAddon" >savedAddon</a>)</td></tr>
<tr><th id="873">873</th><td>            {</td></tr>
<tr><th id="874">874</th><td>                <b>if</b> (<a class="local col1 ref" href="#151addon" title='addon' data-ref="151addon" >addon</a>.<a class="ref" href="../Addons/AddonMgr.h.html#AddonInfo::CRC" title='AddonInfo::CRC' data-ref="AddonInfo::CRC" id="AddonInfo::CRC" >CRC</a> != <a class="local col2 ref" href="#152savedAddon" title='savedAddon' data-ref="152savedAddon" >savedAddon</a>-&gt;<a class="ref" href="../Addons/AddonMgr.h.html#SavedAddon::CRC" title='SavedAddon::CRC' data-ref="SavedAddon::CRC" id="SavedAddon::CRC" >CRC</a>)</td></tr>
<tr><th id="875">875</th><td>                    <a class="macro" href="../../../common/Logging/Log.h.html#208" title="do { if (Log::instance()-&gt;ShouldLog(&quot;addon&quot;, LOG_LEVEL_WARN)) { if (false) check_args(&quot; Addon: %s: modified (CRC: 0x%x) - accountID %d)&quot;, addon.Name.c_str(), savedAddon-&gt;CRC, GetAccountId()); { try { Log::instance()-&gt;outMessage(&quot;addon&quot;, LOG_LEVEL_WARN, &quot; Addon: %s: modified (CRC: 0x%x) - accountID %d)&quot;, addon.Name.c_str(), savedAddon-&gt;CRC, GetAccountId()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 875); } }; } } while (0)" data-ref="_M/TC_LOG_WARN">TC_LOG_WARN</a>(<q>"addon"</q>, <q>" Addon: %s: modified (CRC: 0x%x) - accountID %d)"</q>, <a class="local col1 ref" href="#151addon" title='addon' data-ref="151addon" ><a class="local col1 ref" href="#151addon" title='addon' data-ref="151addon" >addon</a></a>.<a class="ref" href="../Addons/AddonMgr.h.html#AddonInfo::Name" title='AddonInfo::Name' data-ref="AddonInfo::Name" id="AddonInfo::Name" ><a class="ref" href="../Addons/AddonMgr.h.html#AddonInfo::Name" title='AddonInfo::Name' data-ref="AddonInfo::Name" id="AddonInfo::Name" >Name</a></a>.<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="local col2 ref" href="#152savedAddon" title='savedAddon' data-ref="152savedAddon" ><a class="local col2 ref" href="#152savedAddon" title='savedAddon' data-ref="152savedAddon" >savedAddon</a></a>-&gt;<a class="ref" href="../Addons/AddonMgr.h.html#SavedAddon::CRC" title='SavedAddon::CRC' data-ref="SavedAddon::CRC" ><a class="ref" href="../Addons/AddonMgr.h.html#SavedAddon::CRC" title='SavedAddon::CRC' data-ref="SavedAddon::CRC" id="SavedAddon::CRC" >CRC</a></a>, <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" ><a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a></a>());</td></tr>
<tr><th id="876">876</th><td>                <b>else</b></td></tr>
<tr><th id="877">877</th><td>                    <a class="macro" href="../../../common/Logging/Log.h.html#202" title="do { if (Log::instance()-&gt;ShouldLog(&quot;addon&quot;, LOG_LEVEL_DEBUG)) { if (false) check_args(&quot;Addon: %s: validated (CRC: 0x%x) - accountID %d&quot;, addon.Name.c_str(), savedAddon-&gt;CRC, GetAccountId()); { try { Log::instance()-&gt;outMessage(&quot;addon&quot;, LOG_LEVEL_DEBUG, &quot;Addon: %s: validated (CRC: 0x%x) - accountID %d&quot;, addon.Name.c_str(), savedAddon-&gt;CRC, GetAccountId()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 877); } }; } } while (0)" data-ref="_M/TC_LOG_DEBUG">TC_LOG_DEBUG</a>(<q>"addon"</q>, <q>"Addon: %s: validated (CRC: 0x%x) - accountID %d"</q>, <a class="local col1 ref" href="#151addon" title='addon' data-ref="151addon" ><a class="local col1 ref" href="#151addon" title='addon' data-ref="151addon" >addon</a></a>.<a class="ref" href="../Addons/AddonMgr.h.html#AddonInfo::Name" title='AddonInfo::Name' data-ref="AddonInfo::Name" id="AddonInfo::Name" ><a class="ref" href="../Addons/AddonMgr.h.html#AddonInfo::Name" title='AddonInfo::Name' data-ref="AddonInfo::Name" id="AddonInfo::Name" >Name</a></a>.<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="local col2 ref" href="#152savedAddon" title='savedAddon' data-ref="152savedAddon" ><a class="local col2 ref" href="#152savedAddon" title='savedAddon' data-ref="152savedAddon" >savedAddon</a></a>-&gt;<a class="ref" href="../Addons/AddonMgr.h.html#SavedAddon::CRC" title='SavedAddon::CRC' data-ref="SavedAddon::CRC" ><a class="ref" href="../Addons/AddonMgr.h.html#SavedAddon::CRC" title='SavedAddon::CRC' data-ref="SavedAddon::CRC" id="SavedAddon::CRC" >CRC</a></a>, <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" ><a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a></a>());</td></tr>
<tr><th id="878">878</th><td>            }</td></tr>
<tr><th id="879">879</th><td>            <b>else</b></td></tr>
<tr><th id="880">880</th><td>            {</td></tr>
<tr><th id="881">881</th><td>                <span class="namespace">AddonMgr::</span><a class="ref" href="../Addons/AddonMgr.h.html#_ZN8AddonMgr9SaveAddonERK9AddonInfo" title='AddonMgr::SaveAddon' data-ref="_ZN8AddonMgr9SaveAddonERK9AddonInfo" id="_ZN8AddonMgr9SaveAddonERK9AddonInfo" >SaveAddon</a>(<a class="local col1 ref" href="#151addon" title='addon' data-ref="151addon" >addon</a>);</td></tr>
<tr><th id="882">882</th><td>                <a class="macro" href="../../../common/Logging/Log.h.html#208" title="do { if (Log::instance()-&gt;ShouldLog(&quot;addon&quot;, LOG_LEVEL_WARN)) { if (false) check_args(&quot;Addon: %s: unknown (CRC: 0x%x) - accountId %d (storing addon name and checksum to database)&quot;, addon.Name.c_str(), addon.CRC, GetAccountId()); { try { Log::instance()-&gt;outMessage(&quot;addon&quot;, LOG_LEVEL_WARN, &quot;Addon: %s: unknown (CRC: 0x%x) - accountId %d (storing addon name and checksum to database)&quot;, addon.Name.c_str(), addon.CRC, GetAccountId()); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 882); } }; } } while (0)" data-ref="_M/TC_LOG_WARN">TC_LOG_WARN</a>(<q>"addon"</q>, <q>"Addon: %s: unknown (CRC: 0x%x) - accountId %d (storing addon name and checksum to database)"</q>, <a class="local col1 ref" href="#151addon" title='addon' data-ref="151addon" ><a class="local col1 ref" href="#151addon" title='addon' data-ref="151addon" >addon</a></a>.<a class="ref" href="../Addons/AddonMgr.h.html#AddonInfo::Name" title='AddonInfo::Name' data-ref="AddonInfo::Name" id="AddonInfo::Name" ><a class="ref" href="../Addons/AddonMgr.h.html#AddonInfo::Name" title='AddonInfo::Name' data-ref="AddonInfo::Name" id="AddonInfo::Name" >Name</a></a>.<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="local col1 ref" href="#151addon" title='addon' data-ref="151addon" ><a class="local col1 ref" href="#151addon" title='addon' data-ref="151addon" >addon</a></a>.<a class="ref" href="../Addons/AddonMgr.h.html#AddonInfo::CRC" title='AddonInfo::CRC' data-ref="AddonInfo::CRC" ><a class="ref" href="../Addons/AddonMgr.h.html#AddonInfo::CRC" title='AddonInfo::CRC' data-ref="AddonInfo::CRC" id="AddonInfo::CRC" >CRC</a></a>, <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" ><a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a></a>());</td></tr>
<tr><th id="883">883</th><td>            }</td></tr>
<tr><th id="884">884</th><td></td></tr>
<tr><th id="885">885</th><td>            <i class="doc">/// <span class="command">@todo</span> Find out when to not use CRC/pubkey, and other possible states.</i></td></tr>
<tr><th id="886">886</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::m_addonsList" title='WorldSession::m_addonsList' data-ref="WorldSession::m_addonsList" id="WorldSession::m_addonsList" >m_addonsList</a>.<a class="ref" href="../../../../../include/c++/4.9/bits/stl_list.h.html#_ZNSt4list9push_backERKT_" title='std::list::push_back' data-ref="_ZNSt4list9push_backERKT_" id="_ZNSt4list9push_backERKT_" >push_back</a>(<a class="local col1 ref" href="#151addon" title='addon' data-ref="151addon" >addon</a>);</td></tr>
<tr><th id="887">887</th><td>        }</td></tr>
<tr><th id="888">888</th><td></td></tr>
<tr><th id="889">889</th><td>        <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col3 decl" id="153currentTime" title='currentTime' data-type='uint32' data-ref="153currentTime" >currentTime</dfn>;</td></tr>
<tr><th id="890">890</th><td>        <a class="local col4 ref" href="#144addonInfo" title='addonInfo' data-ref="144addonInfo" >addonInfo</a> <a class="ref" href="../../shared/Packets/ByteBuffer.h.html#_ZN10ByteBufferrsERj" title='ByteBuffer::operator&gt;&gt;' data-ref="_ZN10ByteBufferrsERj" id="_ZN10ByteBufferrsERj" >&gt;&gt;</a> <a class="local col3 ref" href="#153currentTime" title='currentTime' data-ref="153currentTime" >currentTime</a>;</td></tr>
<tr><th id="891">891</th><td>        <a class="macro" href="../../../common/Logging/Log.h.html#202" title="do { if (Log::instance()-&gt;ShouldLog(&quot;addon&quot;, LOG_LEVEL_DEBUG)) { if (false) check_args(&quot;AddOn: CurrentTime: %u&quot;, currentTime); { try { Log::instance()-&gt;outMessage(&quot;addon&quot;, LOG_LEVEL_DEBUG, &quot;AddOn: CurrentTime: %u&quot;, currentTime); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 891); } }; } } while (0)" data-ref="_M/TC_LOG_DEBUG">TC_LOG_DEBUG</a>(<q>"addon"</q>, <q>"AddOn: CurrentTime: %u"</q>, <a class="local col3 ref" href="#153currentTime" title='currentTime' data-ref="153currentTime" ><a class="local col3 ref" href="#153currentTime" title='currentTime' data-ref="153currentTime" >currentTime</a></a>);</td></tr>
<tr><th id="892">892</th><td>    }</td></tr>
<tr><th id="893">893</th><td>    <b>else</b></td></tr>
<tr><th id="894">894</th><td>        <a class="macro" href="../../../common/Logging/Log.h.html#202" title="do { if (Log::instance()-&gt;ShouldLog(&quot;addon&quot;, LOG_LEVEL_DEBUG)) { if (false) check_args(&quot;AddOn: Addon packet uncompress error!&quot;); { try { Log::instance()-&gt;outMessage(&quot;addon&quot;, LOG_LEVEL_DEBUG, &quot;AddOn: Addon packet uncompress error!&quot;); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 894); } }; } } while (0)" data-ref="_M/TC_LOG_DEBUG">TC_LOG_DEBUG</a>(<q>"addon"</q>, <q>"AddOn: Addon packet uncompress error!"</q>);</td></tr>
<tr><th id="895">895</th><td>}</td></tr>
<tr><th id="896">896</th><td></td></tr>
<tr><th id="897">897</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession14SendAddonsInfoEv" title='WorldSession::SendAddonsInfo' data-ref="_ZN12WorldSession14SendAddonsInfoEv" >SendAddonsInfo</dfn>()</td></tr>
<tr><th id="898">898</th><td>{</td></tr>
<tr><th id="899">899</th><td>    <span class="namespace">WorldPackets::ClientConfig::</span><a class="type" href="Packets/ClientConfigPackets.h.html#WorldPackets::ClientConfig::AddonInfo" title='WorldPackets::ClientConfig::AddonInfo' data-ref="WorldPackets::ClientConfig::AddonInfo" >AddonInfo</a> <dfn class="local col4 decl" id="154addonInfo" title='addonInfo' data-type='WorldPackets::ClientConfig::AddonInfo' data-ref="154addonInfo" >addonInfo</dfn>;</td></tr>
<tr><th id="900">900</th><td>    <a class="local col4 ref" href="#154addonInfo" title='addonInfo' data-ref="154addonInfo" >addonInfo</a>.<a class="ref" href="Packets/ClientConfigPackets.h.html#WorldPackets::ClientConfig::AddonInfo::Addons" title='WorldPackets::ClientConfig::AddonInfo::Addons' data-ref="WorldPackets::ClientConfig::AddonInfo::Addons" id="WorldPackets::ClientConfig::AddonInfo::Addons" >Addons</a> = &amp;<a class="member" href="WorldSession.h.html#WorldSession::m_addonsList" title='WorldSession::m_addonsList' data-ref="WorldSession::m_addonsList" id="WorldSession::m_addonsList" >m_addonsList</a>;</td></tr>
<tr><th id="901">901</th><td>    <a class="local col4 ref" href="#154addonInfo" title='addonInfo' data-ref="154addonInfo" >addonInfo</a>.<a class="ref" href="Packets/ClientConfigPackets.h.html#WorldPackets::ClientConfig::AddonInfo::BannedAddons" title='WorldPackets::ClientConfig::AddonInfo::BannedAddons' data-ref="WorldPackets::ClientConfig::AddonInfo::BannedAddons" id="WorldPackets::ClientConfig::AddonInfo::BannedAddons" >BannedAddons</a> = <span class="namespace">AddonMgr::</span><a class="ref" href="../Addons/AddonMgr.h.html#_ZN8AddonMgr15GetBannedAddonsEv" title='AddonMgr::GetBannedAddons' data-ref="_ZN8AddonMgr15GetBannedAddonsEv" id="_ZN8AddonMgr15GetBannedAddonsEv" >GetBannedAddons</a>();</td></tr>
<tr><th id="902">902</th><td>    <a class="member" href="#_ZN12WorldSession10SendPacketEPK11WorldPacketb" title='WorldSession::SendPacket' data-ref="_ZN12WorldSession10SendPacketEPK11WorldPacketb" >SendPacket</a>(<a class="local col4 ref" href="#154addonInfo" title='addonInfo' data-ref="154addonInfo" >addonInfo</a>.<a class="virtual ref" href="Packets/ClientConfigPackets.h.html#_ZN12WorldPackets12ClientConfig9AddonInfo5WriteEv" title='WorldPackets::ClientConfig::AddonInfo::Write' data-ref="_ZN12WorldPackets12ClientConfig9AddonInfo5WriteEv" id="_ZN12WorldPackets12ClientConfig9AddonInfo5WriteEv" >Write</a>());</td></tr>
<tr><th id="903">903</th><td>}</td></tr>
<tr><th id="904">904</th><td></td></tr>
<tr><th id="905">905</th><td><em>bool</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZNK12WorldSession17IsAddonRegisteredERKSs" title='WorldSession::IsAddonRegistered' data-ref="_ZNK12WorldSession17IsAddonRegisteredERKSs" >IsAddonRegistered</dfn>(<em>const</em> <span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/4.9/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" >string</a>&amp; <dfn class="local col5 decl" id="155prefix" title='prefix' data-type='const std::string &amp;' data-ref="155prefix" >prefix</dfn>) <em>const</em></td></tr>
<tr><th id="906">906</th><td>{</td></tr>
<tr><th id="907">907</th><td>    <b>if</b> (!<a class="member" href="WorldSession.h.html#WorldSession::_filterAddonMessages" title='WorldSession::_filterAddonMessages' data-ref="WorldSession::_filterAddonMessages" id="WorldSession::_filterAddonMessages" >_filterAddonMessages</a>) <i>// if we have hit the softcap (64) nothing should be filtered</i></td></tr>
<tr><th id="908">908</th><td>        <b>return</b> <b>true</b>;</td></tr>
<tr><th id="909">909</th><td></td></tr>
<tr><th id="910">910</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_registeredAddonPrefixes" title='WorldSession::_registeredAddonPrefixes' data-ref="WorldSession::_registeredAddonPrefixes" id="WorldSession::_registeredAddonPrefixes" >_registeredAddonPrefixes</a>.<a class="ref" href="../../../../../include/c++/4.9/bits/stl_vector.h.html#_ZNKSt6vector5emptyEv" title='std::vector::empty' data-ref="_ZNKSt6vector5emptyEv" id="_ZNKSt6vector5emptyEv" >empty</a>())</td></tr>
<tr><th id="911">911</th><td>        <b>return</b> <b>false</b>;</td></tr>
<tr><th id="912">912</th><td></td></tr>
<tr><th id="913">913</th><td>    <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/4.9/bits/stl_vector.h.html#std::vector" title='std::vector' data-ref="std::vector" >vector</a>&lt;<span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/4.9/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" >string</a>&gt;::<a class="typedef" href="../../../../../include/c++/4.9/bits/stl_vector.h.html#std::vector{std::basic_string{char},std::allocator{std::basic_string{char}}}::const_iterator" title='std::vector&lt;std::basic_string&lt;char&gt;, std::allocator&lt;std::basic_string&lt;char&gt; &gt; &gt;::const_iterator' data-type='__gnu_cxx::__normal_iterator&lt;const_pointer, vector&lt;basic_string&lt;char&gt;, allocator&lt;basic_string&lt;char&gt; &gt; &gt; &gt;' data-ref="std::vector{std::basic_string{char},std::allocator{std::basic_string{char}}}::const_iterator" >const_iterator</a> <dfn class="local col6 decl" id="156itr" title='itr' data-type='std::vector&lt;std::string&gt;::const_iterator' data-ref="156itr" >itr</dfn> = <span class="namespace">std::</span><a class="ref" href="../../../../../include/c++/4.9/bits/stl_algo.h.html#_ZSt4findT_S_RKT0_" title='std::find' data-ref="_ZSt4findT_S_RKT0_" id="_ZSt4findT_S_RKT0_" >find</a>(<a class="member" href="WorldSession.h.html#WorldSession::_registeredAddonPrefixes" title='WorldSession::_registeredAddonPrefixes' data-ref="WorldSession::_registeredAddonPrefixes" id="WorldSession::_registeredAddonPrefixes" >_registeredAddonPrefixes</a>.<a class="ref" href="../../../../../include/c++/4.9/bits/stl_vector.h.html#_ZNKSt6vector5beginEv" title='std::vector::begin' data-ref="_ZNKSt6vector5beginEv" id="_ZNKSt6vector5beginEv" >begin</a>(), <a class="member" href="WorldSession.h.html#WorldSession::_registeredAddonPrefixes" title='WorldSession::_registeredAddonPrefixes' data-ref="WorldSession::_registeredAddonPrefixes" id="WorldSession::_registeredAddonPrefixes" >_registeredAddonPrefixes</a>.<a class="ref" href="../../../../../include/c++/4.9/bits/stl_vector.h.html#_ZNKSt6vector3endEv" title='std::vector::end' data-ref="_ZNKSt6vector3endEv" id="_ZNKSt6vector3endEv" >end</a>(), <a class="local col5 ref" href="#155prefix" title='prefix' data-ref="155prefix" >prefix</a>);</td></tr>
<tr><th id="914">914</th><td>    <b>return</b> <a class="local col6 ref" href="#156itr" title='itr' data-ref="156itr" >itr</a> <a class="ref" href="../../../../../include/c++/4.9/bits/stl_iterator.h.html#__gnu_cxx::operator!=" title='__gnu_cxx::operator!=' data-ref="__gnu_cxx::operator!=" id="__gnu_cxx::operator!=" >!=</a> <a class="member" href="WorldSession.h.html#WorldSession::_registeredAddonPrefixes" title='WorldSession::_registeredAddonPrefixes' data-ref="WorldSession::_registeredAddonPrefixes" id="WorldSession::_registeredAddonPrefixes" >_registeredAddonPrefixes</a>.<a class="ref" href="../../../../../include/c++/4.9/bits/stl_vector.h.html#_ZNKSt6vector3endEv" title='std::vector::end' data-ref="_ZNKSt6vector3endEv" id="_ZNKSt6vector3endEv" >end</a>();</td></tr>
<tr><th id="915">915</th><td>}</td></tr>
<tr><th id="916">916</th><td></td></tr>
<tr><th id="917">917</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession38HandleUnregisterAllAddonPrefixesOpcodeERN12WorldPackets4Chat30ChatUnregisterAllAddonPrefixesE" title='WorldSession::HandleUnregisterAllAddonPrefixesOpcode' data-ref="_ZN12WorldSession38HandleUnregisterAllAddonPrefixesOpcodeERN12WorldPackets4Chat30ChatUnregisterAllAddonPrefixesE" >HandleUnregisterAllAddonPrefixesOpcode</dfn>(<span class="namespace">WorldPackets::Chat::</span><a class="type" href="Packets/ChatPackets.h.html#WorldPackets::Chat::ChatUnregisterAllAddonPrefixes" title='WorldPackets::Chat::ChatUnregisterAllAddonPrefixes' data-ref="WorldPackets::Chat::ChatUnregisterAllAddonPrefixes" >ChatUnregisterAllAddonPrefixes</a>&amp; <i>/*packet*/</i>) <i>// empty packet</i></td></tr>
<tr><th id="918">918</th><td>{</td></tr>
<tr><th id="919">919</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_registeredAddonPrefixes" title='WorldSession::_registeredAddonPrefixes' data-ref="WorldSession::_registeredAddonPrefixes" id="WorldSession::_registeredAddonPrefixes" >_registeredAddonPrefixes</a>.<a class="ref" href="../../../../../include/c++/4.9/bits/stl_vector.h.html#_ZNSt6vector5clearEv" title='std::vector::clear' data-ref="_ZNSt6vector5clearEv" id="_ZNSt6vector5clearEv" >clear</a>();</td></tr>
<tr><th id="920">920</th><td>}</td></tr>
<tr><th id="921">921</th><td></td></tr>
<tr><th id="922">922</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession35HandleAddonRegisteredPrefixesOpcodeERN12WorldPackets4Chat25ChatRegisterAddonPrefixesE" title='WorldSession::HandleAddonRegisteredPrefixesOpcode' data-ref="_ZN12WorldSession35HandleAddonRegisteredPrefixesOpcodeERN12WorldPackets4Chat25ChatRegisterAddonPrefixesE" >HandleAddonRegisteredPrefixesOpcode</dfn>(<span class="namespace">WorldPackets::Chat::</span><a class="type" href="Packets/ChatPackets.h.html#WorldPackets::Chat::ChatRegisterAddonPrefixes" title='WorldPackets::Chat::ChatRegisterAddonPrefixes' data-ref="WorldPackets::Chat::ChatRegisterAddonPrefixes" >ChatRegisterAddonPrefixes</a>&amp; <dfn class="local col7 decl" id="157packet" title='packet' data-type='WorldPackets::Chat::ChatRegisterAddonPrefixes &amp;' data-ref="157packet" >packet</dfn>)</td></tr>
<tr><th id="923">923</th><td>{</td></tr>
<tr><th id="924">924</th><td>    <i>// This is always sent after CMSG_CHAT_UNREGISTER_ALL_ADDON_PREFIXES</i></td></tr>
<tr><th id="925">925</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_registeredAddonPrefixes" title='WorldSession::_registeredAddonPrefixes' data-ref="WorldSession::_registeredAddonPrefixes" id="WorldSession::_registeredAddonPrefixes" >_registeredAddonPrefixes</a>.<a class="ref" href="../../../../../include/c++/4.9/bits/stl_vector.h.html#_ZNSt6vectorISsSaISsEE6insertEN9__gnu_cxx17__normal_iteratorIPKSsS1_EET_S7_" title='std::vector&lt;std::basic_string&lt;char&gt;, std::allocator&lt;std::basic_string&lt;char&gt; &gt; &gt;::insert' data-ref="_ZNSt6vectorISsSaISsEE6insertEN9__gnu_cxx17__normal_iteratorIPKSsS1_EET_S7_" id="_ZNSt6vectorISsSaISsEE6insertEN9__gnu_cxx17__normal_iteratorIPKSsS1_EET_S7_" >insert</a>(<a class="member" href="WorldSession.h.html#WorldSession::_registeredAddonPrefixes" title='WorldSession::_registeredAddonPrefixes' data-ref="WorldSession::_registeredAddonPrefixes" id="WorldSession::_registeredAddonPrefixes" >_registeredAddonPrefixes</a>.<a class="ref" href="../../../../../include/c++/4.9/bits/stl_vector.h.html#_ZNSt6vector3endEv" title='std::vector::end' data-ref="_ZNSt6vector3endEv" id="_ZNSt6vector3endEv" >end</a>(), <a class="local col7 ref" href="#157packet" title='packet' data-ref="157packet" >packet</a>.<a class="ref" href="Packets/ChatPackets.h.html#WorldPackets::Chat::ChatRegisterAddonPrefixes::Prefixes" title='WorldPackets::Chat::ChatRegisterAddonPrefixes::Prefixes' data-ref="WorldPackets::Chat::ChatRegisterAddonPrefixes::Prefixes" id="WorldPackets::Chat::ChatRegisterAddonPrefixes::Prefixes" >Prefixes</a>.<a class="ref" href="Packets/PacketUtilities.h.html#_ZN12WorldPackets5Array5beginEv" title='WorldPackets::Array::begin' data-ref="_ZN12WorldPackets5Array5beginEv" id="_ZN12WorldPackets5Array5beginEv" >begin</a>(), <a class="local col7 ref" href="#157packet" title='packet' data-ref="157packet" >packet</a>.<a class="ref" href="Packets/ChatPackets.h.html#WorldPackets::Chat::ChatRegisterAddonPrefixes::Prefixes" title='WorldPackets::Chat::ChatRegisterAddonPrefixes::Prefixes' data-ref="WorldPackets::Chat::ChatRegisterAddonPrefixes::Prefixes" id="WorldPackets::Chat::ChatRegisterAddonPrefixes::Prefixes" >Prefixes</a>.<a class="ref" href="Packets/PacketUtilities.h.html#_ZN12WorldPackets5Array3endEv" title='WorldPackets::Array::end' data-ref="_ZN12WorldPackets5Array3endEv" id="_ZN12WorldPackets5Array3endEv" >end</a>());</td></tr>
<tr><th id="926">926</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_registeredAddonPrefixes" title='WorldSession::_registeredAddonPrefixes' data-ref="WorldSession::_registeredAddonPrefixes" id="WorldSession::_registeredAddonPrefixes" >_registeredAddonPrefixes</a>.<a class="ref" href="../../../../../include/c++/4.9/bits/stl_vector.h.html#_ZNKSt6vector4sizeEv" title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv" id="_ZNKSt6vector4sizeEv" >size</a>() &gt; <span class="namespace">WorldPackets::Chat::</span><a class="type" href="Packets/ChatPackets.h.html#WorldPackets::Chat::ChatRegisterAddonPrefixes" title='WorldPackets::Chat::ChatRegisterAddonPrefixes' data-ref="WorldPackets::Chat::ChatRegisterAddonPrefixes" >ChatRegisterAddonPrefixes</a>::<a class="enum" href="Packets/ChatPackets.h.html#WorldPackets::Chat::ChatRegisterAddonPrefixes::::MAX_PREFIXES" title='WorldPackets::Chat::ChatRegisterAddonPrefixes::::MAX_PREFIXES' data-ref="WorldPackets::Chat::ChatRegisterAddonPrefixes::::MAX_PREFIXES" id="WorldPackets::Chat::ChatRegisterAddonPrefixes::::MAX_PREFIXES" >MAX_PREFIXES</a>)</td></tr>
<tr><th id="927">927</th><td>    {</td></tr>
<tr><th id="928">928</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_filterAddonMessages" title='WorldSession::_filterAddonMessages' data-ref="WorldSession::_filterAddonMessages" id="WorldSession::_filterAddonMessages" >_filterAddonMessages</a> = <b>false</b>;</td></tr>
<tr><th id="929">929</th><td>        <b>return</b>;</td></tr>
<tr><th id="930">930</th><td>    }</td></tr>
<tr><th id="931">931</th><td></td></tr>
<tr><th id="932">932</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_filterAddonMessages" title='WorldSession::_filterAddonMessages' data-ref="WorldSession::_filterAddonMessages" id="WorldSession::_filterAddonMessages" >_filterAddonMessages</a> = <b>true</b>;</td></tr>
<tr><th id="933">933</th><td>}</td></tr>
<tr><th id="934">934</th><td></td></tr>
<tr><th id="935">935</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession9SetPlayerEP6Player" title='WorldSession::SetPlayer' data-ref="_ZN12WorldSession9SetPlayerEP6Player" >SetPlayer</dfn>(<a class="type" href="../Entities/Player/Player.h.html#Player" title='Player' data-ref="Player" >Player</a>* <dfn class="local col8 decl" id="158player" title='player' data-type='Player *' data-ref="158player" >player</dfn>)</td></tr>
<tr><th id="936">936</th><td>{</td></tr>
<tr><th id="937">937</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a> = <a class="local col8 ref" href="#158player" title='player' data-ref="158player" >player</a>;</td></tr>
<tr><th id="938">938</th><td></td></tr>
<tr><th id="939">939</th><td>    <i>// set m_GUID that can be used while player loggined and later until m_playerRecentlyLogout not reset</i></td></tr>
<tr><th id="940">940</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>)</td></tr>
<tr><th id="941">941</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::m_GUIDLow" title='WorldSession::m_GUIDLow' data-ref="WorldSession::m_GUIDLow" id="WorldSession::m_GUIDLow" >m_GUIDLow</a> = <a class="member" href="WorldSession.h.html#WorldSession::_player" title='WorldSession::_player' data-ref="WorldSession::_player" id="WorldSession::_player" >_player</a>-&gt;<a class="ref" href="../Entities/Object/Object.h.html#_ZNK6Object7GetGUIDEv" title='Object::GetGUID' data-ref="_ZNK6Object7GetGUIDEv" id="_ZNK6Object7GetGUIDEv" >GetGUID</a>().<a class="ref" href="../Entities/Object/ObjectGuid.h.html#_ZNK10ObjectGuid10GetCounterEv" title='ObjectGuid::GetCounter' data-ref="_ZNK10ObjectGuid10GetCounterEv" id="_ZNK10ObjectGuid10GetCounterEv" >GetCounter</a>();</td></tr>
<tr><th id="942">942</th><td>}</td></tr>
<tr><th id="943">943</th><td></td></tr>
<tr><th id="944">944</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession33InitializeQueryCallbackParametersEv" title='WorldSession::InitializeQueryCallbackParameters' data-ref="_ZN12WorldSession33InitializeQueryCallbackParametersEv" >InitializeQueryCallbackParameters</dfn>()</td></tr>
<tr><th id="945">945</th><td>{</td></tr>
<tr><th id="946">946</th><td>    <i>// Callback parameters that have pointers in them should be properly</i></td></tr>
<tr><th id="947">947</th><td><i>    // initialized to nullptr here.</i></td></tr>
<tr><th id="948">948</th><td>}</td></tr>
<tr><th id="949">949</th><td></td></tr>
<tr><th id="950">950</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession21ProcessQueryCallbacksEv" title='WorldSession::ProcessQueryCallbacks' data-ref="_ZN12WorldSession21ProcessQueryCallbacksEv" >ProcessQueryCallbacks</dfn>()</td></tr>
<tr><th id="951">951</th><td>{</td></tr>
<tr><th id="952">952</th><td>    <a class="typedef" href="../../database/Database/QueryResult.h.html#PreparedQueryResult" title='PreparedQueryResult' data-type='std::shared_ptr&lt;PreparedResultSet&gt;' data-ref="PreparedQueryResult" >PreparedQueryResult</a> <dfn class="local col9 decl" id="159result" title='result' data-type='PreparedQueryResult' data-ref="159result" >result</dfn>;</td></tr>
<tr><th id="953">953</th><td></td></tr>
<tr><th id="954">954</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_realmAccountLoginCallback" title='WorldSession::_realmAccountLoginCallback' data-ref="WorldSession::_realmAccountLoginCallback" id="WorldSession::_realmAccountLoginCallback" >_realmAccountLoginCallback</a>.<a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNKSt14__basic_future5validEv" title='std::__basic_future::valid' data-ref="_ZNKSt14__basic_future5validEv" id="_ZNKSt14__basic_future5validEv" >valid</a>() &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::_realmAccountLoginCallback" title='WorldSession::_realmAccountLoginCallback' data-ref="WorldSession::_realmAccountLoginCallback" id="WorldSession::_realmAccountLoginCallback" >_realmAccountLoginCallback</a>.<a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNKSt14__basic_futureIP14SQLQueryHolderE8wait_forERKNSt6chrono8durationIT_T0_EE" title='std::__basic_future&lt;SQLQueryHolder *&gt;::wait_for' data-ref="_ZNKSt14__basic_futureIP14SQLQueryHolderE8wait_forERKNSt6chrono8durationIT_T0_EE" id="_ZNKSt14__basic_futureIP14SQLQueryHolderE8wait_forERKNSt6chrono8durationIT_T0_EE" >wait_for</a>(<span class="namespace">std::chrono::</span><a class="typedef" href="../../../../../include/c++/4.9/chrono.html#std::chrono::seconds" title='std::chrono::seconds' data-type='duration&lt;int64_t&gt;' data-ref="std::chrono::seconds" >seconds</a><a class="ref" href="../../../../../include/c++/4.9/chrono.html#_ZNSt6chrono8durationIlSt5ratioILl1ELl1EEEC1ERKT_" title='std::chrono::duration&lt;long, std::ratio&lt;1, 1&gt; &gt;::duration' data-ref="_ZNSt6chrono8durationIlSt5ratioILl1ELl1EEEC1ERKT_" id="_ZNSt6chrono8durationIlSt5ratioILl1ELl1EEEC1ERKT_" >(</a><var>0</var>)) == <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/4.9/future.html#std::future_status" title='std::future_status' data-ref="std::future_status" >future_status</a>::<a class="enum" href="../../../../../include/c++/4.9/future.html#std::future_status::ready" title='std::future_status::ready' data-ref="std::future_status::ready" id="std::future_status::ready" >ready</a> &amp;&amp;</td></tr>
<tr><th id="955">955</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_accountLoginCallback" title='WorldSession::_accountLoginCallback' data-ref="WorldSession::_accountLoginCallback" id="WorldSession::_accountLoginCallback" >_accountLoginCallback</a>.<a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNKSt14__basic_future5validEv" title='std::__basic_future::valid' data-ref="_ZNKSt14__basic_future5validEv" id="_ZNKSt14__basic_future5validEv" >valid</a>() &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::_accountLoginCallback" title='WorldSession::_accountLoginCallback' data-ref="WorldSession::_accountLoginCallback" id="WorldSession::_accountLoginCallback" >_accountLoginCallback</a>.<a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNKSt14__basic_futureIP14SQLQueryHolderE8wait_forERKNSt6chrono8durationIT_T0_EE" title='std::__basic_future&lt;SQLQueryHolder *&gt;::wait_for' data-ref="_ZNKSt14__basic_futureIP14SQLQueryHolderE8wait_forERKNSt6chrono8durationIT_T0_EE" id="_ZNKSt14__basic_futureIP14SQLQueryHolderE8wait_forERKNSt6chrono8durationIT_T0_EE" >wait_for</a>(<span class="namespace">std::chrono::</span><a class="typedef" href="../../../../../include/c++/4.9/chrono.html#std::chrono::seconds" title='std::chrono::seconds' data-type='duration&lt;int64_t&gt;' data-ref="std::chrono::seconds" >seconds</a><a class="ref" href="../../../../../include/c++/4.9/chrono.html#_ZNSt6chrono8durationIlSt5ratioILl1ELl1EEEC1ERKT_" title='std::chrono::duration&lt;long, std::ratio&lt;1, 1&gt; &gt;::duration' data-ref="_ZNSt6chrono8durationIlSt5ratioILl1ELl1EEEC1ERKT_" id="_ZNSt6chrono8durationIlSt5ratioILl1ELl1EEEC1ERKT_" >(</a><var>0</var>)) == <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/4.9/future.html#std::future_status" title='std::future_status' data-ref="std::future_status" >future_status</a>::<a class="enum" href="../../../../../include/c++/4.9/future.html#std::future_status::ready" title='std::future_status::ready' data-ref="std::future_status::ready" id="std::future_status::ready" >ready</a>)</td></tr>
<tr><th id="956">956</th><td>        <a class="member" href="#_ZN12WorldSession25InitializeSessionCallbackEP14SQLQueryHolderS1_" title='WorldSession::InitializeSessionCallback' data-ref="_ZN12WorldSession25InitializeSessionCallbackEP14SQLQueryHolderS1_" >InitializeSessionCallback</a>(<a class="member" href="WorldSession.h.html#WorldSession::_realmAccountLoginCallback" title='WorldSession::_realmAccountLoginCallback' data-ref="WorldSession::_realmAccountLoginCallback" id="WorldSession::_realmAccountLoginCallback" >_realmAccountLoginCallback</a>.<a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNSt6future3getEv" title='std::future::get' data-ref="_ZNSt6future3getEv" id="_ZNSt6future3getEv" >get</a>(), <a class="member" href="WorldSession.h.html#WorldSession::_accountLoginCallback" title='WorldSession::_accountLoginCallback' data-ref="WorldSession::_accountLoginCallback" id="WorldSession::_accountLoginCallback" >_accountLoginCallback</a>.<a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNSt6future3getEv" title='std::future::get' data-ref="_ZNSt6future3getEv" id="_ZNSt6future3getEv" >get</a>());</td></tr>
<tr><th id="957">957</th><td></td></tr>
<tr><th id="958">958</th><td>    <i class="doc">//! HandleCharEnumOpcode and HandleCharUndeleteEnumOpcode</i></td></tr>
<tr><th id="959">959</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_charEnumCallback" title='WorldSession::_charEnumCallback' data-ref="WorldSession::_charEnumCallback" id="WorldSession::_charEnumCallback" >_charEnumCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback7IsReadyEv" title='QueryCallback::IsReady' data-ref="_ZN13QueryCallback7IsReadyEv" id="_ZN13QueryCallback7IsReadyEv" >IsReady</a>())</td></tr>
<tr><th id="960">960</th><td>    {</td></tr>
<tr><th id="961">961</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_charEnumCallback" title='WorldSession::_charEnumCallback' data-ref="WorldSession::_charEnumCallback" id="WorldSession::_charEnumCallback" >_charEnumCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback9GetResultERT_" title='QueryCallback::GetResult' data-ref="_ZN13QueryCallback9GetResultERT_" id="_ZN13QueryCallback9GetResultERT_" >GetResult</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="962">962</th><td></td></tr>
<tr><th id="963">963</th><td>        <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_charEnumCallback" title='WorldSession::_charEnumCallback' data-ref="WorldSession::_charEnumCallback" id="WorldSession::_charEnumCallback" >_charEnumCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback8GetParamEv" title='QueryCallback::GetParam' data-ref="_ZN13QueryCallback8GetParamEv" id="_ZN13QueryCallback8GetParamEv" >GetParam</a>())</td></tr>
<tr><th id="964">964</th><td>            <a class="member" href="WorldSession.h.html#_ZN12WorldSession22HandleCharUndeleteEnumESt10shared_ptrI17PreparedResultSetE" title='WorldSession::HandleCharUndeleteEnum' data-ref="_ZN12WorldSession22HandleCharUndeleteEnumESt10shared_ptrI17PreparedResultSetE" id="_ZN12WorldSession22HandleCharUndeleteEnumESt10shared_ptrI17PreparedResultSetE" >HandleCharUndeleteEnum</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="965">965</th><td>        <b>else</b></td></tr>
<tr><th id="966">966</th><td>            <a class="member" href="WorldSession.h.html#_ZN12WorldSession14HandleCharEnumESt10shared_ptrI17PreparedResultSetE" title='WorldSession::HandleCharEnum' data-ref="_ZN12WorldSession14HandleCharEnumESt10shared_ptrI17PreparedResultSetE" id="_ZN12WorldSession14HandleCharEnumESt10shared_ptrI17PreparedResultSetE" >HandleCharEnum</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="967">967</th><td></td></tr>
<tr><th id="968">968</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_charEnumCallback" title='WorldSession::_charEnumCallback' data-ref="WorldSession::_charEnumCallback" id="WorldSession::_charEnumCallback" >_charEnumCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback10FreeResultEv" title='QueryCallback::FreeResult' data-ref="_ZN13QueryCallback10FreeResultEv" id="_ZN13QueryCallback10FreeResultEv" >FreeResult</a>();</td></tr>
<tr><th id="969">969</th><td>    }</td></tr>
<tr><th id="970">970</th><td></td></tr>
<tr><th id="971">971</th><td>    <i class="doc">//! HandleCharCreateOpcode</i></td></tr>
<tr><th id="972">972</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_charCreateCallback" title='WorldSession::_charCreateCallback' data-ref="WorldSession::_charCreateCallback" id="WorldSession::_charCreateCallback" >_charCreateCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback7IsReadyEv" title='QueryCallback::IsReady' data-ref="_ZN13QueryCallback7IsReadyEv" id="_ZN13QueryCallback7IsReadyEv" >IsReady</a>())</td></tr>
<tr><th id="973">973</th><td>    {</td></tr>
<tr><th id="974">974</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_charCreateCallback" title='WorldSession::_charCreateCallback' data-ref="WorldSession::_charCreateCallback" id="WorldSession::_charCreateCallback" >_charCreateCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback9GetResultERT_" title='QueryCallback::GetResult' data-ref="_ZN13QueryCallback9GetResultERT_" id="_ZN13QueryCallback9GetResultERT_" >GetResult</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="975">975</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession24HandleCharCreateCallbackESt10shared_ptrI17PreparedResultSetEPN12WorldPackets9Character19CharacterCreateInfoE" title='WorldSession::HandleCharCreateCallback' data-ref="_ZN12WorldSession24HandleCharCreateCallbackESt10shared_ptrI17PreparedResultSetEPN12WorldPackets9Character19CharacterCreateInfoE" id="_ZN12WorldSession24HandleCharCreateCallbackESt10shared_ptrI17PreparedResultSetEPN12WorldPackets9Character19CharacterCreateInfoE" >HandleCharCreateCallback</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>, <a class="member" href="WorldSession.h.html#WorldSession::_charCreateCallback" title='WorldSession::_charCreateCallback' data-ref="WorldSession::_charCreateCallback" id="WorldSession::_charCreateCallback" >_charCreateCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback8GetParamEv" title='QueryCallback::GetParam' data-ref="_ZN13QueryCallback8GetParamEv" id="_ZN13QueryCallback8GetParamEv" >GetParam</a>().<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptr3getEv" title='std::__shared_ptr::get' data-ref="_ZNKSt12__shared_ptr3getEv" id="_ZNKSt12__shared_ptr3getEv" >get</a>());</td></tr>
<tr><th id="976">976</th><td>    }</td></tr>
<tr><th id="977">977</th><td></td></tr>
<tr><th id="978">978</th><td>    <i class="doc">//! HandleCharCustomizeOpcode</i></td></tr>
<tr><th id="979">979</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_charCustomizeCallback" title='WorldSession::_charCustomizeCallback' data-ref="WorldSession::_charCustomizeCallback" id="WorldSession::_charCustomizeCallback" >_charCustomizeCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback7IsReadyEv" title='QueryCallback::IsReady' data-ref="_ZN13QueryCallback7IsReadyEv" id="_ZN13QueryCallback7IsReadyEv" >IsReady</a>())</td></tr>
<tr><th id="980">980</th><td>    {</td></tr>
<tr><th id="981">981</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_charCustomizeCallback" title='WorldSession::_charCustomizeCallback' data-ref="WorldSession::_charCustomizeCallback" id="WorldSession::_charCustomizeCallback" >_charCustomizeCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback9GetResultERT_" title='QueryCallback::GetResult' data-ref="_ZN13QueryCallback9GetResultERT_" id="_ZN13QueryCallback9GetResultERT_" >GetResult</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="982">982</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession27HandleCharCustomizeCallbackESt10shared_ptrI17PreparedResultSetEPN12WorldPackets9Character17CharCustomizeInfoE" title='WorldSession::HandleCharCustomizeCallback' data-ref="_ZN12WorldSession27HandleCharCustomizeCallbackESt10shared_ptrI17PreparedResultSetEPN12WorldPackets9Character17CharCustomizeInfoE" id="_ZN12WorldSession27HandleCharCustomizeCallbackESt10shared_ptrI17PreparedResultSetEPN12WorldPackets9Character17CharCustomizeInfoE" >HandleCharCustomizeCallback</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>, <a class="member" href="WorldSession.h.html#WorldSession::_charCustomizeCallback" title='WorldSession::_charCustomizeCallback' data-ref="WorldSession::_charCustomizeCallback" id="WorldSession::_charCustomizeCallback" >_charCustomizeCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback8GetParamEv" title='QueryCallback::GetParam' data-ref="_ZN13QueryCallback8GetParamEv" id="_ZN13QueryCallback8GetParamEv" >GetParam</a>().<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptr3getEv" title='std::__shared_ptr::get' data-ref="_ZNKSt12__shared_ptr3getEv" id="_ZNKSt12__shared_ptr3getEv" >get</a>());</td></tr>
<tr><th id="983">983</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_charCustomizeCallback" title='WorldSession::_charCustomizeCallback' data-ref="WorldSession::_charCustomizeCallback" id="WorldSession::_charCustomizeCallback" >_charCustomizeCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback5ResetEv" title='QueryCallback::Reset' data-ref="_ZN13QueryCallback5ResetEv" id="_ZN13QueryCallback5ResetEv" >Reset</a>();</td></tr>
<tr><th id="984">984</th><td>    }</td></tr>
<tr><th id="985">985</th><td></td></tr>
<tr><th id="986">986</th><td>    <i class="doc">//! HandleCharRaceOrFactionChangeOpcode</i></td></tr>
<tr><th id="987">987</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_charFactionChangeCallback" title='WorldSession::_charFactionChangeCallback' data-ref="WorldSession::_charFactionChangeCallback" id="WorldSession::_charFactionChangeCallback" >_charFactionChangeCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback7IsReadyEv" title='QueryCallback::IsReady' data-ref="_ZN13QueryCallback7IsReadyEv" id="_ZN13QueryCallback7IsReadyEv" >IsReady</a>())</td></tr>
<tr><th id="988">988</th><td>    {</td></tr>
<tr><th id="989">989</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_charFactionChangeCallback" title='WorldSession::_charFactionChangeCallback' data-ref="WorldSession::_charFactionChangeCallback" id="WorldSession::_charFactionChangeCallback" >_charFactionChangeCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback9GetResultERT_" title='QueryCallback::GetResult' data-ref="_ZN13QueryCallback9GetResultERT_" id="_ZN13QueryCallback9GetResultERT_" >GetResult</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="990">990</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession37HandleCharRaceOrFactionChangeCallbackESt10shared_ptrI17PreparedResultSetEPN12WorldPackets9Character27CharRaceOrFactionChangeInfoE" title='WorldSession::HandleCharRaceOrFactionChangeCallback' data-ref="_ZN12WorldSession37HandleCharRaceOrFactionChangeCallbackESt10shared_ptrI17PreparedResultSetEPN12WorldPackets9Character27CharRaceOrFactionChangeInfoE" id="_ZN12WorldSession37HandleCharRaceOrFactionChangeCallbackESt10shared_ptrI17PreparedResultSetEPN12WorldPackets9Character27CharRaceOrFactionChangeInfoE" >HandleCharRaceOrFactionChangeCallback</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>, <a class="member" href="WorldSession.h.html#WorldSession::_charFactionChangeCallback" title='WorldSession::_charFactionChangeCallback' data-ref="WorldSession::_charFactionChangeCallback" id="WorldSession::_charFactionChangeCallback" >_charFactionChangeCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback8GetParamEv" title='QueryCallback::GetParam' data-ref="_ZN13QueryCallback8GetParamEv" id="_ZN13QueryCallback8GetParamEv" >GetParam</a>().<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptr3getEv" title='std::__shared_ptr::get' data-ref="_ZNKSt12__shared_ptr3getEv" id="_ZNKSt12__shared_ptr3getEv" >get</a>());</td></tr>
<tr><th id="991">991</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_charFactionChangeCallback" title='WorldSession::_charFactionChangeCallback' data-ref="WorldSession::_charFactionChangeCallback" id="WorldSession::_charFactionChangeCallback" >_charFactionChangeCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback5ResetEv" title='QueryCallback::Reset' data-ref="_ZN13QueryCallback5ResetEv" id="_ZN13QueryCallback5ResetEv" >Reset</a>();</td></tr>
<tr><th id="992">992</th><td>    }</td></tr>
<tr><th id="993">993</th><td></td></tr>
<tr><th id="994">994</th><td>    <i class="doc">//! HandlePlayerLoginOpcode</i></td></tr>
<tr><th id="995">995</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_charLoginCallback" title='WorldSession::_charLoginCallback' data-ref="WorldSession::_charLoginCallback" id="WorldSession::_charLoginCallback" >_charLoginCallback</a>.<a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNKSt14__basic_future5validEv" title='std::__basic_future::valid' data-ref="_ZNKSt14__basic_future5validEv" id="_ZNKSt14__basic_future5validEv" >valid</a>() &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::_charLoginCallback" title='WorldSession::_charLoginCallback' data-ref="WorldSession::_charLoginCallback" id="WorldSession::_charLoginCallback" >_charLoginCallback</a>.<a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNKSt14__basic_futureIP14SQLQueryHolderE8wait_forERKNSt6chrono8durationIT_T0_EE" title='std::__basic_future&lt;SQLQueryHolder *&gt;::wait_for' data-ref="_ZNKSt14__basic_futureIP14SQLQueryHolderE8wait_forERKNSt6chrono8durationIT_T0_EE" id="_ZNKSt14__basic_futureIP14SQLQueryHolderE8wait_forERKNSt6chrono8durationIT_T0_EE" >wait_for</a>(<span class="namespace">std::chrono::</span><a class="typedef" href="../../../../../include/c++/4.9/chrono.html#std::chrono::seconds" title='std::chrono::seconds' data-type='duration&lt;int64_t&gt;' data-ref="std::chrono::seconds" >seconds</a><a class="ref" href="../../../../../include/c++/4.9/chrono.html#_ZNSt6chrono8durationIlSt5ratioILl1ELl1EEEC1ERKT_" title='std::chrono::duration&lt;long, std::ratio&lt;1, 1&gt; &gt;::duration' data-ref="_ZNSt6chrono8durationIlSt5ratioILl1ELl1EEEC1ERKT_" id="_ZNSt6chrono8durationIlSt5ratioILl1ELl1EEEC1ERKT_" >(</a><var>0</var>)) == <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/4.9/future.html#std::future_status" title='std::future_status' data-ref="std::future_status" >future_status</a>::<a class="enum" href="../../../../../include/c++/4.9/future.html#std::future_status::ready" title='std::future_status::ready' data-ref="std::future_status::ready" id="std::future_status::ready" >ready</a>)</td></tr>
<tr><th id="996">996</th><td>    {</td></tr>
<tr><th id="997">997</th><td>        <a class="type" href="../../database/Database/QueryHolder.h.html#SQLQueryHolder" title='SQLQueryHolder' data-ref="SQLQueryHolder" >SQLQueryHolder</a>* <dfn class="local col0 decl" id="160param" title='param' data-type='SQLQueryHolder *' data-ref="160param" >param</dfn> = <a class="member" href="WorldSession.h.html#WorldSession::_charLoginCallback" title='WorldSession::_charLoginCallback' data-ref="WorldSession::_charLoginCallback" id="WorldSession::_charLoginCallback" >_charLoginCallback</a>.<a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNSt6future3getEv" title='std::future::get' data-ref="_ZNSt6future3getEv" id="_ZNSt6future3getEv" >get</a>();</td></tr>
<tr><th id="998">998</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession17HandlePlayerLoginEP16LoginQueryHolder" title='WorldSession::HandlePlayerLogin' data-ref="_ZN12WorldSession17HandlePlayerLoginEP16LoginQueryHolder" id="_ZN12WorldSession17HandlePlayerLoginEP16LoginQueryHolder" >HandlePlayerLogin</a>((<a class="type" href="WorldSession.h.html#LoginQueryHolder" title='LoginQueryHolder' data-ref="LoginQueryHolder" >LoginQueryHolder</a>*)<a class="local col0 ref" href="#160param" title='param' data-ref="160param" >param</a>);</td></tr>
<tr><th id="999">999</th><td>    }</td></tr>
<tr><th id="1000">1000</th><td></td></tr>
<tr><th id="1001">1001</th><td>    <i class="doc">//! HandleAddFriendOpcode</i></td></tr>
<tr><th id="1002">1002</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_addFriendCallback" title='WorldSession::_addFriendCallback' data-ref="WorldSession::_addFriendCallback" id="WorldSession::_addFriendCallback" >_addFriendCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback7IsReadyEv" title='QueryCallback::IsReady' data-ref="_ZN13QueryCallback7IsReadyEv" id="_ZN13QueryCallback7IsReadyEv" >IsReady</a>())</td></tr>
<tr><th id="1003">1003</th><td>    {</td></tr>
<tr><th id="1004">1004</th><td>        <span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/4.9/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" >string</a> <dfn class="local col1 decl" id="161param" title='param' data-type='std::string' data-ref="161param" >param</dfn> = <a class="member" href="WorldSession.h.html#WorldSession::_addFriendCallback" title='WorldSession::_addFriendCallback' data-ref="WorldSession::_addFriendCallback" id="WorldSession::_addFriendCallback" >_addFriendCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback8GetParamEv" title='QueryCallback::GetParam' data-ref="_ZN13QueryCallback8GetParamEv" id="_ZN13QueryCallback8GetParamEv" >GetParam</a>();</td></tr>
<tr><th id="1005">1005</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_addFriendCallback" title='WorldSession::_addFriendCallback' data-ref="WorldSession::_addFriendCallback" id="WorldSession::_addFriendCallback" >_addFriendCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback9GetResultERT_" title='QueryCallback::GetResult' data-ref="_ZN13QueryCallback9GetResultERT_" id="_ZN13QueryCallback9GetResultERT_" >GetResult</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="1006">1006</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession29HandleAddFriendOpcodeCallBackESt10shared_ptrI17PreparedResultSetERKSs" title='WorldSession::HandleAddFriendOpcodeCallBack' data-ref="_ZN12WorldSession29HandleAddFriendOpcodeCallBackESt10shared_ptrI17PreparedResultSetERKSs" id="_ZN12WorldSession29HandleAddFriendOpcodeCallBackESt10shared_ptrI17PreparedResultSetERKSs" >HandleAddFriendOpcodeCallBack</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>, <a class="local col1 ref" href="#161param" title='param' data-ref="161param" >param</a>);</td></tr>
<tr><th id="1007">1007</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_addFriendCallback" title='WorldSession::_addFriendCallback' data-ref="WorldSession::_addFriendCallback" id="WorldSession::_addFriendCallback" >_addFriendCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback10FreeResultEv" title='QueryCallback::FreeResult' data-ref="_ZN13QueryCallback10FreeResultEv" id="_ZN13QueryCallback10FreeResultEv" >FreeResult</a>();</td></tr>
<tr><th id="1008">1008</th><td>    }</td></tr>
<tr><th id="1009">1009</th><td></td></tr>
<tr><th id="1010">1010</th><td>    <i>//- HandleCharRenameOpcode</i></td></tr>
<tr><th id="1011">1011</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_charRenameCallback" title='WorldSession::_charRenameCallback' data-ref="WorldSession::_charRenameCallback" id="WorldSession::_charRenameCallback" >_charRenameCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback7IsReadyEv" title='QueryCallback::IsReady' data-ref="_ZN13QueryCallback7IsReadyEv" id="_ZN13QueryCallback7IsReadyEv" >IsReady</a>())</td></tr>
<tr><th id="1012">1012</th><td>    {</td></tr>
<tr><th id="1013">1013</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_charRenameCallback" title='WorldSession::_charRenameCallback' data-ref="WorldSession::_charRenameCallback" id="WorldSession::_charRenameCallback" >_charRenameCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback9GetResultERT_" title='QueryCallback::GetResult' data-ref="_ZN13QueryCallback9GetResultERT_" id="_ZN13QueryCallback9GetResultERT_" >GetResult</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="1014">1014</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession24HandleCharRenameCallBackESt10shared_ptrI17PreparedResultSetEPN12WorldPackets9Character19CharacterRenameInfoE" title='WorldSession::HandleCharRenameCallBack' data-ref="_ZN12WorldSession24HandleCharRenameCallBackESt10shared_ptrI17PreparedResultSetEPN12WorldPackets9Character19CharacterRenameInfoE" id="_ZN12WorldSession24HandleCharRenameCallBackESt10shared_ptrI17PreparedResultSetEPN12WorldPackets9Character19CharacterRenameInfoE" >HandleCharRenameCallBack</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>, <a class="member" href="WorldSession.h.html#WorldSession::_charRenameCallback" title='WorldSession::_charRenameCallback' data-ref="WorldSession::_charRenameCallback" id="WorldSession::_charRenameCallback" >_charRenameCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback8GetParamEv" title='QueryCallback::GetParam' data-ref="_ZN13QueryCallback8GetParamEv" id="_ZN13QueryCallback8GetParamEv" >GetParam</a>().<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptr3getEv" title='std::__shared_ptr::get' data-ref="_ZNKSt12__shared_ptr3getEv" id="_ZNKSt12__shared_ptr3getEv" >get</a>());</td></tr>
<tr><th id="1015">1015</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_charRenameCallback" title='WorldSession::_charRenameCallback' data-ref="WorldSession::_charRenameCallback" id="WorldSession::_charRenameCallback" >_charRenameCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback5ResetEv" title='QueryCallback::Reset' data-ref="_ZN13QueryCallback5ResetEv" id="_ZN13QueryCallback5ResetEv" >Reset</a>();</td></tr>
<tr><th id="1016">1016</th><td>    }</td></tr>
<tr><th id="1017">1017</th><td></td></tr>
<tr><th id="1018">1018</th><td>    <i class="doc">/// HandleUndeleteCooldownStatusOpcode</i></td></tr>
<tr><th id="1019">1019</th><td><i class="doc">    /// wait until no char undelete is in progress</i></td></tr>
<tr><th id="1020">1020</th><td>    <b>if</b> (!<a class="member" href="WorldSession.h.html#WorldSession::_charUndeleteCallback" title='WorldSession::_charUndeleteCallback' data-ref="WorldSession::_charUndeleteCallback" id="WorldSession::_charUndeleteCallback" >_charUndeleteCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback8GetStageEv" title='QueryCallback::GetStage' data-ref="_ZN13QueryCallback8GetStageEv" id="_ZN13QueryCallback8GetStageEv" >GetStage</a>() &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::_undeleteCooldownStatusCallback" title='WorldSession::_undeleteCooldownStatusCallback' data-ref="WorldSession::_undeleteCooldownStatusCallback" id="WorldSession::_undeleteCooldownStatusCallback" >_undeleteCooldownStatusCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback7IsReadyEv" title='QueryCallback::IsReady' data-ref="_ZN13QueryCallback7IsReadyEv" id="_ZN13QueryCallback7IsReadyEv" >IsReady</a>())</td></tr>
<tr><th id="1021">1021</th><td>    {</td></tr>
<tr><th id="1022">1022</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_undeleteCooldownStatusCallback" title='WorldSession::_undeleteCooldownStatusCallback' data-ref="WorldSession::_undeleteCooldownStatusCallback" id="WorldSession::_undeleteCooldownStatusCallback" >_undeleteCooldownStatusCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback9GetResultERT_" title='QueryCallback::GetResult' data-ref="_ZN13QueryCallback9GetResultERT_" id="_ZN13QueryCallback9GetResultERT_" >GetResult</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="1023">1023</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession36HandleUndeleteCooldownStatusCallbackESt10shared_ptrI17PreparedResultSetE" title='WorldSession::HandleUndeleteCooldownStatusCallback' data-ref="_ZN12WorldSession36HandleUndeleteCooldownStatusCallbackESt10shared_ptrI17PreparedResultSetE" id="_ZN12WorldSession36HandleUndeleteCooldownStatusCallbackESt10shared_ptrI17PreparedResultSetE" >HandleUndeleteCooldownStatusCallback</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="1024">1024</th><td>    }</td></tr>
<tr><th id="1025">1025</th><td></td></tr>
<tr><th id="1026">1026</th><td>    <i class="doc">/// HandleCharUndeleteOpcode</i></td></tr>
<tr><th id="1027">1027</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_charUndeleteCallback" title='WorldSession::_charUndeleteCallback' data-ref="WorldSession::_charUndeleteCallback" id="WorldSession::_charUndeleteCallback" >_charUndeleteCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback7IsReadyEv" title='QueryCallback::IsReady' data-ref="_ZN13QueryCallback7IsReadyEv" id="_ZN13QueryCallback7IsReadyEv" >IsReady</a>())</td></tr>
<tr><th id="1028">1028</th><td>    {</td></tr>
<tr><th id="1029">1029</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_charUndeleteCallback" title='WorldSession::_charUndeleteCallback' data-ref="WorldSession::_charUndeleteCallback" id="WorldSession::_charUndeleteCallback" >_charUndeleteCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback9GetResultERT_" title='QueryCallback::GetResult' data-ref="_ZN13QueryCallback9GetResultERT_" id="_ZN13QueryCallback9GetResultERT_" >GetResult</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="1030">1030</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession26HandleCharUndeleteCallbackESt10shared_ptrI17PreparedResultSetEPN12WorldPackets9Character21CharacterUndeleteInfoE" title='WorldSession::HandleCharUndeleteCallback' data-ref="_ZN12WorldSession26HandleCharUndeleteCallbackESt10shared_ptrI17PreparedResultSetEPN12WorldPackets9Character21CharacterUndeleteInfoE" id="_ZN12WorldSession26HandleCharUndeleteCallbackESt10shared_ptrI17PreparedResultSetEPN12WorldPackets9Character21CharacterUndeleteInfoE" >HandleCharUndeleteCallback</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>, <a class="member" href="WorldSession.h.html#WorldSession::_charUndeleteCallback" title='WorldSession::_charUndeleteCallback' data-ref="WorldSession::_charUndeleteCallback" id="WorldSession::_charUndeleteCallback" >_charUndeleteCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback8GetParamEv" title='QueryCallback::GetParam' data-ref="_ZN13QueryCallback8GetParamEv" id="_ZN13QueryCallback8GetParamEv" >GetParam</a>().<a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr_base.h.html#_ZNKSt12__shared_ptr3getEv" title='std::__shared_ptr::get' data-ref="_ZNKSt12__shared_ptr3getEv" id="_ZNKSt12__shared_ptr3getEv" >get</a>());</td></tr>
<tr><th id="1031">1031</th><td>    }</td></tr>
<tr><th id="1032">1032</th><td></td></tr>
<tr><th id="1033">1033</th><td>    <i>//- HandleCharAddIgnoreOpcode</i></td></tr>
<tr><th id="1034">1034</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_addIgnoreCallback" title='WorldSession::_addIgnoreCallback' data-ref="WorldSession::_addIgnoreCallback" id="WorldSession::_addIgnoreCallback" >_addIgnoreCallback</a>.<a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNKSt14__basic_future5validEv" title='std::__basic_future::valid' data-ref="_ZNKSt14__basic_future5validEv" id="_ZNKSt14__basic_future5validEv" >valid</a>() &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::_addIgnoreCallback" title='WorldSession::_addIgnoreCallback' data-ref="WorldSession::_addIgnoreCallback" id="WorldSession::_addIgnoreCallback" >_addIgnoreCallback</a>.<a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNKSt14__basic_futureISt10shared_ptrI17PreparedResultSetEE8wait_forERKNSt6chrono8durationIT_T0_EE" title='std::__basic_future&lt;std::shared_ptr&lt;PreparedResultSet&gt; &gt;::wait_for' data-ref="_ZNKSt14__basic_futureISt10shared_ptrI17PreparedResultSetEE8wait_forERKNSt6chrono8durationIT_T0_EE" id="_ZNKSt14__basic_futureISt10shared_ptrI17PreparedResultSetEE8wait_forERKNSt6chrono8durationIT_T0_EE" >wait_for</a>(<span class="namespace">std::chrono::</span><a class="typedef" href="../../../../../include/c++/4.9/chrono.html#std::chrono::seconds" title='std::chrono::seconds' data-type='duration&lt;int64_t&gt;' data-ref="std::chrono::seconds" >seconds</a><a class="ref" href="../../../../../include/c++/4.9/chrono.html#_ZNSt6chrono8durationIlSt5ratioILl1ELl1EEEC1ERKT_" title='std::chrono::duration&lt;long, std::ratio&lt;1, 1&gt; &gt;::duration' data-ref="_ZNSt6chrono8durationIlSt5ratioILl1ELl1EEEC1ERKT_" id="_ZNSt6chrono8durationIlSt5ratioILl1ELl1EEEC1ERKT_" >(</a><var>0</var>)) == <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/4.9/future.html#std::future_status" title='std::future_status' data-ref="std::future_status" >future_status</a>::<a class="enum" href="../../../../../include/c++/4.9/future.html#std::future_status::ready" title='std::future_status::ready' data-ref="std::future_status::ready" id="std::future_status::ready" >ready</a>)</td></tr>
<tr><th id="1035">1035</th><td>    {</td></tr>
<tr><th id="1036">1036</th><td>        <a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a> <a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr.h.html#_ZNSt10shared_ptraSEOSt10shared_ptrIT_E" title='std::shared_ptr::operator=' data-ref="_ZNSt10shared_ptraSEOSt10shared_ptrIT_E" id="_ZNSt10shared_ptraSEOSt10shared_ptrIT_E" >=</a> <a class="member" href="WorldSession.h.html#WorldSession::_addIgnoreCallback" title='WorldSession::_addIgnoreCallback' data-ref="WorldSession::_addIgnoreCallback" id="WorldSession::_addIgnoreCallback" >_addIgnoreCallback</a>.<a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNSt6future3getEv" title='std::future::get' data-ref="_ZNSt6future3getEv" id="_ZNSt6future3getEv" >get</a>();</td></tr>
<tr><th id="1037">1037</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession29HandleAddIgnoreOpcodeCallBackESt10shared_ptrI17PreparedResultSetE" title='WorldSession::HandleAddIgnoreOpcodeCallBack' data-ref="_ZN12WorldSession29HandleAddIgnoreOpcodeCallBackESt10shared_ptrI17PreparedResultSetE" id="_ZN12WorldSession29HandleAddIgnoreOpcodeCallBackESt10shared_ptrI17PreparedResultSetE" >HandleAddIgnoreOpcodeCallBack</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="1038">1038</th><td>    }</td></tr>
<tr><th id="1039">1039</th><td></td></tr>
<tr><th id="1040">1040</th><td>    <i>//- SendStabledPet</i></td></tr>
<tr><th id="1041">1041</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_sendStabledPetCallback" title='WorldSession::_sendStabledPetCallback' data-ref="WorldSession::_sendStabledPetCallback" id="WorldSession::_sendStabledPetCallback" >_sendStabledPetCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback7IsReadyEv" title='QueryCallback::IsReady' data-ref="_ZN13QueryCallback7IsReadyEv" id="_ZN13QueryCallback7IsReadyEv" >IsReady</a>())</td></tr>
<tr><th id="1042">1042</th><td>    {</td></tr>
<tr><th id="1043">1043</th><td>        <a class="type" href="../Entities/Object/ObjectGuid.h.html#ObjectGuid" title='ObjectGuid' data-ref="ObjectGuid" >ObjectGuid</a> <dfn class="local col2 decl" id="162param" title='param' data-type='ObjectGuid' data-ref="162param" >param</dfn> = <a class="member" href="WorldSession.h.html#WorldSession::_sendStabledPetCallback" title='WorldSession::_sendStabledPetCallback' data-ref="WorldSession::_sendStabledPetCallback" id="WorldSession::_sendStabledPetCallback" >_sendStabledPetCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback8GetParamEv" title='QueryCallback::GetParam' data-ref="_ZN13QueryCallback8GetParamEv" id="_ZN13QueryCallback8GetParamEv" >GetParam</a>();</td></tr>
<tr><th id="1044">1044</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_sendStabledPetCallback" title='WorldSession::_sendStabledPetCallback' data-ref="WorldSession::_sendStabledPetCallback" id="WorldSession::_sendStabledPetCallback" >_sendStabledPetCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback9GetResultERT_" title='QueryCallback::GetResult' data-ref="_ZN13QueryCallback9GetResultERT_" id="_ZN13QueryCallback9GetResultERT_" >GetResult</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="1045">1045</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession21SendStablePetCallbackESt10shared_ptrI17PreparedResultSetE10ObjectGuid" title='WorldSession::SendStablePetCallback' data-ref="_ZN12WorldSession21SendStablePetCallbackESt10shared_ptrI17PreparedResultSetE10ObjectGuid" id="_ZN12WorldSession21SendStablePetCallbackESt10shared_ptrI17PreparedResultSetE10ObjectGuid" >SendStablePetCallback</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>, <a class="local col2 ref" href="#162param" title='param' data-ref="162param" >param</a>);</td></tr>
<tr><th id="1046">1046</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_sendStabledPetCallback" title='WorldSession::_sendStabledPetCallback' data-ref="WorldSession::_sendStabledPetCallback" id="WorldSession::_sendStabledPetCallback" >_sendStabledPetCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback10FreeResultEv" title='QueryCallback::FreeResult' data-ref="_ZN13QueryCallback10FreeResultEv" id="_ZN13QueryCallback10FreeResultEv" >FreeResult</a>();</td></tr>
<tr><th id="1047">1047</th><td>    }</td></tr>
<tr><th id="1048">1048</th><td></td></tr>
<tr><th id="1049">1049</th><td>    <i>//- HandleStablePet</i></td></tr>
<tr><th id="1050">1050</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_stablePetCallback" title='WorldSession::_stablePetCallback' data-ref="WorldSession::_stablePetCallback" id="WorldSession::_stablePetCallback" >_stablePetCallback</a>.<a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNKSt14__basic_future5validEv" title='std::__basic_future::valid' data-ref="_ZNKSt14__basic_future5validEv" id="_ZNKSt14__basic_future5validEv" >valid</a>() &amp;&amp; <a class="member" href="WorldSession.h.html#WorldSession::_stablePetCallback" title='WorldSession::_stablePetCallback' data-ref="WorldSession::_stablePetCallback" id="WorldSession::_stablePetCallback" >_stablePetCallback</a>.<a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNKSt14__basic_futureISt10shared_ptrI17PreparedResultSetEE8wait_forERKNSt6chrono8durationIT_T0_EE" title='std::__basic_future&lt;std::shared_ptr&lt;PreparedResultSet&gt; &gt;::wait_for' data-ref="_ZNKSt14__basic_futureISt10shared_ptrI17PreparedResultSetEE8wait_forERKNSt6chrono8durationIT_T0_EE" id="_ZNKSt14__basic_futureISt10shared_ptrI17PreparedResultSetEE8wait_forERKNSt6chrono8durationIT_T0_EE" >wait_for</a>(<span class="namespace">std::chrono::</span><a class="typedef" href="../../../../../include/c++/4.9/chrono.html#std::chrono::seconds" title='std::chrono::seconds' data-type='duration&lt;int64_t&gt;' data-ref="std::chrono::seconds" >seconds</a><a class="ref" href="../../../../../include/c++/4.9/chrono.html#_ZNSt6chrono8durationIlSt5ratioILl1ELl1EEEC1ERKT_" title='std::chrono::duration&lt;long, std::ratio&lt;1, 1&gt; &gt;::duration' data-ref="_ZNSt6chrono8durationIlSt5ratioILl1ELl1EEEC1ERKT_" id="_ZNSt6chrono8durationIlSt5ratioILl1ELl1EEEC1ERKT_" >(</a><var>0</var>)) == <span class="namespace">std::</span><a class="type" href="../../../../../include/c++/4.9/future.html#std::future_status" title='std::future_status' data-ref="std::future_status" >future_status</a>::<a class="enum" href="../../../../../include/c++/4.9/future.html#std::future_status::ready" title='std::future_status::ready' data-ref="std::future_status::ready" id="std::future_status::ready" >ready</a>)</td></tr>
<tr><th id="1051">1051</th><td>    {</td></tr>
<tr><th id="1052">1052</th><td>        <a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a> <a class="ref" href="../../../../../include/c++/4.9/bits/shared_ptr.h.html#_ZNSt10shared_ptraSEOSt10shared_ptrIT_E" title='std::shared_ptr::operator=' data-ref="_ZNSt10shared_ptraSEOSt10shared_ptrIT_E" id="_ZNSt10shared_ptraSEOSt10shared_ptrIT_E" >=</a> <a class="member" href="WorldSession.h.html#WorldSession::_stablePetCallback" title='WorldSession::_stablePetCallback' data-ref="WorldSession::_stablePetCallback" id="WorldSession::_stablePetCallback" >_stablePetCallback</a>.<a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNSt6future3getEv" title='std::future::get' data-ref="_ZNSt6future3getEv" id="_ZNSt6future3getEv" >get</a>();</td></tr>
<tr><th id="1053">1053</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession23HandleStablePetCallbackESt10shared_ptrI17PreparedResultSetE" title='WorldSession::HandleStablePetCallback' data-ref="_ZN12WorldSession23HandleStablePetCallbackESt10shared_ptrI17PreparedResultSetE" id="_ZN12WorldSession23HandleStablePetCallbackESt10shared_ptrI17PreparedResultSetE" >HandleStablePetCallback</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="1054">1054</th><td>    }</td></tr>
<tr><th id="1055">1055</th><td></td></tr>
<tr><th id="1056">1056</th><td>    <i>//- HandleUnstablePet</i></td></tr>
<tr><th id="1057">1057</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_unstablePetCallback" title='WorldSession::_unstablePetCallback' data-ref="WorldSession::_unstablePetCallback" id="WorldSession::_unstablePetCallback" >_unstablePetCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback7IsReadyEv" title='QueryCallback::IsReady' data-ref="_ZN13QueryCallback7IsReadyEv" id="_ZN13QueryCallback7IsReadyEv" >IsReady</a>())</td></tr>
<tr><th id="1058">1058</th><td>    {</td></tr>
<tr><th id="1059">1059</th><td>        <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col3 decl" id="163param" title='param' data-type='uint32' data-ref="163param" >param</dfn> = <a class="member" href="WorldSession.h.html#WorldSession::_unstablePetCallback" title='WorldSession::_unstablePetCallback' data-ref="WorldSession::_unstablePetCallback" id="WorldSession::_unstablePetCallback" >_unstablePetCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback8GetParamEv" title='QueryCallback::GetParam' data-ref="_ZN13QueryCallback8GetParamEv" id="_ZN13QueryCallback8GetParamEv" >GetParam</a>();</td></tr>
<tr><th id="1060">1060</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_unstablePetCallback" title='WorldSession::_unstablePetCallback' data-ref="WorldSession::_unstablePetCallback" id="WorldSession::_unstablePetCallback" >_unstablePetCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback9GetResultERT_" title='QueryCallback::GetResult' data-ref="_ZN13QueryCallback9GetResultERT_" id="_ZN13QueryCallback9GetResultERT_" >GetResult</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="1061">1061</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession25HandleUnstablePetCallbackESt10shared_ptrI17PreparedResultSetEj" title='WorldSession::HandleUnstablePetCallback' data-ref="_ZN12WorldSession25HandleUnstablePetCallbackESt10shared_ptrI17PreparedResultSetEj" id="_ZN12WorldSession25HandleUnstablePetCallbackESt10shared_ptrI17PreparedResultSetEj" >HandleUnstablePetCallback</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>, <a class="local col3 ref" href="#163param" title='param' data-ref="163param" >param</a>);</td></tr>
<tr><th id="1062">1062</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_unstablePetCallback" title='WorldSession::_unstablePetCallback' data-ref="WorldSession::_unstablePetCallback" id="WorldSession::_unstablePetCallback" >_unstablePetCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback10FreeResultEv" title='QueryCallback::FreeResult' data-ref="_ZN13QueryCallback10FreeResultEv" id="_ZN13QueryCallback10FreeResultEv" >FreeResult</a>();</td></tr>
<tr><th id="1063">1063</th><td>    }</td></tr>
<tr><th id="1064">1064</th><td></td></tr>
<tr><th id="1065">1065</th><td>    <i>//- HandleStableSwapPet</i></td></tr>
<tr><th id="1066">1066</th><td>    <b>if</b> (<a class="member" href="WorldSession.h.html#WorldSession::_stableSwapCallback" title='WorldSession::_stableSwapCallback' data-ref="WorldSession::_stableSwapCallback" id="WorldSession::_stableSwapCallback" >_stableSwapCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback7IsReadyEv" title='QueryCallback::IsReady' data-ref="_ZN13QueryCallback7IsReadyEv" id="_ZN13QueryCallback7IsReadyEv" >IsReady</a>())</td></tr>
<tr><th id="1067">1067</th><td>    {</td></tr>
<tr><th id="1068">1068</th><td>        <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col4 decl" id="164param" title='param' data-type='uint32' data-ref="164param" >param</dfn> = <a class="member" href="WorldSession.h.html#WorldSession::_stableSwapCallback" title='WorldSession::_stableSwapCallback' data-ref="WorldSession::_stableSwapCallback" id="WorldSession::_stableSwapCallback" >_stableSwapCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback8GetParamEv" title='QueryCallback::GetParam' data-ref="_ZN13QueryCallback8GetParamEv" id="_ZN13QueryCallback8GetParamEv" >GetParam</a>();</td></tr>
<tr><th id="1069">1069</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_stableSwapCallback" title='WorldSession::_stableSwapCallback' data-ref="WorldSession::_stableSwapCallback" id="WorldSession::_stableSwapCallback" >_stableSwapCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback9GetResultERT_" title='QueryCallback::GetResult' data-ref="_ZN13QueryCallback9GetResultERT_" id="_ZN13QueryCallback9GetResultERT_" >GetResult</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>);</td></tr>
<tr><th id="1070">1070</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession27HandleStableSwapPetCallbackESt10shared_ptrI17PreparedResultSetEj" title='WorldSession::HandleStableSwapPetCallback' data-ref="_ZN12WorldSession27HandleStableSwapPetCallbackESt10shared_ptrI17PreparedResultSetEj" id="_ZN12WorldSession27HandleStableSwapPetCallbackESt10shared_ptrI17PreparedResultSetEj" >HandleStableSwapPetCallback</a>(<a class="local col9 ref" href="#159result" title='result' data-ref="159result" >result</a>, <a class="local col4 ref" href="#164param" title='param' data-ref="164param" >param</a>);</td></tr>
<tr><th id="1071">1071</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_stableSwapCallback" title='WorldSession::_stableSwapCallback' data-ref="WorldSession::_stableSwapCallback" id="WorldSession::_stableSwapCallback" >_stableSwapCallback</a>.<a class="ref" href="../../../common/Threading/Callback.h.html#_ZN13QueryCallback10FreeResultEv" title='QueryCallback::FreeResult' data-ref="_ZN13QueryCallback10FreeResultEv" id="_ZN13QueryCallback10FreeResultEv" >FreeResult</a>();</td></tr>
<tr><th id="1072">1072</th><td>    }</td></tr>
<tr><th id="1073">1073</th><td>}</td></tr>
<tr><th id="1074">1074</th><td></td></tr>
<tr><th id="1075">1075</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession10InitWardenEP9BigNumberRKSs" title='WorldSession::InitWarden' data-ref="_ZN12WorldSession10InitWardenEP9BigNumberRKSs" >InitWarden</dfn>(<a class="type" href="../../../common/Cryptography/BigNumber.h.html#BigNumber" title='BigNumber' data-ref="BigNumber" >BigNumber</a>* <dfn class="local col5 decl" id="165k" title='k' data-type='BigNumber *' data-ref="165k" >k</dfn>, <span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/4.9/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" >string</a> <em>const</em>&amp; <dfn class="local col6 decl" id="166os" title='os' data-type='const std::string &amp;' data-ref="166os" >os</dfn>)</td></tr>
<tr><th id="1076">1076</th><td>{</td></tr>
<tr><th id="1077">1077</th><td>    <b>if</b> (<a class="local col6 ref" href="#166os" title='os' data-ref="166os" >os</a> <a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZSteqRKSbIT_T0_T1_EPKS_" title='std::operator==' data-ref="_ZSteqRKSbIT_T0_T1_EPKS_" id="_ZSteqRKSbIT_T0_T1_EPKS_" >==</a> <q>"Win"</q>)</td></tr>
<tr><th id="1078">1078</th><td>    {</td></tr>
<tr><th id="1079">1079</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_warden" title='WorldSession::_warden' data-ref="WorldSession::_warden" id="WorldSession::_warden" >_warden</a> = <b>new</b> <a class="type" href="../Warden/WardenWin.h.html#WardenWin" title='WardenWin' data-ref="WardenWin" >WardenWin</a><a class="ref" href="../Warden/WardenWin.h.html#_ZN9WardenWinC1Ev" title='WardenWin::WardenWin' data-ref="_ZN9WardenWinC1Ev" id="_ZN9WardenWinC1Ev" >(</a>);</td></tr>
<tr><th id="1080">1080</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::_warden" title='WorldSession::_warden' data-ref="WorldSession::_warden" id="WorldSession::_warden" >_warden</a>-&gt;<a class="virtual ref" href="../Warden/Warden.h.html#_ZN6Warden4InitEP12WorldSessionP9BigNumber" title='Warden::Init' data-ref="_ZN6Warden4InitEP12WorldSessionP9BigNumber" id="_ZN6Warden4InitEP12WorldSessionP9BigNumber" >Init</a>(<b>this</b>, <a class="local col5 ref" href="#165k" title='k' data-ref="165k" >k</a>);</td></tr>
<tr><th id="1081">1081</th><td>    }</td></tr>
<tr><th id="1082">1082</th><td>    <b>else</b> <b>if</b> (<a class="local col6 ref" href="#166os" title='os' data-ref="166os" >os</a> <a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZSteqRKSbIT_T0_T1_EPKS_" title='std::operator==' data-ref="_ZSteqRKSbIT_T0_T1_EPKS_" id="_ZSteqRKSbIT_T0_T1_EPKS_" >==</a> <q>"Wn64"</q>)</td></tr>
<tr><th id="1083">1083</th><td>    {</td></tr>
<tr><th id="1084">1084</th><td>        <i>// Not implemented</i></td></tr>
<tr><th id="1085">1085</th><td>    }</td></tr>
<tr><th id="1086">1086</th><td>    <b>else</b> <b>if</b> (<a class="local col6 ref" href="#166os" title='os' data-ref="166os" >os</a> <a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZSteqRKSbIT_T0_T1_EPKS_" title='std::operator==' data-ref="_ZSteqRKSbIT_T0_T1_EPKS_" id="_ZSteqRKSbIT_T0_T1_EPKS_" >==</a> <q>"Mc64"</q>)</td></tr>
<tr><th id="1087">1087</th><td>    {</td></tr>
<tr><th id="1088">1088</th><td>        <i>// Not implemented</i></td></tr>
<tr><th id="1089">1089</th><td>    }</td></tr>
<tr><th id="1090">1090</th><td>    <b>else</b> <b>if</b> (<a class="local col6 ref" href="#166os" title='os' data-ref="166os" >os</a> <a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZSteqRKSbIT_T0_T1_EPKS_" title='std::operator==' data-ref="_ZSteqRKSbIT_T0_T1_EPKS_" id="_ZSteqRKSbIT_T0_T1_EPKS_" >==</a> <q>"Mac"</q>)</td></tr>
<tr><th id="1091">1091</th><td>    {</td></tr>
<tr><th id="1092">1092</th><td>        <i>// Disabled as it is causing the client to crash</i></td></tr>
<tr><th id="1093">1093</th><td><i>        // _warden = new WardenMac();</i></td></tr>
<tr><th id="1094">1094</th><td><i>        // _warden-&gt;Init(this, k);</i></td></tr>
<tr><th id="1095">1095</th><td>    }</td></tr>
<tr><th id="1096">1096</th><td>}</td></tr>
<tr><th id="1097">1097</th><td></td></tr>
<tr><th id="1098">1098</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession15LoadPermissionsEv" title='WorldSession::LoadPermissions' data-ref="_ZN12WorldSession15LoadPermissionsEv" >LoadPermissions</dfn>()</td></tr>
<tr><th id="1099">1099</th><td>{</td></tr>
<tr><th id="1100">1100</th><td>    <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col7 decl" id="167id" title='id' data-type='uint32' data-ref="167id" >id</dfn> = <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a>();</td></tr>
<tr><th id="1101">1101</th><td>    <a class="typedef" href="../../../common/Define.h.html#uint8" title='uint8' data-type='uint8_t' data-ref="uint8" >uint8</a> <dfn class="local col8 decl" id="168secLevel" title='secLevel' data-type='uint8' data-ref="168secLevel" >secLevel</dfn> = <a class="member" href="WorldSession.h.html#_ZNK12WorldSession11GetSecurityEv" title='WorldSession::GetSecurity' data-ref="_ZNK12WorldSession11GetSecurityEv" id="_ZNK12WorldSession11GetSecurityEv" >GetSecurity</a>();</td></tr>
<tr><th id="1102">1102</th><td></td></tr>
<tr><th id="1103">1103</th><td>    <a class="macro" href="../../../common/Logging/Log.h.html#202" title="do { if (Log::instance()-&gt;ShouldLog(&quot;rbac&quot;, LOG_LEVEL_DEBUG)) { if (false) check_args(&quot;WorldSession::LoadPermissions [AccountId: %u, Name: %s, realmId: %d, secLevel: %u]&quot;, id, _accountName.c_str(), realm.Id.Realm, secLevel); { try { Log::instance()-&gt;outMessage(&quot;rbac&quot;, LOG_LEVEL_DEBUG, &quot;WorldSession::LoadPermissions [AccountId: %u, Name: %s, realmId: %d, secLevel: %u]&quot;, id, _accountName.c_str(), realm.Id.Realm, secLevel); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 1104); } }; } } while (0)" data-ref="_M/TC_LOG_DEBUG">TC_LOG_DEBUG</a>(<q>"rbac"</q>, <q>"WorldSession::LoadPermissions [AccountId: %u, Name: %s, realmId: %d, secLevel: %u]"</q>,</td></tr>
<tr><th id="1104">1104</th><td>        <a class="local col7 ref" href="#167id" title='id' data-ref="167id" ><a class="local col7 ref" href="#167id" title='id' data-ref="167id" >id</a></a>, <a class="member" href="WorldSession.h.html#WorldSession::_accountName" title='WorldSession::_accountName' data-ref="WorldSession::_accountName" id="WorldSession::_accountName" ><a class="member" href="WorldSession.h.html#WorldSession::_accountName" title='WorldSession::_accountName' data-ref="WorldSession::_accountName" id="WorldSession::_accountName" >_accountName</a></a>.<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="ref" href="../World/World.h.html#realm" title='realm' data-ref="realm" id="realm" ><a class="ref" href="../World/World.h.html#realm" title='realm' data-ref="realm" id="realm" >realm</a></a>.<a class="ref" href="../../shared/Realm/Realm.h.html#Realm::Id" title='Realm::Id' data-ref="Realm::Id" id="Realm::Id" ><a class="ref" href="../../shared/Realm/Realm.h.html#Realm::Id" title='Realm::Id' data-ref="Realm::Id" id="Realm::Id" >Id</a></a>.<a class="ref" href="../../shared/Realm/Realm.h.html#Battlenet::RealmHandle::Realm" title='Battlenet::RealmHandle::Realm' data-ref="Battlenet::RealmHandle::Realm" ><a class="ref" href="../../shared/Realm/Realm.h.html#Battlenet::RealmHandle::Realm" title='Battlenet::RealmHandle::Realm' data-ref="Battlenet::RealmHandle::Realm" id="Battlenet::RealmHandle::Realm" >Realm</a></a>, <a class="local col8 ref" href="#168secLevel" title='secLevel' data-ref="168secLevel" ><a class="local col8 ref" href="#168secLevel" title='secLevel' data-ref="168secLevel" >secLevel</a></a>);</td></tr>
<tr><th id="1105">1105</th><td></td></tr>
<tr><th id="1106">1106</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" >_RBACData</a> = <b>new</b> <span class="namespace">rbac::</span><a class="type" href="../Accounts/RBAC.h.html#rbac::RBACData" title='rbac::RBACData' data-ref="rbac::RBACData" >RBACData</a><a class="ref" href="../Accounts/RBAC.h.html#_ZN4rbac8RBACDataC1EjRKSsih" title='rbac::RBACData::RBACData' data-ref="_ZN4rbac8RBACDataC1EjRKSsih" id="_ZN4rbac8RBACDataC1EjRKSsih" >(</a><a class="local col7 ref" href="#167id" title='id' data-ref="167id" >id</a>, <a class="member" href="WorldSession.h.html#WorldSession::_accountName" title='WorldSession::_accountName' data-ref="WorldSession::_accountName" id="WorldSession::_accountName" >_accountName</a>, <a class="ref" href="../World/World.h.html#realm" title='realm' data-ref="realm" id="realm" >realm</a>.<a class="ref" href="../../shared/Realm/Realm.h.html#Realm::Id" title='Realm::Id' data-ref="Realm::Id" id="Realm::Id" >Id</a>.<a class="ref" href="../../shared/Realm/Realm.h.html#Battlenet::RealmHandle::Realm" title='Battlenet::RealmHandle::Realm' data-ref="Battlenet::RealmHandle::Realm" id="Battlenet::RealmHandle::Realm" >Realm</a>, <a class="local col8 ref" href="#168secLevel" title='secLevel' data-ref="168secLevel" >secLevel</a>);</td></tr>
<tr><th id="1107">1107</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" >_RBACData</a>-&gt;<a class="ref" href="../Accounts/RBAC.h.html#_ZN4rbac8RBACData10LoadFromDBEv" title='rbac::RBACData::LoadFromDB' data-ref="_ZN4rbac8RBACData10LoadFromDBEv" id="_ZN4rbac8RBACData10LoadFromDBEv" >LoadFromDB</a>();</td></tr>
<tr><th id="1108">1108</th><td>}</td></tr>
<tr><th id="1109">1109</th><td></td></tr>
<tr><th id="1110">1110</th><td><a class="typedef" href="../../../common/Threading/Callback.h.html#PreparedQueryResultFuture" title='PreparedQueryResultFuture' data-type='std::future&lt;PreparedQueryResult&gt;' data-ref="PreparedQueryResultFuture" >PreparedQueryResultFuture</a> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession20LoadPermissionsAsyncEv" title='WorldSession::LoadPermissionsAsync' data-ref="_ZN12WorldSession20LoadPermissionsAsyncEv" >LoadPermissionsAsync</dfn>()</td></tr>
<tr><th id="1111">1111</th><td>{</td></tr>
<tr><th id="1112">1112</th><td>    <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col9 decl" id="169id" title='id' data-type='uint32' data-ref="169id" >id</dfn> = <a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a>();</td></tr>
<tr><th id="1113">1113</th><td>    <a class="typedef" href="../../../common/Define.h.html#uint8" title='uint8' data-type='uint8_t' data-ref="uint8" >uint8</a> <dfn class="local col0 decl" id="170secLevel" title='secLevel' data-type='uint8' data-ref="170secLevel" >secLevel</dfn> = <a class="member" href="WorldSession.h.html#_ZNK12WorldSession11GetSecurityEv" title='WorldSession::GetSecurity' data-ref="_ZNK12WorldSession11GetSecurityEv" id="_ZNK12WorldSession11GetSecurityEv" >GetSecurity</a>();</td></tr>
<tr><th id="1114">1114</th><td></td></tr>
<tr><th id="1115">1115</th><td>    <a class="macro" href="../../../common/Logging/Log.h.html#202" title="do { if (Log::instance()-&gt;ShouldLog(&quot;rbac&quot;, LOG_LEVEL_DEBUG)) { if (false) check_args(&quot;WorldSession::LoadPermissions [AccountId: %u, Name: %s, realmId: %d, secLevel: %u]&quot;, id, _accountName.c_str(), realm.Id.Realm, secLevel); { try { Log::instance()-&gt;outMessage(&quot;rbac&quot;, LOG_LEVEL_DEBUG, &quot;WorldSession::LoadPermissions [AccountId: %u, Name: %s, realmId: %d, secLevel: %u]&quot;, id, _accountName.c_str(), realm.Id.Realm, secLevel); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 1116); } }; } } while (0)" data-ref="_M/TC_LOG_DEBUG">TC_LOG_DEBUG</a>(<q>"rbac"</q>, <q>"WorldSession::LoadPermissions [AccountId: %u, Name: %s, realmId: %d, secLevel: %u]"</q>,</td></tr>
<tr><th id="1116">1116</th><td>        <a class="local col9 ref" href="#169id" title='id' data-ref="169id" ><a class="local col9 ref" href="#169id" title='id' data-ref="169id" >id</a></a>, <a class="member" href="WorldSession.h.html#WorldSession::_accountName" title='WorldSession::_accountName' data-ref="WorldSession::_accountName" id="WorldSession::_accountName" ><a class="member" href="WorldSession.h.html#WorldSession::_accountName" title='WorldSession::_accountName' data-ref="WorldSession::_accountName" id="WorldSession::_accountName" >_accountName</a></a>.<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="ref" href="../World/World.h.html#realm" title='realm' data-ref="realm" id="realm" ><a class="ref" href="../World/World.h.html#realm" title='realm' data-ref="realm" id="realm" >realm</a></a>.<a class="ref" href="../../shared/Realm/Realm.h.html#Realm::Id" title='Realm::Id' data-ref="Realm::Id" id="Realm::Id" ><a class="ref" href="../../shared/Realm/Realm.h.html#Realm::Id" title='Realm::Id' data-ref="Realm::Id" id="Realm::Id" >Id</a></a>.<a class="ref" href="../../shared/Realm/Realm.h.html#Battlenet::RealmHandle::Realm" title='Battlenet::RealmHandle::Realm' data-ref="Battlenet::RealmHandle::Realm" ><a class="ref" href="../../shared/Realm/Realm.h.html#Battlenet::RealmHandle::Realm" title='Battlenet::RealmHandle::Realm' data-ref="Battlenet::RealmHandle::Realm" id="Battlenet::RealmHandle::Realm" >Realm</a></a>, <a class="local col0 ref" href="#170secLevel" title='secLevel' data-ref="170secLevel" ><a class="local col0 ref" href="#170secLevel" title='secLevel' data-ref="170secLevel" >secLevel</a></a>);</td></tr>
<tr><th id="1117">1117</th><td></td></tr>
<tr><th id="1118">1118</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" >_RBACData</a> = <b>new</b> <span class="namespace">rbac::</span><a class="type" href="../Accounts/RBAC.h.html#rbac::RBACData" title='rbac::RBACData' data-ref="rbac::RBACData" >RBACData</a><a class="ref" href="../Accounts/RBAC.h.html#_ZN4rbac8RBACDataC1EjRKSsih" title='rbac::RBACData::RBACData' data-ref="_ZN4rbac8RBACDataC1EjRKSsih" id="_ZN4rbac8RBACDataC1EjRKSsih" >(</a><a class="local col9 ref" href="#169id" title='id' data-ref="169id" >id</a>, <a class="member" href="WorldSession.h.html#WorldSession::_accountName" title='WorldSession::_accountName' data-ref="WorldSession::_accountName" id="WorldSession::_accountName" >_accountName</a>, <a class="ref" href="../World/World.h.html#realm" title='realm' data-ref="realm" id="realm" >realm</a>.<a class="ref" href="../../shared/Realm/Realm.h.html#Realm::Id" title='Realm::Id' data-ref="Realm::Id" id="Realm::Id" >Id</a>.<a class="ref" href="../../shared/Realm/Realm.h.html#Battlenet::RealmHandle::Realm" title='Battlenet::RealmHandle::Realm' data-ref="Battlenet::RealmHandle::Realm" id="Battlenet::RealmHandle::Realm" >Realm</a>, <a class="local col0 ref" href="#170secLevel" title='secLevel' data-ref="170secLevel" >secLevel</a>);</td></tr>
<tr><th id="1119">1119</th><td>    <b>return</b> <a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" >_RBACData</a>-&gt;<a class="ref" href="../Accounts/RBAC.h.html#_ZN4rbac8RBACData15LoadFromDBAsyncEv" title='rbac::RBACData::LoadFromDBAsync' data-ref="_ZN4rbac8RBACData15LoadFromDBAsyncEv" id="_ZN4rbac8RBACData15LoadFromDBAsyncEv" >LoadFromDBAsync</a>();</td></tr>
<tr><th id="1120">1120</th><td>}</td></tr>
<tr><th id="1121">1121</th><td></td></tr>
<tr><th id="1122">1122</th><td><b>class</b> <dfn class="type def" id="AccountInfoQueryHolderPerRealm" title='AccountInfoQueryHolderPerRealm' data-ref="AccountInfoQueryHolderPerRealm" >AccountInfoQueryHolderPerRealm</dfn> : <b>public</b> <a class="type" href="../../database/Database/QueryHolder.h.html#SQLQueryHolder" title='SQLQueryHolder' data-ref="SQLQueryHolder" >SQLQueryHolder</a></td></tr>
<tr><th id="1123">1123</th><td>{</td></tr>
<tr><th id="1124">1124</th><td><b>public</b>:</td></tr>
<tr><th id="1125">1125</th><td>    <b>enum</b></td></tr>
<tr><th id="1126">1126</th><td>    {</td></tr>
<tr><th id="1127">1127</th><td>        <dfn class="enum" id="AccountInfoQueryHolderPerRealm::::GLOBAL_ACCOUNT_DATA" title='AccountInfoQueryHolderPerRealm::::GLOBAL_ACCOUNT_DATA' data-ref="AccountInfoQueryHolderPerRealm::::GLOBAL_ACCOUNT_DATA" >GLOBAL_ACCOUNT_DATA</dfn> = <var>0</var>,</td></tr>
<tr><th id="1128">1128</th><td>        <dfn class="enum" id="AccountInfoQueryHolderPerRealm::::TUTORIALS" title='AccountInfoQueryHolderPerRealm::::TUTORIALS' data-ref="AccountInfoQueryHolderPerRealm::::TUTORIALS" >TUTORIALS</dfn>,</td></tr>
<tr><th id="1129">1129</th><td></td></tr>
<tr><th id="1130">1130</th><td>        <dfn class="enum" id="AccountInfoQueryHolderPerRealm::::MAX_QUERIES" title='AccountInfoQueryHolderPerRealm::::MAX_QUERIES' data-ref="AccountInfoQueryHolderPerRealm::::MAX_QUERIES" >MAX_QUERIES</dfn></td></tr>
<tr><th id="1131">1131</th><td>    };</td></tr>
<tr><th id="1132">1132</th><td></td></tr>
<tr><th id="1133">1133</th><td>    <dfn class="tu decl def" id="_ZN30AccountInfoQueryHolderPerRealmC1Ev" title='AccountInfoQueryHolderPerRealm::AccountInfoQueryHolderPerRealm' data-type='void AccountInfoQueryHolderPerRealm::AccountInfoQueryHolderPerRealm()' data-ref="_ZN30AccountInfoQueryHolderPerRealmC1Ev" >AccountInfoQueryHolderPerRealm</dfn>() { <a class="member" href="../../database/Database/QueryHolder.h.html#_ZN14SQLQueryHolder7SetSizeEm" title='SQLQueryHolder::SetSize' data-ref="_ZN14SQLQueryHolder7SetSizeEm" id="_ZN14SQLQueryHolder7SetSizeEm" >SetSize</a>(<a class="enum" href="#AccountInfoQueryHolderPerRealm::::MAX_QUERIES" title='AccountInfoQueryHolderPerRealm::::MAX_QUERIES' data-ref="AccountInfoQueryHolderPerRealm::::MAX_QUERIES" >MAX_QUERIES</a>); }</td></tr>
<tr><th id="1134">1134</th><td></td></tr>
<tr><th id="1135">1135</th><td>    <em>bool</em> <dfn class="tu decl def" id="_ZN30AccountInfoQueryHolderPerRealm10InitializeEjj" title='AccountInfoQueryHolderPerRealm::Initialize' data-type='bool AccountInfoQueryHolderPerRealm::Initialize(uint32 accountId, uint32 )' data-ref="_ZN30AccountInfoQueryHolderPerRealm10InitializeEjj" >Initialize</dfn>(<a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col1 decl" id="171accountId" title='accountId' data-type='uint32' data-ref="171accountId" >accountId</dfn>, <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <i  data-doc="_ZN30AccountInfoQueryHolderPerRealm10InitializeEjj">/*battlenetAccountId*/</i>)</td></tr>
<tr><th id="1136">1136</th><td>    {</td></tr>
<tr><th id="1137">1137</th><td>        <em>bool</em> <dfn class="local col2 decl" id="172ok" title='ok' data-type='bool' data-ref="172ok" >ok</dfn> = <b>true</b>;</td></tr>
<tr><th id="1138">1138</th><td></td></tr>
<tr><th id="1139">1139</th><td>        <a class="type" href="../../database/Database/PreparedStatement.h.html#PreparedStatement" title='PreparedStatement' data-ref="PreparedStatement" >PreparedStatement</a>* <dfn class="local col3 decl" id="173stmt" title='stmt' data-type='PreparedStatement *' data-ref="173stmt" >stmt</dfn> = <a class="ref" href="../../database/Database/DatabaseEnv.h.html#CharacterDatabase" title='CharacterDatabase' data-ref="CharacterDatabase" id="CharacterDatabase" >CharacterDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" title='DatabaseWorkerPool::GetPreparedStatement' data-ref="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" id="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" >GetPreparedStatement</a>(<a class="enum" href="../../database/Database/Implementation/CharacterDatabase.h.html#CharacterDatabaseStatements::CHAR_SEL_ACCOUNT_DATA" title='CharacterDatabaseStatements::CHAR_SEL_ACCOUNT_DATA' data-ref="CharacterDatabaseStatements::CHAR_SEL_ACCOUNT_DATA" id="CharacterDatabaseStatements::CHAR_SEL_ACCOUNT_DATA" >CHAR_SEL_ACCOUNT_DATA</a>);</td></tr>
<tr><th id="1140">1140</th><td>        <a class="local col3 ref" href="#173stmt" title='stmt' data-ref="173stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setUInt32Ehj" title='PreparedStatement::setUInt32' data-ref="_ZN17PreparedStatement9setUInt32Ehj" id="_ZN17PreparedStatement9setUInt32Ehj" >setUInt32</a>(<var>0</var>, <a class="local col1 ref" href="#171accountId" title='accountId' data-ref="171accountId" >accountId</a>);</td></tr>
<tr><th id="1141">1141</th><td>        <a class="local col2 ref" href="#172ok" title='ok' data-ref="172ok" >ok</a> = <a class="member" href="../../database/Database/QueryHolder.h.html#_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" title='SQLQueryHolder::SetPreparedQuery' data-ref="_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" id="_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" >SetPreparedQuery</a>(<a class="enum" href="#AccountInfoQueryHolderPerRealm::::GLOBAL_ACCOUNT_DATA" title='AccountInfoQueryHolderPerRealm::::GLOBAL_ACCOUNT_DATA' data-ref="AccountInfoQueryHolderPerRealm::::GLOBAL_ACCOUNT_DATA" >GLOBAL_ACCOUNT_DATA</a>, <a class="local col3 ref" href="#173stmt" title='stmt' data-ref="173stmt" >stmt</a>) &amp;&amp; <a class="local col2 ref" href="#172ok" title='ok' data-ref="172ok" >ok</a>;</td></tr>
<tr><th id="1142">1142</th><td></td></tr>
<tr><th id="1143">1143</th><td>        <a class="local col3 ref" href="#173stmt" title='stmt' data-ref="173stmt" >stmt</a> = <a class="ref" href="../../database/Database/DatabaseEnv.h.html#CharacterDatabase" title='CharacterDatabase' data-ref="CharacterDatabase" id="CharacterDatabase" >CharacterDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" title='DatabaseWorkerPool::GetPreparedStatement' data-ref="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" id="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" >GetPreparedStatement</a>(<a class="enum" href="../../database/Database/Implementation/CharacterDatabase.h.html#CharacterDatabaseStatements::CHAR_SEL_TUTORIALS" title='CharacterDatabaseStatements::CHAR_SEL_TUTORIALS' data-ref="CharacterDatabaseStatements::CHAR_SEL_TUTORIALS" id="CharacterDatabaseStatements::CHAR_SEL_TUTORIALS" >CHAR_SEL_TUTORIALS</a>);</td></tr>
<tr><th id="1144">1144</th><td>        <a class="local col3 ref" href="#173stmt" title='stmt' data-ref="173stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setUInt32Ehj" title='PreparedStatement::setUInt32' data-ref="_ZN17PreparedStatement9setUInt32Ehj" id="_ZN17PreparedStatement9setUInt32Ehj" >setUInt32</a>(<var>0</var>, <a class="local col1 ref" href="#171accountId" title='accountId' data-ref="171accountId" >accountId</a>);</td></tr>
<tr><th id="1145">1145</th><td>        <a class="local col2 ref" href="#172ok" title='ok' data-ref="172ok" >ok</a> = <a class="member" href="../../database/Database/QueryHolder.h.html#_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" title='SQLQueryHolder::SetPreparedQuery' data-ref="_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" id="_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" >SetPreparedQuery</a>(<a class="enum" href="#AccountInfoQueryHolderPerRealm::::TUTORIALS" title='AccountInfoQueryHolderPerRealm::::TUTORIALS' data-ref="AccountInfoQueryHolderPerRealm::::TUTORIALS" >TUTORIALS</a>, <a class="local col3 ref" href="#173stmt" title='stmt' data-ref="173stmt" >stmt</a>) &amp;&amp; <a class="local col2 ref" href="#172ok" title='ok' data-ref="172ok" >ok</a>;</td></tr>
<tr><th id="1146">1146</th><td></td></tr>
<tr><th id="1147">1147</th><td>        <b>return</b> <a class="local col2 ref" href="#172ok" title='ok' data-ref="172ok" >ok</a>;</td></tr>
<tr><th id="1148">1148</th><td>    }</td></tr>
<tr><th id="1149">1149</th><td>};</td></tr>
<tr><th id="1150">1150</th><td></td></tr>
<tr><th id="1151">1151</th><td><b>class</b> <dfn class="type def" id="AccountInfoQueryHolder" title='AccountInfoQueryHolder' data-ref="AccountInfoQueryHolder" >AccountInfoQueryHolder</dfn> : <b>public</b> <a class="type" href="../../database/Database/QueryHolder.h.html#SQLQueryHolder" title='SQLQueryHolder' data-ref="SQLQueryHolder" >SQLQueryHolder</a></td></tr>
<tr><th id="1152">1152</th><td>{</td></tr>
<tr><th id="1153">1153</th><td><b>public</b>:</td></tr>
<tr><th id="1154">1154</th><td>    <b>enum</b></td></tr>
<tr><th id="1155">1155</th><td>    {</td></tr>
<tr><th id="1156">1156</th><td>        <dfn class="enum" id="AccountInfoQueryHolder::::GLOBAL_ACCOUNT_TOYS" title='AccountInfoQueryHolder::::GLOBAL_ACCOUNT_TOYS' data-ref="AccountInfoQueryHolder::::GLOBAL_ACCOUNT_TOYS" >GLOBAL_ACCOUNT_TOYS</dfn> = <var>0</var>,</td></tr>
<tr><th id="1157">1157</th><td>        <dfn class="enum" id="AccountInfoQueryHolder::::BATTLE_PETS" title='AccountInfoQueryHolder::::BATTLE_PETS' data-ref="AccountInfoQueryHolder::::BATTLE_PETS" >BATTLE_PETS</dfn>,</td></tr>
<tr><th id="1158">1158</th><td>        <dfn class="enum" id="AccountInfoQueryHolder::::BATTLE_PET_SLOTS" title='AccountInfoQueryHolder::::BATTLE_PET_SLOTS' data-ref="AccountInfoQueryHolder::::BATTLE_PET_SLOTS" >BATTLE_PET_SLOTS</dfn>,</td></tr>
<tr><th id="1159">1159</th><td>        <dfn class="enum" id="AccountInfoQueryHolder::::GLOBAL_ACCOUNT_HEIRLOOMS" title='AccountInfoQueryHolder::::GLOBAL_ACCOUNT_HEIRLOOMS' data-ref="AccountInfoQueryHolder::::GLOBAL_ACCOUNT_HEIRLOOMS" >GLOBAL_ACCOUNT_HEIRLOOMS</dfn>,</td></tr>
<tr><th id="1160">1160</th><td></td></tr>
<tr><th id="1161">1161</th><td>        <dfn class="enum" id="AccountInfoQueryHolder::::MAX_QUERIES" title='AccountInfoQueryHolder::::MAX_QUERIES' data-ref="AccountInfoQueryHolder::::MAX_QUERIES" >MAX_QUERIES</dfn></td></tr>
<tr><th id="1162">1162</th><td>    };</td></tr>
<tr><th id="1163">1163</th><td></td></tr>
<tr><th id="1164">1164</th><td>    <dfn class="tu decl def" id="_ZN22AccountInfoQueryHolderC1Ev" title='AccountInfoQueryHolder::AccountInfoQueryHolder' data-type='void AccountInfoQueryHolder::AccountInfoQueryHolder()' data-ref="_ZN22AccountInfoQueryHolderC1Ev" >AccountInfoQueryHolder</dfn>() { <a class="member" href="../../database/Database/QueryHolder.h.html#_ZN14SQLQueryHolder7SetSizeEm" title='SQLQueryHolder::SetSize' data-ref="_ZN14SQLQueryHolder7SetSizeEm" id="_ZN14SQLQueryHolder7SetSizeEm" >SetSize</a>(<a class="enum" href="#AccountInfoQueryHolder::::MAX_QUERIES" title='AccountInfoQueryHolder::::MAX_QUERIES' data-ref="AccountInfoQueryHolder::::MAX_QUERIES" >MAX_QUERIES</a>); }</td></tr>
<tr><th id="1165">1165</th><td></td></tr>
<tr><th id="1166">1166</th><td>    <em>bool</em> <dfn class="tu decl def" id="_ZN22AccountInfoQueryHolder10InitializeEjj" title='AccountInfoQueryHolder::Initialize' data-type='bool AccountInfoQueryHolder::Initialize(uint32 , uint32 battlenetAccountId)' data-ref="_ZN22AccountInfoQueryHolder10InitializeEjj" >Initialize</dfn>(<a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <i  data-doc="_ZN22AccountInfoQueryHolder10InitializeEjj">/*accountId*/</i>, <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col4 decl" id="174battlenetAccountId" title='battlenetAccountId' data-type='uint32' data-ref="174battlenetAccountId" >battlenetAccountId</dfn>)</td></tr>
<tr><th id="1167">1167</th><td>    {</td></tr>
<tr><th id="1168">1168</th><td>        <em>bool</em> <dfn class="local col5 decl" id="175ok" title='ok' data-type='bool' data-ref="175ok" >ok</dfn> = <b>true</b>;</td></tr>
<tr><th id="1169">1169</th><td></td></tr>
<tr><th id="1170">1170</th><td>        <a class="type" href="../../database/Database/PreparedStatement.h.html#PreparedStatement" title='PreparedStatement' data-ref="PreparedStatement" >PreparedStatement</a>* <dfn class="local col6 decl" id="176stmt" title='stmt' data-type='PreparedStatement *' data-ref="176stmt" >stmt</dfn> = <a class="ref" href="../../database/Database/DatabaseEnv.h.html#LoginDatabase" title='LoginDatabase' data-ref="LoginDatabase" id="LoginDatabase" >LoginDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" title='DatabaseWorkerPool::GetPreparedStatement' data-ref="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" id="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" >GetPreparedStatement</a>(<a class="enum" href="../../database/Database/Implementation/LoginDatabase.h.html#LoginDatabaseStatements::LOGIN_SEL_ACCOUNT_TOYS" title='LoginDatabaseStatements::LOGIN_SEL_ACCOUNT_TOYS' data-ref="LoginDatabaseStatements::LOGIN_SEL_ACCOUNT_TOYS" id="LoginDatabaseStatements::LOGIN_SEL_ACCOUNT_TOYS" >LOGIN_SEL_ACCOUNT_TOYS</a>);</td></tr>
<tr><th id="1171">1171</th><td>        <a class="local col6 ref" href="#176stmt" title='stmt' data-ref="176stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setUInt32Ehj" title='PreparedStatement::setUInt32' data-ref="_ZN17PreparedStatement9setUInt32Ehj" id="_ZN17PreparedStatement9setUInt32Ehj" >setUInt32</a>(<var>0</var>, <a class="local col4 ref" href="#174battlenetAccountId" title='battlenetAccountId' data-ref="174battlenetAccountId" >battlenetAccountId</a>);</td></tr>
<tr><th id="1172">1172</th><td>        <a class="local col5 ref" href="#175ok" title='ok' data-ref="175ok" >ok</a> = <a class="member" href="../../database/Database/QueryHolder.h.html#_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" title='SQLQueryHolder::SetPreparedQuery' data-ref="_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" id="_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" >SetPreparedQuery</a>(<a class="enum" href="#AccountInfoQueryHolder::::GLOBAL_ACCOUNT_TOYS" title='AccountInfoQueryHolder::::GLOBAL_ACCOUNT_TOYS' data-ref="AccountInfoQueryHolder::::GLOBAL_ACCOUNT_TOYS" >GLOBAL_ACCOUNT_TOYS</a>, <a class="local col6 ref" href="#176stmt" title='stmt' data-ref="176stmt" >stmt</a>) &amp;&amp; <a class="local col5 ref" href="#175ok" title='ok' data-ref="175ok" >ok</a>;</td></tr>
<tr><th id="1173">1173</th><td></td></tr>
<tr><th id="1174">1174</th><td>        <a class="local col6 ref" href="#176stmt" title='stmt' data-ref="176stmt" >stmt</a> = <a class="ref" href="../../database/Database/DatabaseEnv.h.html#LoginDatabase" title='LoginDatabase' data-ref="LoginDatabase" id="LoginDatabase" >LoginDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" title='DatabaseWorkerPool::GetPreparedStatement' data-ref="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" id="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" >GetPreparedStatement</a>(<a class="enum" href="../../database/Database/Implementation/LoginDatabase.h.html#LoginDatabaseStatements::LOGIN_SEL_BATTLE_PETS" title='LoginDatabaseStatements::LOGIN_SEL_BATTLE_PETS' data-ref="LoginDatabaseStatements::LOGIN_SEL_BATTLE_PETS" id="LoginDatabaseStatements::LOGIN_SEL_BATTLE_PETS" >LOGIN_SEL_BATTLE_PETS</a>);</td></tr>
<tr><th id="1175">1175</th><td>        <a class="local col6 ref" href="#176stmt" title='stmt' data-ref="176stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setUInt32Ehj" title='PreparedStatement::setUInt32' data-ref="_ZN17PreparedStatement9setUInt32Ehj" id="_ZN17PreparedStatement9setUInt32Ehj" >setUInt32</a>(<var>0</var>, <a class="local col4 ref" href="#174battlenetAccountId" title='battlenetAccountId' data-ref="174battlenetAccountId" >battlenetAccountId</a>);</td></tr>
<tr><th id="1176">1176</th><td>        <a class="local col5 ref" href="#175ok" title='ok' data-ref="175ok" >ok</a> = <a class="member" href="../../database/Database/QueryHolder.h.html#_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" title='SQLQueryHolder::SetPreparedQuery' data-ref="_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" id="_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" >SetPreparedQuery</a>(<a class="enum" href="#AccountInfoQueryHolder::::BATTLE_PETS" title='AccountInfoQueryHolder::::BATTLE_PETS' data-ref="AccountInfoQueryHolder::::BATTLE_PETS" >BATTLE_PETS</a>, <a class="local col6 ref" href="#176stmt" title='stmt' data-ref="176stmt" >stmt</a>) &amp;&amp; <a class="local col5 ref" href="#175ok" title='ok' data-ref="175ok" >ok</a>;</td></tr>
<tr><th id="1177">1177</th><td></td></tr>
<tr><th id="1178">1178</th><td>        <a class="local col6 ref" href="#176stmt" title='stmt' data-ref="176stmt" >stmt</a> = <a class="ref" href="../../database/Database/DatabaseEnv.h.html#LoginDatabase" title='LoginDatabase' data-ref="LoginDatabase" id="LoginDatabase" >LoginDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" title='DatabaseWorkerPool::GetPreparedStatement' data-ref="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" id="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" >GetPreparedStatement</a>(<a class="enum" href="../../database/Database/Implementation/LoginDatabase.h.html#LoginDatabaseStatements::LOGIN_SEL_BATTLE_PET_SLOTS" title='LoginDatabaseStatements::LOGIN_SEL_BATTLE_PET_SLOTS' data-ref="LoginDatabaseStatements::LOGIN_SEL_BATTLE_PET_SLOTS" id="LoginDatabaseStatements::LOGIN_SEL_BATTLE_PET_SLOTS" >LOGIN_SEL_BATTLE_PET_SLOTS</a>);</td></tr>
<tr><th id="1179">1179</th><td>        <a class="local col6 ref" href="#176stmt" title='stmt' data-ref="176stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setUInt32Ehj" title='PreparedStatement::setUInt32' data-ref="_ZN17PreparedStatement9setUInt32Ehj" id="_ZN17PreparedStatement9setUInt32Ehj" >setUInt32</a>(<var>0</var>, <a class="local col4 ref" href="#174battlenetAccountId" title='battlenetAccountId' data-ref="174battlenetAccountId" >battlenetAccountId</a>);</td></tr>
<tr><th id="1180">1180</th><td>        <a class="local col5 ref" href="#175ok" title='ok' data-ref="175ok" >ok</a> = <a class="member" href="../../database/Database/QueryHolder.h.html#_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" title='SQLQueryHolder::SetPreparedQuery' data-ref="_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" id="_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" >SetPreparedQuery</a>(<a class="enum" href="#AccountInfoQueryHolder::::BATTLE_PET_SLOTS" title='AccountInfoQueryHolder::::BATTLE_PET_SLOTS' data-ref="AccountInfoQueryHolder::::BATTLE_PET_SLOTS" >BATTLE_PET_SLOTS</a>, <a class="local col6 ref" href="#176stmt" title='stmt' data-ref="176stmt" >stmt</a>) &amp;&amp; <a class="local col5 ref" href="#175ok" title='ok' data-ref="175ok" >ok</a>;</td></tr>
<tr><th id="1181">1181</th><td></td></tr>
<tr><th id="1182">1182</th><td>        <a class="local col6 ref" href="#176stmt" title='stmt' data-ref="176stmt" >stmt</a> = <a class="ref" href="../../database/Database/DatabaseEnv.h.html#LoginDatabase" title='LoginDatabase' data-ref="LoginDatabase" id="LoginDatabase" >LoginDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" title='DatabaseWorkerPool::GetPreparedStatement' data-ref="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" id="_ZN18DatabaseWorkerPool20GetPreparedStatementENT_10StatementsE" >GetPreparedStatement</a>(<a class="enum" href="../../database/Database/Implementation/LoginDatabase.h.html#LoginDatabaseStatements::LOGIN_SEL_ACCOUNT_HEIRLOOMS" title='LoginDatabaseStatements::LOGIN_SEL_ACCOUNT_HEIRLOOMS' data-ref="LoginDatabaseStatements::LOGIN_SEL_ACCOUNT_HEIRLOOMS" id="LoginDatabaseStatements::LOGIN_SEL_ACCOUNT_HEIRLOOMS" >LOGIN_SEL_ACCOUNT_HEIRLOOMS</a>);</td></tr>
<tr><th id="1183">1183</th><td>        <a class="local col6 ref" href="#176stmt" title='stmt' data-ref="176stmt" >stmt</a>-&gt;<a class="ref" href="../../database/Database/PreparedStatement.h.html#_ZN17PreparedStatement9setUInt32Ehj" title='PreparedStatement::setUInt32' data-ref="_ZN17PreparedStatement9setUInt32Ehj" id="_ZN17PreparedStatement9setUInt32Ehj" >setUInt32</a>(<var>0</var>, <a class="local col4 ref" href="#174battlenetAccountId" title='battlenetAccountId' data-ref="174battlenetAccountId" >battlenetAccountId</a>);</td></tr>
<tr><th id="1184">1184</th><td>        <a class="local col5 ref" href="#175ok" title='ok' data-ref="175ok" >ok</a> = <a class="member" href="../../database/Database/QueryHolder.h.html#_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" title='SQLQueryHolder::SetPreparedQuery' data-ref="_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" id="_ZN14SQLQueryHolder16SetPreparedQueryEmP17PreparedStatement" >SetPreparedQuery</a>(<a class="enum" href="#AccountInfoQueryHolder::::GLOBAL_ACCOUNT_HEIRLOOMS" title='AccountInfoQueryHolder::::GLOBAL_ACCOUNT_HEIRLOOMS' data-ref="AccountInfoQueryHolder::::GLOBAL_ACCOUNT_HEIRLOOMS" >GLOBAL_ACCOUNT_HEIRLOOMS</a>, <a class="local col6 ref" href="#176stmt" title='stmt' data-ref="176stmt" >stmt</a>) &amp;&amp; <a class="local col5 ref" href="#175ok" title='ok' data-ref="175ok" >ok</a>;</td></tr>
<tr><th id="1185">1185</th><td></td></tr>
<tr><th id="1186">1186</th><td>        <b>return</b> <a class="local col5 ref" href="#175ok" title='ok' data-ref="175ok" >ok</a>;</td></tr>
<tr><th id="1187">1187</th><td>    }</td></tr>
<tr><th id="1188">1188</th><td>};</td></tr>
<tr><th id="1189">1189</th><td></td></tr>
<tr><th id="1190">1190</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession17InitializeSessionEv" title='WorldSession::InitializeSession' data-ref="_ZN12WorldSession17InitializeSessionEv" >InitializeSession</dfn>()</td></tr>
<tr><th id="1191">1191</th><td>{</td></tr>
<tr><th id="1192">1192</th><td>    <a class="type" href="#AccountInfoQueryHolderPerRealm" title='AccountInfoQueryHolderPerRealm' data-ref="AccountInfoQueryHolderPerRealm" >AccountInfoQueryHolderPerRealm</a>* <dfn class="local col7 decl" id="177realmHolder" title='realmHolder' data-type='AccountInfoQueryHolderPerRealm *' data-ref="177realmHolder" >realmHolder</dfn> = <b>new</b> <a class="type" href="#AccountInfoQueryHolderPerRealm" title='AccountInfoQueryHolderPerRealm' data-ref="AccountInfoQueryHolderPerRealm" >AccountInfoQueryHolderPerRealm</a><a class="tu ref" href="#_ZN30AccountInfoQueryHolderPerRealmC1Ev" title='AccountInfoQueryHolderPerRealm::AccountInfoQueryHolderPerRealm' data-use='c' data-ref="_ZN30AccountInfoQueryHolderPerRealmC1Ev" >(</a>);</td></tr>
<tr><th id="1193">1193</th><td>    <b>if</b> (!<a class="local col7 ref" href="#177realmHolder" title='realmHolder' data-ref="177realmHolder" >realmHolder</a>-&gt;<a class="tu ref" href="#_ZN30AccountInfoQueryHolderPerRealm10InitializeEjj" title='AccountInfoQueryHolderPerRealm::Initialize' data-use='c' data-ref="_ZN30AccountInfoQueryHolderPerRealm10InitializeEjj" >Initialize</a>(<a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a>(), <a class="member" href="WorldSession.h.html#_ZNK12WorldSession21GetBattlenetAccountIdEv" title='WorldSession::GetBattlenetAccountId' data-ref="_ZNK12WorldSession21GetBattlenetAccountIdEv" id="_ZNK12WorldSession21GetBattlenetAccountIdEv" >GetBattlenetAccountId</a>()))</td></tr>
<tr><th id="1194">1194</th><td>    {</td></tr>
<tr><th id="1195">1195</th><td>        <b>delete</b> <a class="local col7 ref" href="#177realmHolder" title='realmHolder' data-ref="177realmHolder" >realmHolder</a>;</td></tr>
<tr><th id="1196">1196</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession16SendAuthResponseEhbj" title='WorldSession::SendAuthResponse' data-ref="_ZN12WorldSession16SendAuthResponseEhbj" id="_ZN12WorldSession16SendAuthResponseEhbj" >SendAuthResponse</a>(<a class="enum" href="../Miscellaneous/SharedDefines.h.html#ResponseCodes::AUTH_SYSTEM_ERROR" title='ResponseCodes::AUTH_SYSTEM_ERROR' data-ref="ResponseCodes::AUTH_SYSTEM_ERROR" id="ResponseCodes::AUTH_SYSTEM_ERROR" >AUTH_SYSTEM_ERROR</a>, <b>false</b>);</td></tr>
<tr><th id="1197">1197</th><td>        <b>return</b>;</td></tr>
<tr><th id="1198">1198</th><td>    }</td></tr>
<tr><th id="1199">1199</th><td></td></tr>
<tr><th id="1200">1200</th><td>    <a class="type" href="#AccountInfoQueryHolder" title='AccountInfoQueryHolder' data-ref="AccountInfoQueryHolder" >AccountInfoQueryHolder</a>* <dfn class="local col8 decl" id="178holder" title='holder' data-type='AccountInfoQueryHolder *' data-ref="178holder" >holder</dfn> = <b>new</b> <a class="type" href="#AccountInfoQueryHolder" title='AccountInfoQueryHolder' data-ref="AccountInfoQueryHolder" >AccountInfoQueryHolder</a><a class="tu ref" href="#_ZN22AccountInfoQueryHolderC1Ev" title='AccountInfoQueryHolder::AccountInfoQueryHolder' data-use='c' data-ref="_ZN22AccountInfoQueryHolderC1Ev" >(</a>);</td></tr>
<tr><th id="1201">1201</th><td>    <b>if</b> (!<a class="local col8 ref" href="#178holder" title='holder' data-ref="178holder" >holder</a>-&gt;<a class="tu ref" href="#_ZN22AccountInfoQueryHolder10InitializeEjj" title='AccountInfoQueryHolder::Initialize' data-use='c' data-ref="_ZN22AccountInfoQueryHolder10InitializeEjj" >Initialize</a>(<a class="member" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a>(), <a class="member" href="WorldSession.h.html#_ZNK12WorldSession21GetBattlenetAccountIdEv" title='WorldSession::GetBattlenetAccountId' data-ref="_ZNK12WorldSession21GetBattlenetAccountIdEv" id="_ZNK12WorldSession21GetBattlenetAccountIdEv" >GetBattlenetAccountId</a>()))</td></tr>
<tr><th id="1202">1202</th><td>    {</td></tr>
<tr><th id="1203">1203</th><td>        <b>delete</b> <a class="local col7 ref" href="#177realmHolder" title='realmHolder' data-ref="177realmHolder" >realmHolder</a>;</td></tr>
<tr><th id="1204">1204</th><td>        <b>delete</b> <a class="local col8 ref" href="#178holder" title='holder' data-ref="178holder" >holder</a>;</td></tr>
<tr><th id="1205">1205</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession16SendAuthResponseEhbj" title='WorldSession::SendAuthResponse' data-ref="_ZN12WorldSession16SendAuthResponseEhbj" id="_ZN12WorldSession16SendAuthResponseEhbj" >SendAuthResponse</a>(<a class="enum" href="../Miscellaneous/SharedDefines.h.html#ResponseCodes::AUTH_SYSTEM_ERROR" title='ResponseCodes::AUTH_SYSTEM_ERROR' data-ref="ResponseCodes::AUTH_SYSTEM_ERROR" id="ResponseCodes::AUTH_SYSTEM_ERROR" >AUTH_SYSTEM_ERROR</a>, <b>false</b>);</td></tr>
<tr><th id="1206">1206</th><td>        <b>return</b>;</td></tr>
<tr><th id="1207">1207</th><td>    }</td></tr>
<tr><th id="1208">1208</th><td></td></tr>
<tr><th id="1209">1209</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_realmAccountLoginCallback" title='WorldSession::_realmAccountLoginCallback' data-ref="WorldSession::_realmAccountLoginCallback" id="WorldSession::_realmAccountLoginCallback" >_realmAccountLoginCallback</a> <a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNSt6futureaSEOSt6futureIT_E" title='std::future::operator=' data-ref="_ZNSt6futureaSEOSt6futureIT_E" id="_ZNSt6futureaSEOSt6futureIT_E" >=</a> <a class="ref" href="../../database/Database/DatabaseEnv.h.html#CharacterDatabase" title='CharacterDatabase' data-ref="CharacterDatabase" id="CharacterDatabase" >CharacterDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool16DelayQueryHolderEP14SQLQueryHolder" title='DatabaseWorkerPool::DelayQueryHolder' data-ref="_ZN18DatabaseWorkerPool16DelayQueryHolderEP14SQLQueryHolder" id="_ZN18DatabaseWorkerPool16DelayQueryHolderEP14SQLQueryHolder" >DelayQueryHolder</a>(<a class="local col7 ref" href="#177realmHolder" title='realmHolder' data-ref="177realmHolder" >realmHolder</a>);</td></tr>
<tr><th id="1210">1210</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_accountLoginCallback" title='WorldSession::_accountLoginCallback' data-ref="WorldSession::_accountLoginCallback" id="WorldSession::_accountLoginCallback" >_accountLoginCallback</a> <a class="ref" href="../../../../../include/c++/4.9/future.html#_ZNSt6futureaSEOSt6futureIT_E" title='std::future::operator=' data-ref="_ZNSt6futureaSEOSt6futureIT_E" id="_ZNSt6futureaSEOSt6futureIT_E" >=</a> <a class="ref" href="../../database/Database/DatabaseEnv.h.html#LoginDatabase" title='LoginDatabase' data-ref="LoginDatabase" id="LoginDatabase" >LoginDatabase</a>.<a class="ref" href="../../database/Database/DatabaseWorkerPool.h.html#_ZN18DatabaseWorkerPool16DelayQueryHolderEP14SQLQueryHolder" title='DatabaseWorkerPool::DelayQueryHolder' data-ref="_ZN18DatabaseWorkerPool16DelayQueryHolderEP14SQLQueryHolder" id="_ZN18DatabaseWorkerPool16DelayQueryHolderEP14SQLQueryHolder" >DelayQueryHolder</a>(<a class="local col8 ref" href="#178holder" title='holder' data-ref="178holder" >holder</a>);</td></tr>
<tr><th id="1211">1211</th><td>}</td></tr>
<tr><th id="1212">1212</th><td></td></tr>
<tr><th id="1213">1213</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession25InitializeSessionCallbackEP14SQLQueryHolderS1_" title='WorldSession::InitializeSessionCallback' data-ref="_ZN12WorldSession25InitializeSessionCallbackEP14SQLQueryHolderS1_" >InitializeSessionCallback</dfn>(<a class="type" href="../../database/Database/QueryHolder.h.html#SQLQueryHolder" title='SQLQueryHolder' data-ref="SQLQueryHolder" >SQLQueryHolder</a>* <dfn class="local col9 decl" id="179realmHolder" title='realmHolder' data-type='SQLQueryHolder *' data-ref="179realmHolder" >realmHolder</dfn>, <a class="type" href="../../database/Database/QueryHolder.h.html#SQLQueryHolder" title='SQLQueryHolder' data-ref="SQLQueryHolder" >SQLQueryHolder</a>* <dfn class="local col0 decl" id="180holder" title='holder' data-type='SQLQueryHolder *' data-ref="180holder" >holder</dfn>)</td></tr>
<tr><th id="1214">1214</th><td>{</td></tr>
<tr><th id="1215">1215</th><td>    <a class="member" href="#_ZN12WorldSession15LoadAccountDataESt10shared_ptrI17PreparedResultSetEj" title='WorldSession::LoadAccountData' data-ref="_ZN12WorldSession15LoadAccountDataESt10shared_ptrI17PreparedResultSetEj" >LoadAccountData</a>(<a class="local col9 ref" href="#179realmHolder" title='realmHolder' data-ref="179realmHolder" >realmHolder</a>-&gt;<a class="ref" href="../../database/Database/QueryHolder.h.html#_ZN14SQLQueryHolder17GetPreparedResultEm" title='SQLQueryHolder::GetPreparedResult' data-ref="_ZN14SQLQueryHolder17GetPreparedResultEm" id="_ZN14SQLQueryHolder17GetPreparedResultEm" >GetPreparedResult</a>(<a class="type" href="#AccountInfoQueryHolderPerRealm" title='AccountInfoQueryHolderPerRealm' data-ref="AccountInfoQueryHolderPerRealm" >AccountInfoQueryHolderPerRealm</a>::<a class="enum" href="#AccountInfoQueryHolderPerRealm::::GLOBAL_ACCOUNT_DATA" title='AccountInfoQueryHolderPerRealm::::GLOBAL_ACCOUNT_DATA' data-ref="AccountInfoQueryHolderPerRealm::::GLOBAL_ACCOUNT_DATA" >GLOBAL_ACCOUNT_DATA</a>), <a class="macro" href="WorldSession.h.html#721" title="0x15" data-ref="_M/GLOBAL_CACHE_MASK">GLOBAL_CACHE_MASK</a>);</td></tr>
<tr><th id="1216">1216</th><td>    <a class="member" href="#_ZN12WorldSession17LoadTutorialsDataESt10shared_ptrI17PreparedResultSetE" title='WorldSession::LoadTutorialsData' data-ref="_ZN12WorldSession17LoadTutorialsDataESt10shared_ptrI17PreparedResultSetE" >LoadTutorialsData</a>(<a class="local col9 ref" href="#179realmHolder" title='realmHolder' data-ref="179realmHolder" >realmHolder</a>-&gt;<a class="ref" href="../../database/Database/QueryHolder.h.html#_ZN14SQLQueryHolder17GetPreparedResultEm" title='SQLQueryHolder::GetPreparedResult' data-ref="_ZN14SQLQueryHolder17GetPreparedResultEm" id="_ZN14SQLQueryHolder17GetPreparedResultEm" >GetPreparedResult</a>(<a class="type" href="#AccountInfoQueryHolderPerRealm" title='AccountInfoQueryHolderPerRealm' data-ref="AccountInfoQueryHolderPerRealm" >AccountInfoQueryHolderPerRealm</a>::<a class="enum" href="#AccountInfoQueryHolderPerRealm::::TUTORIALS" title='AccountInfoQueryHolderPerRealm::::TUTORIALS' data-ref="AccountInfoQueryHolderPerRealm::::TUTORIALS" >TUTORIALS</a>));</td></tr>
<tr><th id="1217">1217</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_collectionMgr" title='WorldSession::_collectionMgr' data-ref="WorldSession::_collectionMgr" >_collectionMgr</a><a class="ref" href="../../../../../include/c++/4.9/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" id="_ZNKSt10unique_ptrptEv" >-&gt;</a><a class="ref" href="../Entities/Player/CollectionMgr.h.html#_ZN13CollectionMgr15LoadAccountToysESt10shared_ptrI17PreparedResultSetE" title='CollectionMgr::LoadAccountToys' data-ref="_ZN13CollectionMgr15LoadAccountToysESt10shared_ptrI17PreparedResultSetE" id="_ZN13CollectionMgr15LoadAccountToysESt10shared_ptrI17PreparedResultSetE" >LoadAccountToys</a>(<a class="local col0 ref" href="#180holder" title='holder' data-ref="180holder" >holder</a>-&gt;<a class="ref" href="../../database/Database/QueryHolder.h.html#_ZN14SQLQueryHolder17GetPreparedResultEm" title='SQLQueryHolder::GetPreparedResult' data-ref="_ZN14SQLQueryHolder17GetPreparedResultEm" id="_ZN14SQLQueryHolder17GetPreparedResultEm" >GetPreparedResult</a>(<a class="type" href="#AccountInfoQueryHolder" title='AccountInfoQueryHolder' data-ref="AccountInfoQueryHolder" >AccountInfoQueryHolder</a>::<a class="enum" href="#AccountInfoQueryHolder::::GLOBAL_ACCOUNT_TOYS" title='AccountInfoQueryHolder::::GLOBAL_ACCOUNT_TOYS' data-ref="AccountInfoQueryHolder::::GLOBAL_ACCOUNT_TOYS" >GLOBAL_ACCOUNT_TOYS</a>));</td></tr>
<tr><th id="1218">1218</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_collectionMgr" title='WorldSession::_collectionMgr' data-ref="WorldSession::_collectionMgr" >_collectionMgr</a><a class="ref" href="../../../../../include/c++/4.9/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" id="_ZNKSt10unique_ptrptEv" >-&gt;</a><a class="ref" href="../Entities/Player/CollectionMgr.h.html#_ZN13CollectionMgr20LoadAccountHeirloomsESt10shared_ptrI17PreparedResultSetE" title='CollectionMgr::LoadAccountHeirlooms' data-ref="_ZN13CollectionMgr20LoadAccountHeirloomsESt10shared_ptrI17PreparedResultSetE" id="_ZN13CollectionMgr20LoadAccountHeirloomsESt10shared_ptrI17PreparedResultSetE" >LoadAccountHeirlooms</a>(<a class="local col0 ref" href="#180holder" title='holder' data-ref="180holder" >holder</a>-&gt;<a class="ref" href="../../database/Database/QueryHolder.h.html#_ZN14SQLQueryHolder17GetPreparedResultEm" title='SQLQueryHolder::GetPreparedResult' data-ref="_ZN14SQLQueryHolder17GetPreparedResultEm" id="_ZN14SQLQueryHolder17GetPreparedResultEm" >GetPreparedResult</a>(<a class="type" href="#AccountInfoQueryHolder" title='AccountInfoQueryHolder' data-ref="AccountInfoQueryHolder" >AccountInfoQueryHolder</a>::<a class="enum" href="#AccountInfoQueryHolder::::GLOBAL_ACCOUNT_HEIRLOOMS" title='AccountInfoQueryHolder::::GLOBAL_ACCOUNT_HEIRLOOMS' data-ref="AccountInfoQueryHolder::::GLOBAL_ACCOUNT_HEIRLOOMS" >GLOBAL_ACCOUNT_HEIRLOOMS</a>));</td></tr>
<tr><th id="1219">1219</th><td></td></tr>
<tr><th id="1220">1220</th><td>    <b>if</b> (!<a class="member" href="WorldSession.h.html#WorldSession::m_inQueue" title='WorldSession::m_inQueue' data-ref="WorldSession::m_inQueue" id="WorldSession::m_inQueue" >m_inQueue</a>)</td></tr>
<tr><th id="1221">1221</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession16SendAuthResponseEhbj" title='WorldSession::SendAuthResponse' data-ref="_ZN12WorldSession16SendAuthResponseEhbj" id="_ZN12WorldSession16SendAuthResponseEhbj" >SendAuthResponse</a>(<a class="enum" href="../Miscellaneous/SharedDefines.h.html#ResponseCodes::AUTH_OK" title='ResponseCodes::AUTH_OK' data-ref="ResponseCodes::AUTH_OK" id="ResponseCodes::AUTH_OK" >AUTH_OK</a>, <b>false</b>);</td></tr>
<tr><th id="1222">1222</th><td>    <b>else</b></td></tr>
<tr><th id="1223">1223</th><td>        <a class="member" href="WorldSession.h.html#_ZN12WorldSession15SendAuthWaitQueEj" title='WorldSession::SendAuthWaitQue' data-ref="_ZN12WorldSession15SendAuthWaitQueEj" id="_ZN12WorldSession15SendAuthWaitQueEj" >SendAuthWaitQue</a>(<var>0</var>);</td></tr>
<tr><th id="1224">1224</th><td></td></tr>
<tr><th id="1225">1225</th><td>    <a class="member" href="WorldSession.h.html#_ZN12WorldSession10SetInQueueEb" title='WorldSession::SetInQueue' data-ref="_ZN12WorldSession10SetInQueueEb" id="_ZN12WorldSession10SetInQueueEb" >SetInQueue</a>(<b>false</b>);</td></tr>
<tr><th id="1226">1226</th><td>    <a class="member" href="WorldSession.h.html#_ZN12WorldSession16ResetTimeOutTimeEv" title='WorldSession::ResetTimeOutTime' data-ref="_ZN12WorldSession16ResetTimeOutTimeEv" id="_ZN12WorldSession16ResetTimeOutTimeEv" >ResetTimeOutTime</a>();</td></tr>
<tr><th id="1227">1227</th><td></td></tr>
<tr><th id="1228">1228</th><td>    <a class="member" href="WorldSession.h.html#_ZN12WorldSession26SendSetTimeZoneInformationEv" title='WorldSession::SendSetTimeZoneInformation' data-ref="_ZN12WorldSession26SendSetTimeZoneInformationEv" id="_ZN12WorldSession26SendSetTimeZoneInformationEv" >SendSetTimeZoneInformation</a>();</td></tr>
<tr><th id="1229">1229</th><td>    <a class="member" href="WorldSession.h.html#_ZN12WorldSession33SendFeatureSystemStatusGlueScreenEv" title='WorldSession::SendFeatureSystemStatusGlueScreen' data-ref="_ZN12WorldSession33SendFeatureSystemStatusGlueScreenEv" id="_ZN12WorldSession33SendFeatureSystemStatusGlueScreenEv" >SendFeatureSystemStatusGlueScreen</a>();</td></tr>
<tr><th id="1230">1230</th><td>    <a class="member" href="#_ZN12WorldSession14SendAddonsInfoEv" title='WorldSession::SendAddonsInfo' data-ref="_ZN12WorldSession14SendAddonsInfoEv" >SendAddonsInfo</a>();</td></tr>
<tr><th id="1231">1231</th><td>    <a class="member" href="WorldSession.h.html#_ZN12WorldSession22SendClientCacheVersionEj" title='WorldSession::SendClientCacheVersion' data-ref="_ZN12WorldSession22SendClientCacheVersionEj" id="_ZN12WorldSession22SendClientCacheVersionEj" >SendClientCacheVersion</a>(<a class="macro" href="../World/World.h.html#904" title="World::instance()" data-ref="_M/sWorld">sWorld</a>-&gt;<a class="ref" href="../World/World.h.html#_ZNK5World12getIntConfigE15WorldIntConfigs" title='World::getIntConfig' data-ref="_ZNK5World12getIntConfigE15WorldIntConfigs" id="_ZNK5World12getIntConfigE15WorldIntConfigs" >getIntConfig</a>(<a class="enum" href="../World/World.h.html#WorldIntConfigs::CONFIG_CLIENTCACHE_VERSION" title='WorldIntConfigs::CONFIG_CLIENTCACHE_VERSION' data-ref="WorldIntConfigs::CONFIG_CLIENTCACHE_VERSION" id="WorldIntConfigs::CONFIG_CLIENTCACHE_VERSION" >CONFIG_CLIENTCACHE_VERSION</a>));</td></tr>
<tr><th id="1232">1232</th><td>    <a class="member" href="#_ZN12WorldSession17SendTutorialsDataEv" title='WorldSession::SendTutorialsData' data-ref="_ZN12WorldSession17SendTutorialsDataEv" >SendTutorialsData</a>();</td></tr>
<tr><th id="1233">1233</th><td></td></tr>
<tr><th id="1234">1234</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_battlePetMgr" title='WorldSession::_battlePetMgr' data-ref="WorldSession::_battlePetMgr" >_battlePetMgr</a><a class="ref" href="../../../../../include/c++/4.9/bits/unique_ptr.h.html#_ZNKSt10unique_ptrptEv" title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" id="_ZNKSt10unique_ptrptEv" >-&gt;</a><a class="ref" href="../BattlePets/BattlePetMgr.h.html#_ZN12BattlePetMgr10LoadFromDBESt10shared_ptrI17PreparedResultSetES2_" title='BattlePetMgr::LoadFromDB' data-ref="_ZN12BattlePetMgr10LoadFromDBESt10shared_ptrI17PreparedResultSetES2_" id="_ZN12BattlePetMgr10LoadFromDBESt10shared_ptrI17PreparedResultSetES2_" >LoadFromDB</a>(<a class="local col0 ref" href="#180holder" title='holder' data-ref="180holder" >holder</a>-&gt;<a class="ref" href="../../database/Database/QueryHolder.h.html#_ZN14SQLQueryHolder17GetPreparedResultEm" title='SQLQueryHolder::GetPreparedResult' data-ref="_ZN14SQLQueryHolder17GetPreparedResultEm" id="_ZN14SQLQueryHolder17GetPreparedResultEm" >GetPreparedResult</a>(<a class="type" href="#AccountInfoQueryHolder" title='AccountInfoQueryHolder' data-ref="AccountInfoQueryHolder" >AccountInfoQueryHolder</a>::<a class="enum" href="#AccountInfoQueryHolder::::BATTLE_PETS" title='AccountInfoQueryHolder::::BATTLE_PETS' data-ref="AccountInfoQueryHolder::::BATTLE_PETS" >BATTLE_PETS</a>),</td></tr>
<tr><th id="1235">1235</th><td>                              <a class="local col0 ref" href="#180holder" title='holder' data-ref="180holder" >holder</a>-&gt;<a class="ref" href="../../database/Database/QueryHolder.h.html#_ZN14SQLQueryHolder17GetPreparedResultEm" title='SQLQueryHolder::GetPreparedResult' data-ref="_ZN14SQLQueryHolder17GetPreparedResultEm" id="_ZN14SQLQueryHolder17GetPreparedResultEm" >GetPreparedResult</a>(<a class="type" href="#AccountInfoQueryHolder" title='AccountInfoQueryHolder' data-ref="AccountInfoQueryHolder" >AccountInfoQueryHolder</a>::<a class="enum" href="#AccountInfoQueryHolder::::BATTLE_PET_SLOTS" title='AccountInfoQueryHolder::::BATTLE_PET_SLOTS' data-ref="AccountInfoQueryHolder::::BATTLE_PET_SLOTS" >BATTLE_PET_SLOTS</a>));</td></tr>
<tr><th id="1236">1236</th><td></td></tr>
<tr><th id="1237">1237</th><td>    <b>delete</b> <a class="local col9 ref" href="#179realmHolder" title='realmHolder' data-ref="179realmHolder" >realmHolder</a>;</td></tr>
<tr><th id="1238">1238</th><td>    <b>delete</b> <a class="local col0 ref" href="#180holder" title='holder' data-ref="180holder" >holder</a>;</td></tr>
<tr><th id="1239">1239</th><td>}</td></tr>
<tr><th id="1240">1240</th><td></td></tr>
<tr><th id="1241">1241</th><td><span class="namespace">rbac::</span><a class="type" href="../Accounts/RBAC.h.html#rbac::RBACData" title='rbac::RBACData' data-ref="rbac::RBACData" >RBACData</a>* <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession11GetRBACDataEv" title='WorldSession::GetRBACData' data-ref="_ZN12WorldSession11GetRBACDataEv" >GetRBACData</dfn>()</td></tr>
<tr><th id="1242">1242</th><td>{</td></tr>
<tr><th id="1243">1243</th><td>    <b>return</b> <a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" >_RBACData</a>;</td></tr>
<tr><th id="1244">1244</th><td>}</td></tr>
<tr><th id="1245">1245</th><td></td></tr>
<tr><th id="1246">1246</th><td><em>bool</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession13HasPermissionEj" title='WorldSession::HasPermission' data-ref="_ZN12WorldSession13HasPermissionEj" >HasPermission</dfn>(<a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col1 decl" id="181permission" title='permission' data-type='uint32' data-ref="181permission" >permission</dfn>)</td></tr>
<tr><th id="1247">1247</th><td>{</td></tr>
<tr><th id="1248">1248</th><td>    <b>if</b> (!<a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" >_RBACData</a>)</td></tr>
<tr><th id="1249">1249</th><td>        <a class="member" href="#_ZN12WorldSession15LoadPermissionsEv" title='WorldSession::LoadPermissions' data-ref="_ZN12WorldSession15LoadPermissionsEv" >LoadPermissions</a>();</td></tr>
<tr><th id="1250">1250</th><td></td></tr>
<tr><th id="1251">1251</th><td>    <em>bool</em> <dfn class="local col2 decl" id="182hasPermission" title='hasPermission' data-type='bool' data-ref="182hasPermission" >hasPermission</dfn> = <a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" >_RBACData</a>-&gt;<a class="ref" href="../Accounts/RBAC.h.html#_ZNK4rbac8RBACData13HasPermissionEj" title='rbac::RBACData::HasPermission' data-ref="_ZNK4rbac8RBACData13HasPermissionEj" id="_ZNK4rbac8RBACData13HasPermissionEj" >HasPermission</a>(<a class="local col1 ref" href="#181permission" title='permission' data-ref="181permission" >permission</a>);</td></tr>
<tr><th id="1252">1252</th><td>    <a class="macro" href="../../../common/Logging/Log.h.html#202" title="do { if (Log::instance()-&gt;ShouldLog(&quot;rbac&quot;, LOG_LEVEL_DEBUG)) { if (false) check_args(&quot;WorldSession::HasPermission [AccountId: %u, Name: %s, realmId: %d]&quot;, _RBACData-&gt;GetId(), _RBACData-&gt;GetName().c_str(), realm.Id.Realm); { try { Log::instance()-&gt;outMessage(&quot;rbac&quot;, LOG_LEVEL_DEBUG, &quot;WorldSession::HasPermission [AccountId: %u, Name: %s, realmId: %d]&quot;, _RBACData-&gt;GetId(), _RBACData-&gt;GetName().c_str(), realm.Id.Realm); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 1253); } }; } } while (0)" data-ref="_M/TC_LOG_DEBUG">TC_LOG_DEBUG</a>(<q>"rbac"</q>, <q>"WorldSession::HasPermission [AccountId: %u, Name: %s, realmId: %d]"</q>,</td></tr>
<tr><th id="1253">1253</th><td>                   <a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" ><a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" >_RBACData</a></a>-&gt;<a class="ref" href="../Accounts/RBAC.h.html#_ZNK4rbac8RBACData5GetIdEv" title='rbac::RBACData::GetId' data-ref="_ZNK4rbac8RBACData5GetIdEv" id="_ZNK4rbac8RBACData5GetIdEv" ><a class="ref" href="../Accounts/RBAC.h.html#_ZNK4rbac8RBACData5GetIdEv" title='rbac::RBACData::GetId' data-ref="_ZNK4rbac8RBACData5GetIdEv" id="_ZNK4rbac8RBACData5GetIdEv" >GetId</a></a>(), <a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" ><a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" >_RBACData</a></a>-&gt;<a class="ref" href="../Accounts/RBAC.h.html#_ZNK4rbac8RBACData7GetNameEv" title='rbac::RBACData::GetName' data-ref="_ZNK4rbac8RBACData7GetNameEv" id="_ZNK4rbac8RBACData7GetNameEv" ><a class="ref" href="../Accounts/RBAC.h.html#_ZNK4rbac8RBACData7GetNameEv" title='rbac::RBACData::GetName' data-ref="_ZNK4rbac8RBACData7GetNameEv" id="_ZNK4rbac8RBACData7GetNameEv" >GetName</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="ref" href="../World/World.h.html#realm" title='realm' data-ref="realm" id="realm" ><a class="ref" href="../World/World.h.html#realm" title='realm' data-ref="realm" id="realm" >realm</a></a>.<a class="ref" href="../../shared/Realm/Realm.h.html#Realm::Id" title='Realm::Id' data-ref="Realm::Id" id="Realm::Id" ><a class="ref" href="../../shared/Realm/Realm.h.html#Realm::Id" title='Realm::Id' data-ref="Realm::Id" id="Realm::Id" >Id</a></a>.<a class="ref" href="../../shared/Realm/Realm.h.html#Battlenet::RealmHandle::Realm" title='Battlenet::RealmHandle::Realm' data-ref="Battlenet::RealmHandle::Realm" ><a class="ref" href="../../shared/Realm/Realm.h.html#Battlenet::RealmHandle::Realm" title='Battlenet::RealmHandle::Realm' data-ref="Battlenet::RealmHandle::Realm" id="Battlenet::RealmHandle::Realm" >Realm</a></a>);</td></tr>
<tr><th id="1254">1254</th><td></td></tr>
<tr><th id="1255">1255</th><td>    <b>return</b> <a class="local col2 ref" href="#182hasPermission" title='hasPermission' data-ref="182hasPermission" >hasPermission</a>;</td></tr>
<tr><th id="1256">1256</th><td>}</td></tr>
<tr><th id="1257">1257</th><td></td></tr>
<tr><th id="1258">1258</th><td><em>void</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<dfn class="decl def" id="_ZN12WorldSession18InvalidateRBACDataEv" title='WorldSession::InvalidateRBACData' data-ref="_ZN12WorldSession18InvalidateRBACDataEv" >InvalidateRBACData</dfn>()</td></tr>
<tr><th id="1259">1259</th><td>{</td></tr>
<tr><th id="1260">1260</th><td>    <a class="macro" href="../../../common/Logging/Log.h.html#202" title="do { if (Log::instance()-&gt;ShouldLog(&quot;rbac&quot;, LOG_LEVEL_DEBUG)) { if (false) check_args(&quot;WorldSession::Invalidaterbac::RBACData [AccountId: %u, Name: %s, realmId: %d]&quot;, _RBACData-&gt;GetId(), _RBACData-&gt;GetName().c_str(), realm.Id.Realm); { try { Log::instance()-&gt;outMessage(&quot;rbac&quot;, LOG_LEVEL_DEBUG, &quot;WorldSession::Invalidaterbac::RBACData [AccountId: %u, Name: %s, realmId: %d]&quot;, _RBACData-&gt;GetId(), _RBACData-&gt;GetName().c_str(), realm.Id.Realm); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 1261); } }; } } while (0)" data-ref="_M/TC_LOG_DEBUG">TC_LOG_DEBUG</a>(<q>"rbac"</q>, <q>"WorldSession::Invalidaterbac::RBACData [AccountId: %u, Name: %s, realmId: %d]"</q>,</td></tr>
<tr><th id="1261">1261</th><td>                   <a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" ><a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" >_RBACData</a></a>-&gt;<a class="ref" href="../Accounts/RBAC.h.html#_ZNK4rbac8RBACData5GetIdEv" title='rbac::RBACData::GetId' data-ref="_ZNK4rbac8RBACData5GetIdEv" id="_ZNK4rbac8RBACData5GetIdEv" ><a class="ref" href="../Accounts/RBAC.h.html#_ZNK4rbac8RBACData5GetIdEv" title='rbac::RBACData::GetId' data-ref="_ZNK4rbac8RBACData5GetIdEv" id="_ZNK4rbac8RBACData5GetIdEv" >GetId</a></a>(), <a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" ><a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" >_RBACData</a></a>-&gt;<a class="ref" href="../Accounts/RBAC.h.html#_ZNK4rbac8RBACData7GetNameEv" title='rbac::RBACData::GetName' data-ref="_ZNK4rbac8RBACData7GetNameEv" id="_ZNK4rbac8RBACData7GetNameEv" ><a class="ref" href="../Accounts/RBAC.h.html#_ZNK4rbac8RBACData7GetNameEv" title='rbac::RBACData::GetName' data-ref="_ZNK4rbac8RBACData7GetNameEv" id="_ZNK4rbac8RBACData7GetNameEv" >GetName</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="ref" href="../World/World.h.html#realm" title='realm' data-ref="realm" id="realm" ><a class="ref" href="../World/World.h.html#realm" title='realm' data-ref="realm" id="realm" >realm</a></a>.<a class="ref" href="../../shared/Realm/Realm.h.html#Realm::Id" title='Realm::Id' data-ref="Realm::Id" id="Realm::Id" ><a class="ref" href="../../shared/Realm/Realm.h.html#Realm::Id" title='Realm::Id' data-ref="Realm::Id" id="Realm::Id" >Id</a></a>.<a class="ref" href="../../shared/Realm/Realm.h.html#Battlenet::RealmHandle::Realm" title='Battlenet::RealmHandle::Realm' data-ref="Battlenet::RealmHandle::Realm" ><a class="ref" href="../../shared/Realm/Realm.h.html#Battlenet::RealmHandle::Realm" title='Battlenet::RealmHandle::Realm' data-ref="Battlenet::RealmHandle::Realm" id="Battlenet::RealmHandle::Realm" >Realm</a></a>);</td></tr>
<tr><th id="1262">1262</th><td>    <b>delete</b> <a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" >_RBACData</a>;</td></tr>
<tr><th id="1263">1263</th><td>    <a class="member" href="WorldSession.h.html#WorldSession::_RBACData" title='WorldSession::_RBACData' data-ref="WorldSession::_RBACData" id="WorldSession::_RBACData" >_RBACData</a> = <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1264">1264</th><td>}</td></tr>
<tr><th id="1265">1265</th><td></td></tr>
<tr><th id="1266">1266</th><td><em>bool</em> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<a class="type" href="WorldSession.h.html#WorldSession::DosProtection" title='WorldSession::DosProtection' data-ref="WorldSession::DosProtection" >DosProtection</a>::<dfn class="decl def" id="_ZNK12WorldSession13DosProtection14EvaluateOpcodeER11WorldPacketl" title='WorldSession::DosProtection::EvaluateOpcode' data-ref="_ZNK12WorldSession13DosProtection14EvaluateOpcodeER11WorldPacketl" >EvaluateOpcode</dfn>(<a class="type" href="WorldPacket.h.html#WorldPacket" title='WorldPacket' data-ref="WorldPacket" >WorldPacket</a>&amp; <dfn class="local col3 decl" id="183p" title='p' data-type='WorldPacket &amp;' data-ref="183p" >p</dfn>, <a class="typedef" href="../../../../../include/time.h.html#time_t" title='time_t' data-type='__time_t' data-ref="time_t" >time_t</a> <dfn class="local col4 decl" id="184time" title='time' data-type='time_t' data-ref="184time" >time</dfn>) <em>const</em></td></tr>
<tr><th id="1267">1267</th><td>{</td></tr>
<tr><th id="1268">1268</th><td>    <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col5 decl" id="185maxPacketCounterAllowed" title='maxPacketCounterAllowed' data-type='uint32' data-ref="185maxPacketCounterAllowed" >maxPacketCounterAllowed</dfn> = <a class="member" href="#_ZNK12WorldSession13DosProtection26GetMaxPacketCounterAllowedEt" title='WorldSession::DosProtection::GetMaxPacketCounterAllowed' data-ref="_ZNK12WorldSession13DosProtection26GetMaxPacketCounterAllowedEt" >GetMaxPacketCounterAllowed</a>(<a class="local col3 ref" href="#183p" title='p' data-ref="183p" >p</a>.<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a>());</td></tr>
<tr><th id="1269">1269</th><td></td></tr>
<tr><th id="1270">1270</th><td>    <i>// Return true if there no limit for the opcode</i></td></tr>
<tr><th id="1271">1271</th><td>    <b>if</b> (!<a class="local col5 ref" href="#185maxPacketCounterAllowed" title='maxPacketCounterAllowed' data-ref="185maxPacketCounterAllowed" >maxPacketCounterAllowed</a>)</td></tr>
<tr><th id="1272">1272</th><td>        <b>return</b> <b>true</b>;</td></tr>
<tr><th id="1273">1273</th><td></td></tr>
<tr><th id="1274">1274</th><td>    <a class="type" href="WorldSession.h.html#PacketCounter" title='PacketCounter' data-ref="PacketCounter" >PacketCounter</a>&amp; <dfn class="local col6 decl" id="186packetCounter" title='packetCounter' data-type='PacketCounter &amp;' data-ref="186packetCounter" >packetCounter</dfn> = <a class="member" href="WorldSession.h.html#WorldSession::DosProtection::_PacketThrottlingMap" title='WorldSession::DosProtection::_PacketThrottlingMap' data-ref="WorldSession::DosProtection::_PacketThrottlingMap" id="WorldSession::DosProtection::_PacketThrottlingMap" >_PacketThrottlingMap</a><a class="ref" href="../../../../../include/c++/4.9/bits/unordered_map.h.html#_ZNSt13unordered_mapixEONSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS7_2012426368" title='std::unordered_map::operator[]' data-ref="_ZNSt13unordered_mapixEONSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS7_2012426368" id="_ZNSt13unordered_mapixEONSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS7_2012426368" >[<a class="local col3 ref" href="#183p" title='p' data-ref="183p" >p</a>.<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a>()]</a>;</td></tr>
<tr><th id="1275">1275</th><td>    <b>if</b> (<a class="local col6 ref" href="#186packetCounter" title='packetCounter' data-ref="186packetCounter" >packetCounter</a>.<a class="ref" href="WorldSession.h.html#PacketCounter::lastReceiveTime" title='PacketCounter::lastReceiveTime' data-ref="PacketCounter::lastReceiveTime" id="PacketCounter::lastReceiveTime" >lastReceiveTime</a> != <a class="local col4 ref" href="#184time" title='time' data-ref="184time" >time</a>)</td></tr>
<tr><th id="1276">1276</th><td>    {</td></tr>
<tr><th id="1277">1277</th><td>        <a class="local col6 ref" href="#186packetCounter" title='packetCounter' data-ref="186packetCounter" >packetCounter</a>.<a class="ref" href="WorldSession.h.html#PacketCounter::lastReceiveTime" title='PacketCounter::lastReceiveTime' data-ref="PacketCounter::lastReceiveTime" id="PacketCounter::lastReceiveTime" >lastReceiveTime</a> = <a class="local col4 ref" href="#184time" title='time' data-ref="184time" >time</a>;</td></tr>
<tr><th id="1278">1278</th><td>        <a class="local col6 ref" href="#186packetCounter" title='packetCounter' data-ref="186packetCounter" >packetCounter</a>.<a class="ref" href="WorldSession.h.html#PacketCounter::amountCounter" title='PacketCounter::amountCounter' data-ref="PacketCounter::amountCounter" id="PacketCounter::amountCounter" >amountCounter</a> = <var>0</var>;</td></tr>
<tr><th id="1279">1279</th><td>    }</td></tr>
<tr><th id="1280">1280</th><td></td></tr>
<tr><th id="1281">1281</th><td>    <i>// Check if player is flooding some packets</i></td></tr>
<tr><th id="1282">1282</th><td>    <b>if</b> (++<a class="local col6 ref" href="#186packetCounter" title='packetCounter' data-ref="186packetCounter" >packetCounter</a>.<a class="ref" href="WorldSession.h.html#PacketCounter::amountCounter" title='PacketCounter::amountCounter' data-ref="PacketCounter::amountCounter" id="PacketCounter::amountCounter" >amountCounter</a> &lt;= <a class="local col5 ref" href="#185maxPacketCounterAllowed" title='maxPacketCounterAllowed' data-ref="185maxPacketCounterAllowed" >maxPacketCounterAllowed</a>)</td></tr>
<tr><th id="1283">1283</th><td>        <b>return</b> <b>true</b>;</td></tr>
<tr><th id="1284">1284</th><td></td></tr>
<tr><th id="1285">1285</th><td>    <a class="macro" href="../../../common/Logging/Log.h.html#208" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network&quot;, LOG_LEVEL_WARN)) { if (false) check_args(&quot;AntiDOS: Account %u, IP: %s, Ping: %u, Character: %s, flooding packet (opc: %s (0x%X), count: %u)&quot;, Session-&gt;GetAccountId(), Session-&gt;GetRemoteAddress().c_str(), Session-&gt;GetLatency(), Session-&gt;GetPlayerName().c_str(), opcodeTable[static_cast&lt;OpcodeClient&gt;(p.GetOpcode())]-&gt;Name, p.GetOpcode(), packetCounter.amountCounter); { try { Log::instance()-&gt;outMessage(&quot;network&quot;, LOG_LEVEL_WARN, &quot;AntiDOS: Account %u, IP: %s, Ping: %u, Character: %s, flooding packet (opc: %s (0x%X), count: %u)&quot;, Session-&gt;GetAccountId(), Session-&gt;GetRemoteAddress().c_str(), Session-&gt;GetLatency(), Session-&gt;GetPlayerName().c_str(), opcodeTable[static_cast&lt;OpcodeClient&gt;(p.GetOpcode())]-&gt;Name, p.GetOpcode(), packetCounter.amountCounter); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 1287); } }; } } while (0)" data-ref="_M/TC_LOG_WARN">TC_LOG_WARN</a>(<q>"network"</q>, <q>"AntiDOS: Account %u, IP: %s, Ping: %u, Character: %s, flooding packet (opc: %s (0x%X), count: %u)"</q>,</td></tr>
<tr><th id="1286">1286</th><td>        <a class="member" href="WorldSession.h.html#WorldSession::DosProtection::Session" title='WorldSession::DosProtection::Session' data-ref="WorldSession::DosProtection::Session" id="WorldSession::DosProtection::Session" ><a class="member" href="WorldSession.h.html#WorldSession::DosProtection::Session" title='WorldSession::DosProtection::Session' data-ref="WorldSession::DosProtection::Session" id="WorldSession::DosProtection::Session" >Session</a></a>-&gt;<a class="ref" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" ><a class="ref" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a></a>(), <a class="member" href="WorldSession.h.html#WorldSession::DosProtection::Session" title='WorldSession::DosProtection::Session' data-ref="WorldSession::DosProtection::Session" id="WorldSession::DosProtection::Session" ><a class="member" href="WorldSession.h.html#WorldSession::DosProtection::Session" title='WorldSession::DosProtection::Session' data-ref="WorldSession::DosProtection::Session" id="WorldSession::DosProtection::Session" >Session</a></a>-&gt;<a class="ref" href="WorldSession.h.html#_ZNK12WorldSession16GetRemoteAddressEv" title='WorldSession::GetRemoteAddress' data-ref="_ZNK12WorldSession16GetRemoteAddressEv" id="_ZNK12WorldSession16GetRemoteAddressEv" ><a class="ref" href="WorldSession.h.html#_ZNK12WorldSession16GetRemoteAddressEv" title='WorldSession::GetRemoteAddress' data-ref="_ZNK12WorldSession16GetRemoteAddressEv" id="_ZNK12WorldSession16GetRemoteAddressEv" >GetRemoteAddress</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(), <a class="member" href="WorldSession.h.html#WorldSession::DosProtection::Session" title='WorldSession::DosProtection::Session' data-ref="WorldSession::DosProtection::Session" id="WorldSession::DosProtection::Session" ><a class="member" href="WorldSession.h.html#WorldSession::DosProtection::Session" title='WorldSession::DosProtection::Session' data-ref="WorldSession::DosProtection::Session" id="WorldSession::DosProtection::Session" >Session</a></a>-&gt;<a class="ref" href="WorldSession.h.html#_ZNK12WorldSession10GetLatencyEv" title='WorldSession::GetLatency' data-ref="_ZNK12WorldSession10GetLatencyEv" id="_ZNK12WorldSession10GetLatencyEv" ><a class="ref" href="WorldSession.h.html#_ZNK12WorldSession10GetLatencyEv" title='WorldSession::GetLatency' data-ref="_ZNK12WorldSession10GetLatencyEv" id="_ZNK12WorldSession10GetLatencyEv" >GetLatency</a></a>(), <a class="member" href="WorldSession.h.html#WorldSession::DosProtection::Session" title='WorldSession::DosProtection::Session' data-ref="WorldSession::DosProtection::Session" id="WorldSession::DosProtection::Session" ><a class="member" href="WorldSession.h.html#WorldSession::DosProtection::Session" title='WorldSession::DosProtection::Session' data-ref="WorldSession::DosProtection::Session" id="WorldSession::DosProtection::Session" >Session</a></a>-&gt;<a class="ref" href="#_ZNK12WorldSession13GetPlayerNameEv" title='WorldSession::GetPlayerName' data-ref="_ZNK12WorldSession13GetPlayerNameEv" ><a class="ref" href="#_ZNK12WorldSession13GetPlayerNameEv" title='WorldSession::GetPlayerName' data-ref="_ZNK12WorldSession13GetPlayerNameEv" >GetPlayerName</a></a>().<a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" ><a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNKSt12basic_string5c_strEv" title='std::basic_string::c_str' data-ref="_ZNKSt12basic_string5c_strEv" id="_ZNKSt12basic_string5c_strEv" >c_str</a></a>(),</td></tr>
<tr><th id="1287">1287</th><td>        <a class="ref" href="Protocol/Opcodes.h.html#opcodeTable" title='opcodeTable' data-ref="opcodeTable" id="opcodeTable" ><a class="ref" href="Protocol/Opcodes.h.html#opcodeTable" title='opcodeTable' data-ref="opcodeTable" id="opcodeTable" >opcodeTable</a></a>[<b>static_cast</b>&lt;<a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" ><a class="type" href="Protocol/Opcodes.h.html#OpcodeClient" title='OpcodeClient' data-ref="OpcodeClient" >OpcodeClient</a></a>&gt;(<a class="local col3 ref" href="#183p" title='p' data-ref="183p" ><a class="local col3 ref" href="#183p" title='p' data-ref="183p" >p</a></a>.<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a></a>())]-&gt;<a class="ref" href="Protocol/Opcodes.h.html#OpcodeHandler::Name" title='OpcodeHandler::Name' data-ref="OpcodeHandler::Name" ><a class="ref" href="Protocol/Opcodes.h.html#OpcodeHandler::Name" title='OpcodeHandler::Name' data-ref="OpcodeHandler::Name" id="OpcodeHandler::Name" >Name</a></a>, <a class="local col3 ref" href="#183p" title='p' data-ref="183p" ><a class="local col3 ref" href="#183p" title='p' data-ref="183p" >p</a></a>.<a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" ><a class="ref" href="WorldPacket.h.html#_ZNK11WorldPacket9GetOpcodeEv" title='WorldPacket::GetOpcode' data-ref="_ZNK11WorldPacket9GetOpcodeEv" id="_ZNK11WorldPacket9GetOpcodeEv" >GetOpcode</a></a>(), <a class="local col6 ref" href="#186packetCounter" title='packetCounter' data-ref="186packetCounter" ><a class="local col6 ref" href="#186packetCounter" title='packetCounter' data-ref="186packetCounter" >packetCounter</a></a>.<a class="ref" href="WorldSession.h.html#PacketCounter::amountCounter" title='PacketCounter::amountCounter' data-ref="PacketCounter::amountCounter" ><a class="ref" href="WorldSession.h.html#PacketCounter::amountCounter" title='PacketCounter::amountCounter' data-ref="PacketCounter::amountCounter" id="PacketCounter::amountCounter" >amountCounter</a></a>);</td></tr>
<tr><th id="1288">1288</th><td></td></tr>
<tr><th id="1289">1289</th><td>    <b>switch</b> (<a class="member" href="WorldSession.h.html#WorldSession::DosProtection::_policy" title='WorldSession::DosProtection::_policy' data-ref="WorldSession::DosProtection::_policy" id="WorldSession::DosProtection::_policy" >_policy</a>)</td></tr>
<tr><th id="1290">1290</th><td>    {</td></tr>
<tr><th id="1291">1291</th><td>        <b>case</b> <a class="enum" href="WorldSession.h.html#WorldSession::DosProtection::Policy::POLICY_LOG" title='WorldSession::DosProtection::Policy::POLICY_LOG' data-ref="WorldSession::DosProtection::Policy::POLICY_LOG" >POLICY_LOG</a>:</td></tr>
<tr><th id="1292">1292</th><td>            <b>return</b> <b>true</b>;</td></tr>
<tr><th id="1293">1293</th><td>        <b>case</b> <a class="enum" href="WorldSession.h.html#WorldSession::DosProtection::Policy::POLICY_KICK" title='WorldSession::DosProtection::Policy::POLICY_KICK' data-ref="WorldSession::DosProtection::Policy::POLICY_KICK" >POLICY_KICK</a>:</td></tr>
<tr><th id="1294">1294</th><td>        {</td></tr>
<tr><th id="1295">1295</th><td>            <a class="macro" href="../../../common/Logging/Log.h.html#208" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network&quot;, LOG_LEVEL_WARN)) { if (false) check_args(&quot;AntiDOS: Player kicked!&quot;); { try { Log::instance()-&gt;outMessage(&quot;network&quot;, LOG_LEVEL_WARN, &quot;AntiDOS: Player kicked!&quot;); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 1295); } }; } } while (0)" data-ref="_M/TC_LOG_WARN">TC_LOG_WARN</a>(<q>"network"</q>, <q>"AntiDOS: Player kicked!"</q>);</td></tr>
<tr><th id="1296">1296</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::DosProtection::Session" title='WorldSession::DosProtection::Session' data-ref="WorldSession::DosProtection::Session" id="WorldSession::DosProtection::Session" >Session</a>-&gt;<a class="ref" href="#_ZN12WorldSession10KickPlayerEv" title='WorldSession::KickPlayer' data-ref="_ZN12WorldSession10KickPlayerEv" >KickPlayer</a>();</td></tr>
<tr><th id="1297">1297</th><td>            <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1298">1298</th><td>        }</td></tr>
<tr><th id="1299">1299</th><td>        <b>case</b> <a class="enum" href="WorldSession.h.html#WorldSession::DosProtection::Policy::POLICY_BAN" title='WorldSession::DosProtection::Policy::POLICY_BAN' data-ref="WorldSession::DosProtection::Policy::POLICY_BAN" >POLICY_BAN</a>:</td></tr>
<tr><th id="1300">1300</th><td>        {</td></tr>
<tr><th id="1301">1301</th><td>            <a class="type" href="../Miscellaneous/SharedDefines.h.html#BanMode" title='BanMode' data-ref="BanMode" >BanMode</a> <dfn class="local col7 decl" id="187bm" title='bm' data-type='BanMode' data-ref="187bm" >bm</dfn> = (<a class="type" href="../Miscellaneous/SharedDefines.h.html#BanMode" title='BanMode' data-ref="BanMode" >BanMode</a>)<a class="macro" href="../World/World.h.html#904" title="World::instance()" data-ref="_M/sWorld">sWorld</a>-&gt;<a class="ref" href="../World/World.h.html#_ZNK5World12getIntConfigE15WorldIntConfigs" title='World::getIntConfig' data-ref="_ZNK5World12getIntConfigE15WorldIntConfigs" id="_ZNK5World12getIntConfigE15WorldIntConfigs" >getIntConfig</a>(<a class="enum" href="../World/World.h.html#WorldIntConfigs::CONFIG_PACKET_SPOOF_BANMODE" title='WorldIntConfigs::CONFIG_PACKET_SPOOF_BANMODE' data-ref="WorldIntConfigs::CONFIG_PACKET_SPOOF_BANMODE" id="WorldIntConfigs::CONFIG_PACKET_SPOOF_BANMODE" >CONFIG_PACKET_SPOOF_BANMODE</a>);</td></tr>
<tr><th id="1302">1302</th><td>            <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col8 decl" id="188duration" title='duration' data-type='uint32' data-ref="188duration" >duration</dfn> = <a class="macro" href="../World/World.h.html#904" title="World::instance()" data-ref="_M/sWorld">sWorld</a>-&gt;<a class="ref" href="../World/World.h.html#_ZNK5World12getIntConfigE15WorldIntConfigs" title='World::getIntConfig' data-ref="_ZNK5World12getIntConfigE15WorldIntConfigs" id="_ZNK5World12getIntConfigE15WorldIntConfigs" >getIntConfig</a>(<a class="enum" href="../World/World.h.html#WorldIntConfigs::CONFIG_PACKET_SPOOF_BANDURATION" title='WorldIntConfigs::CONFIG_PACKET_SPOOF_BANDURATION' data-ref="WorldIntConfigs::CONFIG_PACKET_SPOOF_BANDURATION" id="WorldIntConfigs::CONFIG_PACKET_SPOOF_BANDURATION" >CONFIG_PACKET_SPOOF_BANDURATION</a>); <i>// in seconds</i></td></tr>
<tr><th id="1303">1303</th><td>            <span class="namespace">std::</span><a class="typedef" href="../../../../../include/c++/4.9/bits/stringfwd.h.html#std::string" title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" >string</a> <dfn class="local col9 decl" id="189nameOrIp" title='nameOrIp' data-type='std::string' data-ref="189nameOrIp" >nameOrIp</dfn> = <q>""</q>;</td></tr>
<tr><th id="1304">1304</th><td>            <b>switch</b> (<a class="local col7 ref" href="#187bm" title='bm' data-ref="187bm" >bm</a>)</td></tr>
<tr><th id="1305">1305</th><td>            {</td></tr>
<tr><th id="1306">1306</th><td>                <b>case</b> <a class="enum" href="../Miscellaneous/SharedDefines.h.html#BanMode::BAN_CHARACTER" title='BanMode::BAN_CHARACTER' data-ref="BanMode::BAN_CHARACTER" >BAN_CHARACTER</a>: <i>// not supported, ban account</i></td></tr>
<tr><th id="1307">1307</th><td>                <b>case</b> <a class="enum" href="../Miscellaneous/SharedDefines.h.html#BanMode::BAN_ACCOUNT" title='BanMode::BAN_ACCOUNT' data-ref="BanMode::BAN_ACCOUNT" >BAN_ACCOUNT</a>: (<em>void</em>)<a class="macro" href="../Accounts/AccountMgr.h.html#102" title="AccountMgr::instance()" data-ref="_M/sAccountMgr">sAccountMgr</a>-&gt;<a class="ref" href="../Accounts/AccountMgr.h.html#_ZN10AccountMgr7GetNameEjRSs" title='AccountMgr::GetName' data-ref="_ZN10AccountMgr7GetNameEjRSs" id="_ZN10AccountMgr7GetNameEjRSs" >GetName</a>(<a class="member" href="WorldSession.h.html#WorldSession::DosProtection::Session" title='WorldSession::DosProtection::Session' data-ref="WorldSession::DosProtection::Session" id="WorldSession::DosProtection::Session" >Session</a>-&gt;<a class="ref" href="WorldSession.h.html#_ZNK12WorldSession12GetAccountIdEv" title='WorldSession::GetAccountId' data-ref="_ZNK12WorldSession12GetAccountIdEv" id="_ZNK12WorldSession12GetAccountIdEv" >GetAccountId</a>(), <a class="local col9 ref" href="#189nameOrIp" title='nameOrIp' data-ref="189nameOrIp" >nameOrIp</a>); <b>break</b>;</td></tr>
<tr><th id="1308">1308</th><td>                <b>case</b> <a class="enum" href="../Miscellaneous/SharedDefines.h.html#BanMode::BAN_IP" title='BanMode::BAN_IP' data-ref="BanMode::BAN_IP" >BAN_IP</a>: <a class="local col9 ref" href="#189nameOrIp" title='nameOrIp' data-ref="189nameOrIp" >nameOrIp</a> <a class="ref" href="../../../../../include/c++/4.9/bits/basic_string.h.html#_ZNSt12basic_stringaSERKSbIT_T0_T1_E" title='std::basic_string::operator=' data-ref="_ZNSt12basic_stringaSERKSbIT_T0_T1_E" id="_ZNSt12basic_stringaSERKSbIT_T0_T1_E" >=</a> <a class="member" href="WorldSession.h.html#WorldSession::DosProtection::Session" title='WorldSession::DosProtection::Session' data-ref="WorldSession::DosProtection::Session" id="WorldSession::DosProtection::Session" >Session</a>-&gt;<a class="ref" href="WorldSession.h.html#_ZNK12WorldSession16GetRemoteAddressEv" title='WorldSession::GetRemoteAddress' data-ref="_ZNK12WorldSession16GetRemoteAddressEv" id="_ZNK12WorldSession16GetRemoteAddressEv" >GetRemoteAddress</a>(); <b>break</b>;</td></tr>
<tr><th id="1309">1309</th><td>            }</td></tr>
<tr><th id="1310">1310</th><td>            <a class="macro" href="../World/World.h.html#904" title="World::instance()" data-ref="_M/sWorld">sWorld</a>-&gt;<a class="ref" href="../World/World.h.html#_ZN5World10BanAccountE7BanModeRKSsjS2_S2_" title='World::BanAccount' data-ref="_ZN5World10BanAccountE7BanModeRKSsjS2_S2_" id="_ZN5World10BanAccountE7BanModeRKSsjS2_S2_" >BanAccount</a>(<a class="local col7 ref" href="#187bm" title='bm' data-ref="187bm" >bm</a>, <a class="local col9 ref" href="#189nameOrIp" title='nameOrIp' data-ref="189nameOrIp" >nameOrIp</a>, <a class="local col8 ref" href="#188duration" title='duration' data-ref="188duration" >duration</a>, <q>"DOS (Packet Flooding/Spoofing"</q>, <q>"Server: AutoDOS"</q>);</td></tr>
<tr><th id="1311">1311</th><td>            <a class="macro" href="../../../common/Logging/Log.h.html#208" title="do { if (Log::instance()-&gt;ShouldLog(&quot;network&quot;, LOG_LEVEL_WARN)) { if (false) check_args(&quot;AntiDOS: Player automatically banned for %u seconds.&quot;, duration); { try { Log::instance()-&gt;outMessage(&quot;network&quot;, LOG_LEVEL_WARN, &quot;AntiDOS: Player automatically banned for %u seconds.&quot;, duration); } catch (std::exception&amp; e) { Log::instance()-&gt;outMessage(&quot;server&quot;, LOG_LEVEL_ERROR, &quot;Wrong format occurred (%s) at %s:%u.&quot;, e.what(), &quot;/home/nayd/TrinityCore6x/src/server/game/Server/WorldSession.cpp&quot;, 1311); } }; } } while (0)" data-ref="_M/TC_LOG_WARN">TC_LOG_WARN</a>(<q>"network"</q>, <q>"AntiDOS: Player automatically banned for %u seconds."</q>, <a class="local col8 ref" href="#188duration" title='duration' data-ref="188duration" ><a class="local col8 ref" href="#188duration" title='duration' data-ref="188duration" >duration</a></a>);</td></tr>
<tr><th id="1312">1312</th><td>            <a class="member" href="WorldSession.h.html#WorldSession::DosProtection::Session" title='WorldSession::DosProtection::Session' data-ref="WorldSession::DosProtection::Session" id="WorldSession::DosProtection::Session" >Session</a>-&gt;<a class="ref" href="#_ZN12WorldSession10KickPlayerEv" title='WorldSession::KickPlayer' data-ref="_ZN12WorldSession10KickPlayerEv" >KickPlayer</a>();</td></tr>
<tr><th id="1313">1313</th><td>            <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1314">1314</th><td>        }</td></tr>
<tr><th id="1315">1315</th><td>        <b>default</b>: <i>// invalid policy</i></td></tr>
<tr><th id="1316">1316</th><td>            <b>return</b> <b>true</b>;</td></tr>
<tr><th id="1317">1317</th><td>    }</td></tr>
<tr><th id="1318">1318</th><td>}</td></tr>
<tr><th id="1319">1319</th><td></td></tr>
<tr><th id="1320">1320</th><td></td></tr>
<tr><th id="1321">1321</th><td><a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <a class="type" href="WorldSession.h.html#WorldSession" title='WorldSession' data-ref="WorldSession" >WorldSession</a>::<a class="type" href="WorldSession.h.html#WorldSession::DosProtection" title='WorldSession::DosProtection' data-ref="WorldSession::DosProtection" >DosProtection</a>::<dfn class="decl def" id="_ZNK12WorldSession13DosProtection26GetMaxPacketCounterAllowedEt" title='WorldSession::DosProtection::GetMaxPacketCounterAllowed' data-ref="_ZNK12WorldSession13DosProtection26GetMaxPacketCounterAllowedEt" >GetMaxPacketCounterAllowed</dfn>(<a class="typedef" href="../../../common/Define.h.html#uint16" title='uint16' data-type='uint16_t' data-ref="uint16" >uint16</a> <dfn class="local col0 decl" id="190opcode" title='opcode' data-type='uint16' data-ref="190opcode" >opcode</dfn>) <em>const</em></td></tr>
<tr><th id="1322">1322</th><td>{</td></tr>
<tr><th id="1323">1323</th><td>    <a class="typedef" href="../../../common/Define.h.html#uint32" title='uint32' data-type='uint32_t' data-ref="uint32" >uint32</a> <dfn class="local col1 decl" id="191maxPacketCounterAllowed" title='maxPacketCounterAllowed' data-type='uint32' data-ref="191maxPacketCounterAllowed" >maxPacketCounterAllowed</dfn>;</td></tr>
<tr><th id="1324">1324</th><td>    <b>switch</b> (<a class="local col0 ref" href="#190opcode" title='opcode' data-ref="190opcode" >opcode</a>)</td></tr>
<tr><th id="1325">1325</th><td>    {</td></tr>
<tr><th id="1326">1326</th><td>        <i>// CPU usage sending 2000 packets/second on a 3.70 GHz 4 cores on Win x64</i></td></tr>
<tr><th id="1327">1327</th><td><i>        //                                              [% CPU mysqld]   [%CPU worldserver RelWithDebInfo]</i></td></tr>
<tr><th id="1328">1328</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_PLAYER_LOGIN" title='OpcodeClient::CMSG_PLAYER_LOGIN' data-ref="OpcodeClient::CMSG_PLAYER_LOGIN" >CMSG_PLAYER_LOGIN</a>:                         <i>//   0               0.5</i></td></tr>
<tr><th id="1329">1329</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUERY_PLAYER_NAME" title='OpcodeClient::CMSG_QUERY_PLAYER_NAME' data-ref="OpcodeClient::CMSG_QUERY_PLAYER_NAME" >CMSG_QUERY_PLAYER_NAME</a>:                    <i>//   0               1</i></td></tr>
<tr><th id="1330">1330</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUERY_PET_NAME" title='OpcodeClient::CMSG_QUERY_PET_NAME' data-ref="OpcodeClient::CMSG_QUERY_PET_NAME" >CMSG_QUERY_PET_NAME</a>:                       <i>//   0               1</i></td></tr>
<tr><th id="1331">1331</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUERY_NPC_TEXT" title='OpcodeClient::CMSG_QUERY_NPC_TEXT' data-ref="OpcodeClient::CMSG_QUERY_NPC_TEXT" >CMSG_QUERY_NPC_TEXT</a>:                       <i>//   0               1</i></td></tr>
<tr><th id="1332">1332</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_ATTACK_STOP" title='OpcodeClient::CMSG_ATTACK_STOP' data-ref="OpcodeClient::CMSG_ATTACK_STOP" >CMSG_ATTACK_STOP</a>:                          <i>//   0               1</i></td></tr>
<tr><th id="1333">1333</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUERY_TIME" title='OpcodeClient::CMSG_QUERY_TIME' data-ref="OpcodeClient::CMSG_QUERY_TIME" >CMSG_QUERY_TIME</a>:                           <i>//   0               1</i></td></tr>
<tr><th id="1334">1334</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUERY_CORPSE_TRANSPORT" title='OpcodeClient::CMSG_QUERY_CORPSE_TRANSPORT' data-ref="OpcodeClient::CMSG_QUERY_CORPSE_TRANSPORT" >CMSG_QUERY_CORPSE_TRANSPORT</a>:               <i>//   0               1</i></td></tr>
<tr><th id="1335">1335</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_MOVE_TIME_SKIPPED" title='OpcodeClient::CMSG_MOVE_TIME_SKIPPED' data-ref="OpcodeClient::CMSG_MOVE_TIME_SKIPPED" >CMSG_MOVE_TIME_SKIPPED</a>:                    <i>//   0               1</i></td></tr>
<tr><th id="1336">1336</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUERY_NEXT_MAIL_TIME" title='OpcodeClient::CMSG_QUERY_NEXT_MAIL_TIME' data-ref="OpcodeClient::CMSG_QUERY_NEXT_MAIL_TIME" >CMSG_QUERY_NEXT_MAIL_TIME</a>:                 <i>//   0               1</i></td></tr>
<tr><th id="1337">1337</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SET_SHEATHED" title='OpcodeClient::CMSG_SET_SHEATHED' data-ref="OpcodeClient::CMSG_SET_SHEATHED" >CMSG_SET_SHEATHED</a>:                         <i>//   0               1</i></td></tr>
<tr><th id="1338">1338</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_UPDATE_RAID_TARGET" title='OpcodeClient::CMSG_UPDATE_RAID_TARGET' data-ref="OpcodeClient::CMSG_UPDATE_RAID_TARGET" >CMSG_UPDATE_RAID_TARGET</a>:                   <i>//   0               1</i></td></tr>
<tr><th id="1339">1339</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_LOGOUT_REQUEST" title='OpcodeClient::CMSG_LOGOUT_REQUEST' data-ref="OpcodeClient::CMSG_LOGOUT_REQUEST" >CMSG_LOGOUT_REQUEST</a>:                       <i>//   0               1</i></td></tr>
<tr><th id="1340">1340</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_PET_RENAME" title='OpcodeClient::CMSG_PET_RENAME' data-ref="OpcodeClient::CMSG_PET_RENAME" >CMSG_PET_RENAME</a>:                           <i>//   0               1</i></td></tr>
<tr><th id="1341">1341</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUEST_GIVER_REQUEST_REWARD" title='OpcodeClient::CMSG_QUEST_GIVER_REQUEST_REWARD' data-ref="OpcodeClient::CMSG_QUEST_GIVER_REQUEST_REWARD" >CMSG_QUEST_GIVER_REQUEST_REWARD</a>:           <i>//   0               1</i></td></tr>
<tr><th id="1342">1342</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_COMPLETE_CINEMATIC" title='OpcodeClient::CMSG_COMPLETE_CINEMATIC' data-ref="OpcodeClient::CMSG_COMPLETE_CINEMATIC" >CMSG_COMPLETE_CINEMATIC</a>:                   <i>//   0               1</i></td></tr>
<tr><th id="1343">1343</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_BANKER_ACTIVATE" title='OpcodeClient::CMSG_BANKER_ACTIVATE' data-ref="OpcodeClient::CMSG_BANKER_ACTIVATE" >CMSG_BANKER_ACTIVATE</a>:                      <i>//   0               1</i></td></tr>
<tr><th id="1344">1344</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_BUY_BANK_SLOT" title='OpcodeClient::CMSG_BUY_BANK_SLOT' data-ref="OpcodeClient::CMSG_BUY_BANK_SLOT" >CMSG_BUY_BANK_SLOT</a>:                        <i>//   0               1</i></td></tr>
<tr><th id="1345">1345</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_OPT_OUT_OF_LOOT" title='OpcodeClient::CMSG_OPT_OUT_OF_LOOT' data-ref="OpcodeClient::CMSG_OPT_OUT_OF_LOOT" >CMSG_OPT_OUT_OF_LOOT</a>:                      <i>//   0               1</i></td></tr>
<tr><th id="1346">1346</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_DUEL_RESPONSE" title='OpcodeClient::CMSG_DUEL_RESPONSE' data-ref="OpcodeClient::CMSG_DUEL_RESPONSE" >CMSG_DUEL_RESPONSE</a>:                        <i>//   0               1</i></td></tr>
<tr><th id="1347">1347</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CALENDAR_COMPLAIN" title='OpcodeClient::CMSG_CALENDAR_COMPLAIN' data-ref="OpcodeClient::CMSG_CALENDAR_COMPLAIN" >CMSG_CALENDAR_COMPLAIN</a>:                    <i>//   0               1</i></td></tr>
<tr><th id="1348">1348</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUERY_QUEST_INFO" title='OpcodeClient::CMSG_QUERY_QUEST_INFO' data-ref="OpcodeClient::CMSG_QUERY_QUEST_INFO" >CMSG_QUERY_QUEST_INFO</a>:                     <i>//   0               1.5</i></td></tr>
<tr><th id="1349">1349</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUERY_GAME_OBJECT" title='OpcodeClient::CMSG_QUERY_GAME_OBJECT' data-ref="OpcodeClient::CMSG_QUERY_GAME_OBJECT" >CMSG_QUERY_GAME_OBJECT</a>:                    <i>//   0               1.5</i></td></tr>
<tr><th id="1350">1350</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUERY_CREATURE" title='OpcodeClient::CMSG_QUERY_CREATURE' data-ref="OpcodeClient::CMSG_QUERY_CREATURE" >CMSG_QUERY_CREATURE</a>:                       <i>//   0               1.5</i></td></tr>
<tr><th id="1351">1351</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUEST_GIVER_STATUS_QUERY" title='OpcodeClient::CMSG_QUEST_GIVER_STATUS_QUERY' data-ref="OpcodeClient::CMSG_QUEST_GIVER_STATUS_QUERY" >CMSG_QUEST_GIVER_STATUS_QUERY</a>:             <i>//   0               1.5</i></td></tr>
<tr><th id="1352">1352</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUERY_GUILD_INFO" title='OpcodeClient::CMSG_QUERY_GUILD_INFO' data-ref="OpcodeClient::CMSG_QUERY_GUILD_INFO" >CMSG_QUERY_GUILD_INFO</a>:                     <i>//   0               1.5</i></td></tr>
<tr><th id="1353">1353</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_TAXI_NODE_STATUS_QUERY" title='OpcodeClient::CMSG_TAXI_NODE_STATUS_QUERY' data-ref="OpcodeClient::CMSG_TAXI_NODE_STATUS_QUERY" >CMSG_TAXI_NODE_STATUS_QUERY</a>:               <i>//   0               1.5</i></td></tr>
<tr><th id="1354">1354</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_TAXI_QUERY_AVAILABLE_NODES" title='OpcodeClient::CMSG_TAXI_QUERY_AVAILABLE_NODES' data-ref="OpcodeClient::CMSG_TAXI_QUERY_AVAILABLE_NODES" >CMSG_TAXI_QUERY_AVAILABLE_NODES</a>:           <i>//   0               1.5</i></td></tr>
<tr><th id="1355">1355</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUEST_GIVER_QUERY_QUEST" title='OpcodeClient::CMSG_QUEST_GIVER_QUERY_QUEST' data-ref="OpcodeClient::CMSG_QUEST_GIVER_QUERY_QUEST" >CMSG_QUEST_GIVER_QUERY_QUEST</a>:              <i>//   0               1.5</i></td></tr>
<tr><th id="1356">1356</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUERY_PAGE_TEXT" title='OpcodeClient::CMSG_QUERY_PAGE_TEXT' data-ref="OpcodeClient::CMSG_QUERY_PAGE_TEXT" >CMSG_QUERY_PAGE_TEXT</a>:                      <i>//   0               1.5</i></td></tr>
<tr><th id="1357">1357</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_BANK_TEXT_QUERY" title='OpcodeClient::CMSG_GUILD_BANK_TEXT_QUERY' data-ref="OpcodeClient::CMSG_GUILD_BANK_TEXT_QUERY" >CMSG_GUILD_BANK_TEXT_QUERY</a>:                <i>//   0               1.5</i></td></tr>
<tr><th id="1358">1358</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUERY_CORPSE_LOCATION_FROM_CLIENT" title='OpcodeClient::CMSG_QUERY_CORPSE_LOCATION_FROM_CLIENT' data-ref="OpcodeClient::CMSG_QUERY_CORPSE_LOCATION_FROM_CLIENT" >CMSG_QUERY_CORPSE_LOCATION_FROM_CLIENT</a>:    <i>//   0               1.5</i></td></tr>
<tr><th id="1359">1359</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_MOVE_SET_FACING" title='OpcodeClient::CMSG_MOVE_SET_FACING' data-ref="OpcodeClient::CMSG_MOVE_SET_FACING" >CMSG_MOVE_SET_FACING</a>:                      <i>//   0               1.5</i></td></tr>
<tr><th id="1360">1360</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_REQUEST_PARTY_MEMBER_STATS" title='OpcodeClient::CMSG_REQUEST_PARTY_MEMBER_STATS' data-ref="OpcodeClient::CMSG_REQUEST_PARTY_MEMBER_STATS" >CMSG_REQUEST_PARTY_MEMBER_STATS</a>:           <i>//   0               1.5</i></td></tr>
<tr><th id="1361">1361</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUEST_GIVER_COMPLETE_QUEST" title='OpcodeClient::CMSG_QUEST_GIVER_COMPLETE_QUEST' data-ref="OpcodeClient::CMSG_QUEST_GIVER_COMPLETE_QUEST" >CMSG_QUEST_GIVER_COMPLETE_QUEST</a>:           <i>//   0               1.5</i></td></tr>
<tr><th id="1362">1362</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SET_ACTION_BUTTON" title='OpcodeClient::CMSG_SET_ACTION_BUTTON' data-ref="OpcodeClient::CMSG_SET_ACTION_BUTTON" >CMSG_SET_ACTION_BUTTON</a>:                    <i>//   0               1.5</i></td></tr>
<tr><th id="1363">1363</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_RESET_INSTANCES" title='OpcodeClient::CMSG_RESET_INSTANCES' data-ref="OpcodeClient::CMSG_RESET_INSTANCES" >CMSG_RESET_INSTANCES</a>:                      <i>//   0               1.5</i></td></tr>
<tr><th id="1364">1364</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_HEARTH_AND_RESURRECT" title='OpcodeClient::CMSG_HEARTH_AND_RESURRECT' data-ref="OpcodeClient::CMSG_HEARTH_AND_RESURRECT" >CMSG_HEARTH_AND_RESURRECT</a>:                 <i>//   0               1.5</i></td></tr>
<tr><th id="1365">1365</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_TOGGLE_PVP" title='OpcodeClient::CMSG_TOGGLE_PVP' data-ref="OpcodeClient::CMSG_TOGGLE_PVP" >CMSG_TOGGLE_PVP</a>:                           <i>//   0               1.5</i></td></tr>
<tr><th id="1366">1366</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_PET_ABANDON" title='OpcodeClient::CMSG_PET_ABANDON' data-ref="OpcodeClient::CMSG_PET_ABANDON" >CMSG_PET_ABANDON</a>:                          <i>//   0               1.5</i></td></tr>
<tr><th id="1367">1367</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_ACTIVATE_TAXI" title='OpcodeClient::CMSG_ACTIVATE_TAXI' data-ref="OpcodeClient::CMSG_ACTIVATE_TAXI" >CMSG_ACTIVATE_TAXI</a>:                        <i>//   0               1.5</i></td></tr>
<tr><th id="1368">1368</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SELF_RES" title='OpcodeClient::CMSG_SELF_RES' data-ref="OpcodeClient::CMSG_SELF_RES" >CMSG_SELF_RES</a>:                             <i>//   0               1.5</i></td></tr>
<tr><th id="1369">1369</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_UNLEARN_SKILL" title='OpcodeClient::CMSG_UNLEARN_SKILL' data-ref="OpcodeClient::CMSG_UNLEARN_SKILL" >CMSG_UNLEARN_SKILL</a>:                        <i>//   0               1.5</i></td></tr>
<tr><th id="1370">1370</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SAVE_EQUIPMENT_SET" title='OpcodeClient::CMSG_SAVE_EQUIPMENT_SET' data-ref="OpcodeClient::CMSG_SAVE_EQUIPMENT_SET" >CMSG_SAVE_EQUIPMENT_SET</a>:                   <i>//   0               1.5</i></td></tr>
<tr><th id="1371">1371</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_DELETE_EQUIPMENT_SET" title='OpcodeClient::CMSG_DELETE_EQUIPMENT_SET' data-ref="OpcodeClient::CMSG_DELETE_EQUIPMENT_SET" >CMSG_DELETE_EQUIPMENT_SET</a>:                 <i>//   0               1.5</i></td></tr>
<tr><th id="1372">1372</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_DISMISS_CRITTER" title='OpcodeClient::CMSG_DISMISS_CRITTER' data-ref="OpcodeClient::CMSG_DISMISS_CRITTER" >CMSG_DISMISS_CRITTER</a>:                      <i>//   0               1.5</i></td></tr>
<tr><th id="1373">1373</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_REPOP_REQUEST" title='OpcodeClient::CMSG_REPOP_REQUEST' data-ref="OpcodeClient::CMSG_REPOP_REQUEST" >CMSG_REPOP_REQUEST</a>:                        <i>//   0               1.5</i></td></tr>
<tr><th id="1374">1374</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_PARTY_INVITE" title='OpcodeClient::CMSG_PARTY_INVITE' data-ref="OpcodeClient::CMSG_PARTY_INVITE" >CMSG_PARTY_INVITE</a>:                         <i>//   0               1.5</i></td></tr>
<tr><th id="1375">1375</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_PARTY_INVITE_RESPONSE" title='OpcodeClient::CMSG_PARTY_INVITE_RESPONSE' data-ref="OpcodeClient::CMSG_PARTY_INVITE_RESPONSE" >CMSG_PARTY_INVITE_RESPONSE</a>:                <i>//   0               1.5</i></td></tr>
<tr><th id="1376">1376</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_PARTY_UNINVITE" title='OpcodeClient::CMSG_PARTY_UNINVITE' data-ref="OpcodeClient::CMSG_PARTY_UNINVITE" >CMSG_PARTY_UNINVITE</a>:                       <i>//   0               1.5</i></td></tr>
<tr><th id="1377">1377</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_LEAVE_GROUP" title='OpcodeClient::CMSG_LEAVE_GROUP' data-ref="OpcodeClient::CMSG_LEAVE_GROUP" >CMSG_LEAVE_GROUP</a>:                          <i>//   0               1.5</i></td></tr>
<tr><th id="1378">1378</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_BATTLEMASTER_JOIN_ARENA" title='OpcodeClient::CMSG_BATTLEMASTER_JOIN_ARENA' data-ref="OpcodeClient::CMSG_BATTLEMASTER_JOIN_ARENA" >CMSG_BATTLEMASTER_JOIN_ARENA</a>:              <i>//   0               1.5</i></td></tr>
<tr><th id="1379">1379</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_BATTLEFIELD_LEAVE" title='OpcodeClient::CMSG_BATTLEFIELD_LEAVE' data-ref="OpcodeClient::CMSG_BATTLEFIELD_LEAVE" >CMSG_BATTLEFIELD_LEAVE</a>:                    <i>//   0               1.5</i></td></tr>
<tr><th id="1380">1380</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_BANK_LOG_QUERY" title='OpcodeClient::CMSG_GUILD_BANK_LOG_QUERY' data-ref="OpcodeClient::CMSG_GUILD_BANK_LOG_QUERY" >CMSG_GUILD_BANK_LOG_QUERY</a>:                 <i>//   0               2</i></td></tr>
<tr><th id="1381">1381</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_LOGOUT_CANCEL" title='OpcodeClient::CMSG_LOGOUT_CANCEL' data-ref="OpcodeClient::CMSG_LOGOUT_CANCEL" >CMSG_LOGOUT_CANCEL</a>:                        <i>//   0               2</i></td></tr>
<tr><th id="1382">1382</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_ALTER_APPEARANCE" title='OpcodeClient::CMSG_ALTER_APPEARANCE' data-ref="OpcodeClient::CMSG_ALTER_APPEARANCE" >CMSG_ALTER_APPEARANCE</a>:                     <i>//   0               2</i></td></tr>
<tr><th id="1383">1383</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUEST_CONFIRM_ACCEPT" title='OpcodeClient::CMSG_QUEST_CONFIRM_ACCEPT' data-ref="OpcodeClient::CMSG_QUEST_CONFIRM_ACCEPT" >CMSG_QUEST_CONFIRM_ACCEPT</a>:                 <i>//   0               2</i></td></tr>
<tr><th id="1384">1384</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_EVENT_LOG_QUERY" title='OpcodeClient::CMSG_GUILD_EVENT_LOG_QUERY' data-ref="OpcodeClient::CMSG_GUILD_EVENT_LOG_QUERY" >CMSG_GUILD_EVENT_LOG_QUERY</a>:                <i>//   0               2.5</i></td></tr>
<tr><th id="1385">1385</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUEST_GIVER_STATUS_MULTIPLE_QUERY" title='OpcodeClient::CMSG_QUEST_GIVER_STATUS_MULTIPLE_QUERY' data-ref="OpcodeClient::CMSG_QUEST_GIVER_STATUS_MULTIPLE_QUERY" >CMSG_QUEST_GIVER_STATUS_MULTIPLE_QUERY</a>:    <i>//   0               2.5</i></td></tr>
<tr><th id="1386">1386</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_BEGIN_TRADE" title='OpcodeClient::CMSG_BEGIN_TRADE' data-ref="OpcodeClient::CMSG_BEGIN_TRADE" >CMSG_BEGIN_TRADE</a>:                          <i>//   0               2.5</i></td></tr>
<tr><th id="1387">1387</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_INITIATE_TRADE" title='OpcodeClient::CMSG_INITIATE_TRADE' data-ref="OpcodeClient::CMSG_INITIATE_TRADE" >CMSG_INITIATE_TRADE</a>:                       <i>//   0               3</i></td></tr>
<tr><th id="1388">1388</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_ADDON_MESSAGE_GUILD" title='OpcodeClient::CMSG_CHAT_ADDON_MESSAGE_GUILD' data-ref="OpcodeClient::CMSG_CHAT_ADDON_MESSAGE_GUILD" >CMSG_CHAT_ADDON_MESSAGE_GUILD</a>:             <i>//   0               3.5</i></td></tr>
<tr><th id="1389">1389</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_ADDON_MESSAGE_OFFICER" title='OpcodeClient::CMSG_CHAT_ADDON_MESSAGE_OFFICER' data-ref="OpcodeClient::CMSG_CHAT_ADDON_MESSAGE_OFFICER" >CMSG_CHAT_ADDON_MESSAGE_OFFICER</a>:           <i>//   0               3.5</i></td></tr>
<tr><th id="1390">1390</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_ADDON_MESSAGE_PARTY" title='OpcodeClient::CMSG_CHAT_ADDON_MESSAGE_PARTY' data-ref="OpcodeClient::CMSG_CHAT_ADDON_MESSAGE_PARTY" >CMSG_CHAT_ADDON_MESSAGE_PARTY</a>:             <i>//   0               3.5</i></td></tr>
<tr><th id="1391">1391</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_ADDON_MESSAGE_RAID" title='OpcodeClient::CMSG_CHAT_ADDON_MESSAGE_RAID' data-ref="OpcodeClient::CMSG_CHAT_ADDON_MESSAGE_RAID" >CMSG_CHAT_ADDON_MESSAGE_RAID</a>:              <i>//   0               3.5</i></td></tr>
<tr><th id="1392">1392</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_ADDON_MESSAGE_WHISPER" title='OpcodeClient::CMSG_CHAT_ADDON_MESSAGE_WHISPER' data-ref="OpcodeClient::CMSG_CHAT_ADDON_MESSAGE_WHISPER" >CMSG_CHAT_ADDON_MESSAGE_WHISPER</a>:           <i>//   0               3.5</i></td></tr>
<tr><th id="1393">1393</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_MESSAGE_AFK" title='OpcodeClient::CMSG_CHAT_MESSAGE_AFK' data-ref="OpcodeClient::CMSG_CHAT_MESSAGE_AFK" >CMSG_CHAT_MESSAGE_AFK</a>:                     <i>//   0               3.5</i></td></tr>
<tr><th id="1394">1394</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_MESSAGE_CHANNEL" title='OpcodeClient::CMSG_CHAT_MESSAGE_CHANNEL' data-ref="OpcodeClient::CMSG_CHAT_MESSAGE_CHANNEL" >CMSG_CHAT_MESSAGE_CHANNEL</a>:                 <i>//   0               3.5</i></td></tr>
<tr><th id="1395">1395</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_MESSAGE_DND" title='OpcodeClient::CMSG_CHAT_MESSAGE_DND' data-ref="OpcodeClient::CMSG_CHAT_MESSAGE_DND" >CMSG_CHAT_MESSAGE_DND</a>:                     <i>//   0               3.5</i></td></tr>
<tr><th id="1396">1396</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_MESSAGE_EMOTE" title='OpcodeClient::CMSG_CHAT_MESSAGE_EMOTE' data-ref="OpcodeClient::CMSG_CHAT_MESSAGE_EMOTE" >CMSG_CHAT_MESSAGE_EMOTE</a>:                   <i>//   0               3.5</i></td></tr>
<tr><th id="1397">1397</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_MESSAGE_GUILD" title='OpcodeClient::CMSG_CHAT_MESSAGE_GUILD' data-ref="OpcodeClient::CMSG_CHAT_MESSAGE_GUILD" >CMSG_CHAT_MESSAGE_GUILD</a>:                   <i>//   0               3.5</i></td></tr>
<tr><th id="1398">1398</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_MESSAGE_OFFICER" title='OpcodeClient::CMSG_CHAT_MESSAGE_OFFICER' data-ref="OpcodeClient::CMSG_CHAT_MESSAGE_OFFICER" >CMSG_CHAT_MESSAGE_OFFICER</a>:                 <i>//   0               3.5</i></td></tr>
<tr><th id="1399">1399</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_MESSAGE_PARTY" title='OpcodeClient::CMSG_CHAT_MESSAGE_PARTY' data-ref="OpcodeClient::CMSG_CHAT_MESSAGE_PARTY" >CMSG_CHAT_MESSAGE_PARTY</a>:                   <i>//   0               3.5</i></td></tr>
<tr><th id="1400">1400</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_MESSAGE_RAID" title='OpcodeClient::CMSG_CHAT_MESSAGE_RAID' data-ref="OpcodeClient::CMSG_CHAT_MESSAGE_RAID" >CMSG_CHAT_MESSAGE_RAID</a>:                    <i>//   0               3.5</i></td></tr>
<tr><th id="1401">1401</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_MESSAGE_RAID_WARNING" title='OpcodeClient::CMSG_CHAT_MESSAGE_RAID_WARNING' data-ref="OpcodeClient::CMSG_CHAT_MESSAGE_RAID_WARNING" >CMSG_CHAT_MESSAGE_RAID_WARNING</a>:            <i>//   0               3.5</i></td></tr>
<tr><th id="1402">1402</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_MESSAGE_SAY" title='OpcodeClient::CMSG_CHAT_MESSAGE_SAY' data-ref="OpcodeClient::CMSG_CHAT_MESSAGE_SAY" >CMSG_CHAT_MESSAGE_SAY</a>:                     <i>//   0               3.5</i></td></tr>
<tr><th id="1403">1403</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_MESSAGE_WHISPER" title='OpcodeClient::CMSG_CHAT_MESSAGE_WHISPER' data-ref="OpcodeClient::CMSG_CHAT_MESSAGE_WHISPER" >CMSG_CHAT_MESSAGE_WHISPER</a>:                 <i>//   0               3.5</i></td></tr>
<tr><th id="1404">1404</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAT_MESSAGE_YELL" title='OpcodeClient::CMSG_CHAT_MESSAGE_YELL' data-ref="OpcodeClient::CMSG_CHAT_MESSAGE_YELL" >CMSG_CHAT_MESSAGE_YELL</a>:                    <i>//   0               3.5</i></td></tr>
<tr><th id="1405">1405</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_INSPECT" title='OpcodeClient::CMSG_INSPECT' data-ref="OpcodeClient::CMSG_INSPECT" >CMSG_INSPECT</a>:                              <i>//   0               3.5</i></td></tr>
<tr><th id="1406">1406</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_AREA_SPIRIT_HEALER_QUERY" title='OpcodeClient::CMSG_AREA_SPIRIT_HEALER_QUERY' data-ref="OpcodeClient::CMSG_AREA_SPIRIT_HEALER_QUERY" >CMSG_AREA_SPIRIT_HEALER_QUERY</a>:             <i>// not profiled</i></td></tr>
<tr><th id="1407">1407</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_STAND_STATE_CHANGE" title='OpcodeClient::CMSG_STAND_STATE_CHANGE' data-ref="OpcodeClient::CMSG_STAND_STATE_CHANGE" >CMSG_STAND_STATE_CHANGE</a>:                   <i>// not profiled</i></td></tr>
<tr><th id="1408">1408</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_RANDOM_ROLL" title='OpcodeClient::CMSG_RANDOM_ROLL' data-ref="OpcodeClient::CMSG_RANDOM_ROLL" >CMSG_RANDOM_ROLL</a>:                          <i>// not profiled</i></td></tr>
<tr><th id="1409">1409</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_TIME_SYNC_RESPONSE" title='OpcodeClient::CMSG_TIME_SYNC_RESPONSE' data-ref="OpcodeClient::CMSG_TIME_SYNC_RESPONSE" >CMSG_TIME_SYNC_RESPONSE</a>:                   <i>// not profiled</i></td></tr>
<tr><th id="1410">1410</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_MOVE_FORCE_RUN_SPEED_CHANGE_ACK" title='OpcodeClient::CMSG_MOVE_FORCE_RUN_SPEED_CHANGE_ACK' data-ref="OpcodeClient::CMSG_MOVE_FORCE_RUN_SPEED_CHANGE_ACK" >CMSG_MOVE_FORCE_RUN_SPEED_CHANGE_ACK</a>:      <i>// not profiled</i></td></tr>
<tr><th id="1411">1411</th><td>        {</td></tr>
<tr><th id="1412">1412</th><td>            <i>// "0" is a magic number meaning there's no limit for the opcode.</i></td></tr>
<tr><th id="1413">1413</th><td><i>            // All the opcodes above must cause little CPU usage and no sync/async database queries at all</i></td></tr>
<tr><th id="1414">1414</th><td>            <a class="local col1 ref" href="#191maxPacketCounterAllowed" title='maxPacketCounterAllowed' data-ref="191maxPacketCounterAllowed" >maxPacketCounterAllowed</a> = <var>0</var>;</td></tr>
<tr><th id="1415">1415</th><td>            <b>break</b>;</td></tr>
<tr><th id="1416">1416</th><td>        }</td></tr>
<tr><th id="1417">1417</th><td></td></tr>
<tr><th id="1418">1418</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUEST_GIVER_ACCEPT_QUEST" title='OpcodeClient::CMSG_QUEST_GIVER_ACCEPT_QUEST' data-ref="OpcodeClient::CMSG_QUEST_GIVER_ACCEPT_QUEST" >CMSG_QUEST_GIVER_ACCEPT_QUEST</a>:             <i>//   0               4</i></td></tr>
<tr><th id="1419">1419</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUEST_LOG_REMOVE_QUEST" title='OpcodeClient::CMSG_QUEST_LOG_REMOVE_QUEST' data-ref="OpcodeClient::CMSG_QUEST_LOG_REMOVE_QUEST" >CMSG_QUEST_LOG_REMOVE_QUEST</a>:               <i>//   0               4</i></td></tr>
<tr><th id="1420">1420</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUEST_GIVER_CHOOSE_REWARD" title='OpcodeClient::CMSG_QUEST_GIVER_CHOOSE_REWARD' data-ref="OpcodeClient::CMSG_QUEST_GIVER_CHOOSE_REWARD" >CMSG_QUEST_GIVER_CHOOSE_REWARD</a>:            <i>//   0               4</i></td></tr>
<tr><th id="1421">1421</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SEND_CONTACT_LIST" title='OpcodeClient::CMSG_SEND_CONTACT_LIST' data-ref="OpcodeClient::CMSG_SEND_CONTACT_LIST" >CMSG_SEND_CONTACT_LIST</a>:                    <i>//   0               5</i></td></tr>
<tr><th id="1422">1422</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_AUTOBANK_ITEM" title='OpcodeClient::CMSG_AUTOBANK_ITEM' data-ref="OpcodeClient::CMSG_AUTOBANK_ITEM" >CMSG_AUTOBANK_ITEM</a>:                        <i>//   0               6</i></td></tr>
<tr><th id="1423">1423</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_AUTOSTORE_BANK_ITEM" title='OpcodeClient::CMSG_AUTOSTORE_BANK_ITEM' data-ref="OpcodeClient::CMSG_AUTOSTORE_BANK_ITEM" >CMSG_AUTOSTORE_BANK_ITEM</a>:                  <i>//   0               6</i></td></tr>
<tr><th id="1424">1424</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_WHO" title='OpcodeClient::CMSG_WHO' data-ref="OpcodeClient::CMSG_WHO" >CMSG_WHO</a>:                                  <i>//   0               7</i></td></tr>
<tr><th id="1425">1425</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_RIDE_VEHICLE_INTERACT" title='OpcodeClient::CMSG_RIDE_VEHICLE_INTERACT' data-ref="OpcodeClient::CMSG_RIDE_VEHICLE_INTERACT" >CMSG_RIDE_VEHICLE_INTERACT</a>:                <i>//   0               8</i></td></tr>
<tr><th id="1426">1426</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_MOVE_HEARTBEAT" title='OpcodeClient::CMSG_MOVE_HEARTBEAT' data-ref="OpcodeClient::CMSG_MOVE_HEARTBEAT" >CMSG_MOVE_HEARTBEAT</a>:</td></tr>
<tr><th id="1427">1427</th><td>        {</td></tr>
<tr><th id="1428">1428</th><td>            <a class="local col1 ref" href="#191maxPacketCounterAllowed" title='maxPacketCounterAllowed' data-ref="191maxPacketCounterAllowed" >maxPacketCounterAllowed</a> = <var>200</var>;</td></tr>
<tr><th id="1429">1429</th><td>            <b>break</b>;</td></tr>
<tr><th id="1430">1430</th><td>        }</td></tr>
<tr><th id="1431">1431</th><td></td></tr>
<tr><th id="1432">1432</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_SET_MEMBER_NOTE" title='OpcodeClient::CMSG_GUILD_SET_MEMBER_NOTE' data-ref="OpcodeClient::CMSG_GUILD_SET_MEMBER_NOTE" >CMSG_GUILD_SET_MEMBER_NOTE</a>:                <i>//   1               2         1 async db query</i></td></tr>
<tr><th id="1433">1433</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SET_CONTACT_NOTES" title='OpcodeClient::CMSG_SET_CONTACT_NOTES' data-ref="OpcodeClient::CMSG_SET_CONTACT_NOTES" >CMSG_SET_CONTACT_NOTES</a>:                    <i>//   1               2.5       1 async db query</i></td></tr>
<tr><th id="1434">1434</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CALENDAR_GET" title='OpcodeClient::CMSG_CALENDAR_GET' data-ref="OpcodeClient::CMSG_CALENDAR_GET" >CMSG_CALENDAR_GET</a>:                         <i>//   0               1.5       medium upload bandwidth usage</i></td></tr>
<tr><th id="1435">1435</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_BANK_QUERY_TAB" title='OpcodeClient::CMSG_GUILD_BANK_QUERY_TAB' data-ref="OpcodeClient::CMSG_GUILD_BANK_QUERY_TAB" >CMSG_GUILD_BANK_QUERY_TAB</a>:                 <i>//   0               3.5       medium upload bandwidth usage</i></td></tr>
<tr><th id="1436">1436</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUERY_INSPECT_ACHIEVEMENTS" title='OpcodeClient::CMSG_QUERY_INSPECT_ACHIEVEMENTS' data-ref="OpcodeClient::CMSG_QUERY_INSPECT_ACHIEVEMENTS" >CMSG_QUERY_INSPECT_ACHIEVEMENTS</a>:           <i>//   0              13         high upload bandwidth usage</i></td></tr>
<tr><th id="1437">1437</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GAME_OBJ_REPORT_USE" title='OpcodeClient::CMSG_GAME_OBJ_REPORT_USE' data-ref="OpcodeClient::CMSG_GAME_OBJ_REPORT_USE" >CMSG_GAME_OBJ_REPORT_USE</a>:                  <i>// not profiled</i></td></tr>
<tr><th id="1438">1438</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GAME_OBJ_USE" title='OpcodeClient::CMSG_GAME_OBJ_USE' data-ref="OpcodeClient::CMSG_GAME_OBJ_USE" >CMSG_GAME_OBJ_USE</a>:                         <i>// not profiled</i></td></tr>
<tr><th id="1439">1439</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_DECLINE_PETITION" title='OpcodeClient::CMSG_DECLINE_PETITION' data-ref="OpcodeClient::CMSG_DECLINE_PETITION" >CMSG_DECLINE_PETITION</a>:                     <i>// not profiled</i></td></tr>
<tr><th id="1440">1440</th><td>        {</td></tr>
<tr><th id="1441">1441</th><td>            <a class="local col1 ref" href="#191maxPacketCounterAllowed" title='maxPacketCounterAllowed' data-ref="191maxPacketCounterAllowed" >maxPacketCounterAllowed</a> = <var>50</var>;</td></tr>
<tr><th id="1442">1442</th><td>            <b>break</b>;</td></tr>
<tr><th id="1443">1443</th><td>        }</td></tr>
<tr><th id="1444">1444</th><td></td></tr>
<tr><th id="1445">1445</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUEST_POI_QUERY" title='OpcodeClient::CMSG_QUEST_POI_QUERY' data-ref="OpcodeClient::CMSG_QUEST_POI_QUERY" >CMSG_QUEST_POI_QUERY</a>:                      <i>//   0              25         very high upload bandwidth usage</i></td></tr>
<tr><th id="1446">1446</th><td>        {</td></tr>
<tr><th id="1447">1447</th><td>            <a class="local col1 ref" href="#191maxPacketCounterAllowed" title='maxPacketCounterAllowed' data-ref="191maxPacketCounterAllowed" >maxPacketCounterAllowed</a> = <a class="macro" href="../Quests/QuestDef.h.html#43" title="25" data-ref="_M/MAX_QUEST_LOG_SIZE">MAX_QUEST_LOG_SIZE</a>;</td></tr>
<tr><th id="1448">1448</th><td>            <b>break</b>;</td></tr>
<tr><th id="1449">1449</th><td>        }</td></tr>
<tr><th id="1450">1450</th><td></td></tr>
<tr><th id="1451">1451</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SPELL_CLICK" title='OpcodeClient::CMSG_SPELL_CLICK' data-ref="OpcodeClient::CMSG_SPELL_CLICK" >CMSG_SPELL_CLICK</a>:                          <i>// not profiled</i></td></tr>
<tr><th id="1452">1452</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_MOVE_DISMISS_VEHICLE" title='OpcodeClient::CMSG_MOVE_DISMISS_VEHICLE' data-ref="OpcodeClient::CMSG_MOVE_DISMISS_VEHICLE" >CMSG_MOVE_DISMISS_VEHICLE</a>:                 <i>// not profiled</i></td></tr>
<tr><th id="1453">1453</th><td>        {</td></tr>
<tr><th id="1454">1454</th><td>            <a class="local col1 ref" href="#191maxPacketCounterAllowed" title='maxPacketCounterAllowed' data-ref="191maxPacketCounterAllowed" >maxPacketCounterAllowed</a> = <var>20</var>;</td></tr>
<tr><th id="1455">1455</th><td>            <b>break</b>;</td></tr>
<tr><th id="1456">1456</th><td>        }</td></tr>
<tr><th id="1457">1457</th><td></td></tr>
<tr><th id="1458">1458</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SIGN_PETITION" title='OpcodeClient::CMSG_SIGN_PETITION' data-ref="OpcodeClient::CMSG_SIGN_PETITION" >CMSG_SIGN_PETITION</a>:                        <i>//   9               4         2 sync 1 async db queries</i></td></tr>
<tr><th id="1459">1459</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_TURN_IN_PETITION" title='OpcodeClient::CMSG_TURN_IN_PETITION' data-ref="OpcodeClient::CMSG_TURN_IN_PETITION" >CMSG_TURN_IN_PETITION</a>:                     <i>//   8               5.5       2 sync db query</i></td></tr>
<tr><th id="1460">1460</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHANGE_SUB_GROUP" title='OpcodeClient::CMSG_CHANGE_SUB_GROUP' data-ref="OpcodeClient::CMSG_CHANGE_SUB_GROUP" >CMSG_CHANGE_SUB_GROUP</a>:                     <i>//   6               5         1 sync 1 async db queries</i></td></tr>
<tr><th id="1461">1461</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_QUERY_PETITION" title='OpcodeClient::CMSG_QUERY_PETITION' data-ref="OpcodeClient::CMSG_QUERY_PETITION" >CMSG_QUERY_PETITION</a>:                       <i>//   4               3.5       1 sync db query</i></td></tr>
<tr><th id="1462">1462</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAR_CUSTOMIZE" title='OpcodeClient::CMSG_CHAR_CUSTOMIZE' data-ref="OpcodeClient::CMSG_CHAR_CUSTOMIZE" >CMSG_CHAR_CUSTOMIZE</a>:                       <i>//   5               5         1 sync db query</i></td></tr>
<tr><th id="1463">1463</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAR_RACE_OR_FACTION_CHANGE" title='OpcodeClient::CMSG_CHAR_RACE_OR_FACTION_CHANGE' data-ref="OpcodeClient::CMSG_CHAR_RACE_OR_FACTION_CHANGE" >CMSG_CHAR_RACE_OR_FACTION_CHANGE</a>:          <i>//   5               5         1 sync db query</i></td></tr>
<tr><th id="1464">1464</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHAR_DELETE" title='OpcodeClient::CMSG_CHAR_DELETE' data-ref="OpcodeClient::CMSG_CHAR_DELETE" >CMSG_CHAR_DELETE</a>:                          <i>//   4               4         1 sync db query</i></td></tr>
<tr><th id="1465">1465</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_DEL_FRIEND" title='OpcodeClient::CMSG_DEL_FRIEND' data-ref="OpcodeClient::CMSG_DEL_FRIEND" >CMSG_DEL_FRIEND</a>:                           <i>//   7               5         1 async db query</i></td></tr>
<tr><th id="1466">1466</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_ADD_FRIEND" title='OpcodeClient::CMSG_ADD_FRIEND' data-ref="OpcodeClient::CMSG_ADD_FRIEND" >CMSG_ADD_FRIEND</a>:                           <i>//   6               4         1 async db query</i></td></tr>
<tr><th id="1467">1467</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CHARACTER_RENAME_REQUEST" title='OpcodeClient::CMSG_CHARACTER_RENAME_REQUEST' data-ref="OpcodeClient::CMSG_CHARACTER_RENAME_REQUEST" >CMSG_CHARACTER_RENAME_REQUEST</a>:             <i>//   5               3         1 async db query</i></td></tr>
<tr><th id="1468">1468</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_BUG_REPORT" title='OpcodeClient::CMSG_BUG_REPORT' data-ref="OpcodeClient::CMSG_BUG_REPORT" >CMSG_BUG_REPORT</a>:                           <i>//   1               1         1 async db query</i></td></tr>
<tr><th id="1469">1469</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SET_PARTY_LEADER" title='OpcodeClient::CMSG_SET_PARTY_LEADER' data-ref="OpcodeClient::CMSG_SET_PARTY_LEADER" >CMSG_SET_PARTY_LEADER</a>:                     <i>//   1               2         1 async db query</i></td></tr>
<tr><th id="1470">1470</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CONVERT_RAID" title='OpcodeClient::CMSG_CONVERT_RAID' data-ref="OpcodeClient::CMSG_CONVERT_RAID" >CMSG_CONVERT_RAID</a>:                         <i>//   1               5         1 async db query</i></td></tr>
<tr><th id="1471">1471</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SET_ASSISTANT_LEADER" title='OpcodeClient::CMSG_SET_ASSISTANT_LEADER' data-ref="OpcodeClient::CMSG_SET_ASSISTANT_LEADER" >CMSG_SET_ASSISTANT_LEADER</a>:                 <i>//   1               2         1 async db query</i></td></tr>
<tr><th id="1472">1472</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CALENDAR_ADD_EVENT" title='OpcodeClient::CMSG_CALENDAR_ADD_EVENT' data-ref="OpcodeClient::CMSG_CALENDAR_ADD_EVENT" >CMSG_CALENDAR_ADD_EVENT</a>:                   <i>//  21              10         2 async db query</i></td></tr>
<tr><th id="1473">1473</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_MOVE_CHANGE_VEHICLE_SEATS" title='OpcodeClient::CMSG_MOVE_CHANGE_VEHICLE_SEATS' data-ref="OpcodeClient::CMSG_MOVE_CHANGE_VEHICLE_SEATS" >CMSG_MOVE_CHANGE_VEHICLE_SEATS</a>:            <i>// not profiled</i></td></tr>
<tr><th id="1474">1474</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_PETITION_BUY" title='OpcodeClient::CMSG_PETITION_BUY' data-ref="OpcodeClient::CMSG_PETITION_BUY" >CMSG_PETITION_BUY</a>:                         <i>// not profiled                1 sync 1 async db queries</i></td></tr>
<tr><th id="1475">1475</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_REQUEST_VEHICLE_PREV_SEAT" title='OpcodeClient::CMSG_REQUEST_VEHICLE_PREV_SEAT' data-ref="OpcodeClient::CMSG_REQUEST_VEHICLE_PREV_SEAT" >CMSG_REQUEST_VEHICLE_PREV_SEAT</a>:            <i>// not profiled</i></td></tr>
<tr><th id="1476">1476</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_REQUEST_VEHICLE_NEXT_SEAT" title='OpcodeClient::CMSG_REQUEST_VEHICLE_NEXT_SEAT' data-ref="OpcodeClient::CMSG_REQUEST_VEHICLE_NEXT_SEAT" >CMSG_REQUEST_VEHICLE_NEXT_SEAT</a>:            <i>// not profiled</i></td></tr>
<tr><th id="1477">1477</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_REQUEST_VEHICLE_SWITCH_SEAT" title='OpcodeClient::CMSG_REQUEST_VEHICLE_SWITCH_SEAT' data-ref="OpcodeClient::CMSG_REQUEST_VEHICLE_SWITCH_SEAT" >CMSG_REQUEST_VEHICLE_SWITCH_SEAT</a>:          <i>// not profiled</i></td></tr>
<tr><th id="1478">1478</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_REQUEST_VEHICLE_EXIT" title='OpcodeClient::CMSG_REQUEST_VEHICLE_EXIT' data-ref="OpcodeClient::CMSG_REQUEST_VEHICLE_EXIT" >CMSG_REQUEST_VEHICLE_EXIT</a>:                 <i>// not profiled</i></td></tr>
<tr><th id="1479">1479</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_EJECT_PASSENGER" title='OpcodeClient::CMSG_EJECT_PASSENGER' data-ref="OpcodeClient::CMSG_EJECT_PASSENGER" >CMSG_EJECT_PASSENGER</a>:                      <i>// not profiled</i></td></tr>
<tr><th id="1480">1480</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_ITEM_PURCHASE_REFUND" title='OpcodeClient::CMSG_ITEM_PURCHASE_REFUND' data-ref="OpcodeClient::CMSG_ITEM_PURCHASE_REFUND" >CMSG_ITEM_PURCHASE_REFUND</a>:                 <i>// not profiled</i></td></tr>
<tr><th id="1481">1481</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SOCKET_GEMS" title='OpcodeClient::CMSG_SOCKET_GEMS' data-ref="OpcodeClient::CMSG_SOCKET_GEMS" >CMSG_SOCKET_GEMS</a>:                          <i>// not profiled</i></td></tr>
<tr><th id="1482">1482</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_WRAP_ITEM" title='OpcodeClient::CMSG_WRAP_ITEM' data-ref="OpcodeClient::CMSG_WRAP_ITEM" >CMSG_WRAP_ITEM</a>:                            <i>// not profiled</i></td></tr>
<tr><th id="1483">1483</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_REPORT_PVP_PLAYER_AFK" title='OpcodeClient::CMSG_REPORT_PVP_PLAYER_AFK' data-ref="OpcodeClient::CMSG_REPORT_PVP_PLAYER_AFK" >CMSG_REPORT_PVP_PLAYER_AFK</a>:                <i>// not profiled</i></td></tr>
<tr><th id="1484">1484</th><td>        {</td></tr>
<tr><th id="1485">1485</th><td>            <a class="local col1 ref" href="#191maxPacketCounterAllowed" title='maxPacketCounterAllowed' data-ref="191maxPacketCounterAllowed" >maxPacketCounterAllowed</a> = <var>10</var>;</td></tr>
<tr><th id="1486">1486</th><td>            <b>break</b>;</td></tr>
<tr><th id="1487">1487</th><td>        }</td></tr>
<tr><th id="1488">1488</th><td></td></tr>
<tr><th id="1489">1489</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CREATE_CHARACTER" title='OpcodeClient::CMSG_CREATE_CHARACTER' data-ref="OpcodeClient::CMSG_CREATE_CHARACTER" >CMSG_CREATE_CHARACTER</a>:                     <i>//   7               5         3 async db queries</i></td></tr>
<tr><th id="1490">1490</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_ENUM_CHARACTERS" title='OpcodeClient::CMSG_ENUM_CHARACTERS' data-ref="OpcodeClient::CMSG_ENUM_CHARACTERS" >CMSG_ENUM_CHARACTERS</a>:                      <i>//  22               3         2 async db queries</i></td></tr>
<tr><th id="1491">1491</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_ENUM_CHARACTERS_DELETED_BY_CLIENT" title='OpcodeClient::CMSG_ENUM_CHARACTERS_DELETED_BY_CLIENT' data-ref="OpcodeClient::CMSG_ENUM_CHARACTERS_DELETED_BY_CLIENT" >CMSG_ENUM_CHARACTERS_DELETED_BY_CLIENT</a>:    <i>//  22               3         2 async db queries</i></td></tr>
<tr><th id="1492">1492</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SUPPORT_TICKET_SUBMIT_BUG" title='OpcodeClient::CMSG_SUPPORT_TICKET_SUBMIT_BUG' data-ref="OpcodeClient::CMSG_SUPPORT_TICKET_SUBMIT_BUG" >CMSG_SUPPORT_TICKET_SUBMIT_BUG</a>:            <i>// not profiled                1 async db query</i></td></tr>
<tr><th id="1493">1493</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SUPPORT_TICKET_SUBMIT_SUGGESTION" title='OpcodeClient::CMSG_SUPPORT_TICKET_SUBMIT_SUGGESTION' data-ref="OpcodeClient::CMSG_SUPPORT_TICKET_SUBMIT_SUGGESTION" >CMSG_SUPPORT_TICKET_SUBMIT_SUGGESTION</a>:     <i>// not profiled                1 async db query</i></td></tr>
<tr><th id="1494">1494</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SUPPORT_TICKET_SUBMIT_COMPLAINT" title='OpcodeClient::CMSG_SUPPORT_TICKET_SUBMIT_COMPLAINT' data-ref="OpcodeClient::CMSG_SUPPORT_TICKET_SUBMIT_COMPLAINT" >CMSG_SUPPORT_TICKET_SUBMIT_COMPLAINT</a>:      <i>// not profiled                1 async db query</i></td></tr>
<tr><th id="1495">1495</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CALENDAR_UPDATE_EVENT" title='OpcodeClient::CMSG_CALENDAR_UPDATE_EVENT' data-ref="OpcodeClient::CMSG_CALENDAR_UPDATE_EVENT" >CMSG_CALENDAR_UPDATE_EVENT</a>:                <i>// not profiled</i></td></tr>
<tr><th id="1496">1496</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CALENDAR_REMOVE_EVENT" title='OpcodeClient::CMSG_CALENDAR_REMOVE_EVENT' data-ref="OpcodeClient::CMSG_CALENDAR_REMOVE_EVENT" >CMSG_CALENDAR_REMOVE_EVENT</a>:                <i>// not profiled</i></td></tr>
<tr><th id="1497">1497</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CALENDAR_COPY_EVENT" title='OpcodeClient::CMSG_CALENDAR_COPY_EVENT' data-ref="OpcodeClient::CMSG_CALENDAR_COPY_EVENT" >CMSG_CALENDAR_COPY_EVENT</a>:                  <i>// not profiled</i></td></tr>
<tr><th id="1498">1498</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CALENDAR_EVENT_INVITE" title='OpcodeClient::CMSG_CALENDAR_EVENT_INVITE' data-ref="OpcodeClient::CMSG_CALENDAR_EVENT_INVITE" >CMSG_CALENDAR_EVENT_INVITE</a>:                <i>// not profiled</i></td></tr>
<tr><th id="1499">1499</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CALENDAR_EVENT_SIGN_UP" title='OpcodeClient::CMSG_CALENDAR_EVENT_SIGN_UP' data-ref="OpcodeClient::CMSG_CALENDAR_EVENT_SIGN_UP" >CMSG_CALENDAR_EVENT_SIGN_UP</a>:               <i>// not profiled</i></td></tr>
<tr><th id="1500">1500</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CALENDAR_EVENT_RSVP" title='OpcodeClient::CMSG_CALENDAR_EVENT_RSVP' data-ref="OpcodeClient::CMSG_CALENDAR_EVENT_RSVP" >CMSG_CALENDAR_EVENT_RSVP</a>:                  <i>// not profiled</i></td></tr>
<tr><th id="1501">1501</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CALENDAR_EVENT_MODERATOR_STATUS" title='OpcodeClient::CMSG_CALENDAR_EVENT_MODERATOR_STATUS' data-ref="OpcodeClient::CMSG_CALENDAR_EVENT_MODERATOR_STATUS" >CMSG_CALENDAR_EVENT_MODERATOR_STATUS</a>:      <i>// not profiled</i></td></tr>
<tr><th id="1502">1502</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CALENDAR_REMOVE_INVITE" title='OpcodeClient::CMSG_CALENDAR_REMOVE_INVITE' data-ref="OpcodeClient::CMSG_CALENDAR_REMOVE_INVITE" >CMSG_CALENDAR_REMOVE_INVITE</a>:               <i>// not profiled</i></td></tr>
<tr><th id="1503">1503</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SET_LOOT_METHOD" title='OpcodeClient::CMSG_SET_LOOT_METHOD' data-ref="OpcodeClient::CMSG_SET_LOOT_METHOD" >CMSG_SET_LOOT_METHOD</a>:                      <i>// not profiled</i></td></tr>
<tr><th id="1504">1504</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_INVITE_BY_NAME" title='OpcodeClient::CMSG_GUILD_INVITE_BY_NAME' data-ref="OpcodeClient::CMSG_GUILD_INVITE_BY_NAME" >CMSG_GUILD_INVITE_BY_NAME</a>:                 <i>// not profiled</i></td></tr>
<tr><th id="1505">1505</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_ACCEPT_GUILD_INVITE" title='OpcodeClient::CMSG_ACCEPT_GUILD_INVITE' data-ref="OpcodeClient::CMSG_ACCEPT_GUILD_INVITE" >CMSG_ACCEPT_GUILD_INVITE</a>:                  <i>// not profiled</i></td></tr>
<tr><th id="1506">1506</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_DECLINE_INVITATION" title='OpcodeClient::CMSG_GUILD_DECLINE_INVITATION' data-ref="OpcodeClient::CMSG_GUILD_DECLINE_INVITATION" >CMSG_GUILD_DECLINE_INVITATION</a>:             <i>// not profiled</i></td></tr>
<tr><th id="1507">1507</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_LEAVE" title='OpcodeClient::CMSG_GUILD_LEAVE' data-ref="OpcodeClient::CMSG_GUILD_LEAVE" >CMSG_GUILD_LEAVE</a>:                          <i>// not profiled</i></td></tr>
<tr><th id="1508">1508</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_DELETE" title='OpcodeClient::CMSG_GUILD_DELETE' data-ref="OpcodeClient::CMSG_GUILD_DELETE" >CMSG_GUILD_DELETE</a>:                         <i>// not profiled</i></td></tr>
<tr><th id="1509">1509</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_SET_GUILD_MASTER" title='OpcodeClient::CMSG_GUILD_SET_GUILD_MASTER' data-ref="OpcodeClient::CMSG_GUILD_SET_GUILD_MASTER" >CMSG_GUILD_SET_GUILD_MASTER</a>:               <i>// not profiled</i></td></tr>
<tr><th id="1510">1510</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_UPDATE_MOTD_TEXT" title='OpcodeClient::CMSG_GUILD_UPDATE_MOTD_TEXT' data-ref="OpcodeClient::CMSG_GUILD_UPDATE_MOTD_TEXT" >CMSG_GUILD_UPDATE_MOTD_TEXT</a>:               <i>// not profiled</i></td></tr>
<tr><th id="1511">1511</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_SET_RANK_PERMISSIONS" title='OpcodeClient::CMSG_GUILD_SET_RANK_PERMISSIONS' data-ref="OpcodeClient::CMSG_GUILD_SET_RANK_PERMISSIONS" >CMSG_GUILD_SET_RANK_PERMISSIONS</a>:           <i>// not profiled</i></td></tr>
<tr><th id="1512">1512</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_ADD_RANK" title='OpcodeClient::CMSG_GUILD_ADD_RANK' data-ref="OpcodeClient::CMSG_GUILD_ADD_RANK" >CMSG_GUILD_ADD_RANK</a>:                       <i>// not profiled</i></td></tr>
<tr><th id="1513">1513</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_DELETE_RANK" title='OpcodeClient::CMSG_GUILD_DELETE_RANK' data-ref="OpcodeClient::CMSG_GUILD_DELETE_RANK" >CMSG_GUILD_DELETE_RANK</a>:                    <i>// not profiled</i></td></tr>
<tr><th id="1514">1514</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_UPDATE_INFO_TEXT" title='OpcodeClient::CMSG_GUILD_UPDATE_INFO_TEXT' data-ref="OpcodeClient::CMSG_GUILD_UPDATE_INFO_TEXT" >CMSG_GUILD_UPDATE_INFO_TEXT</a>:               <i>// not profiled</i></td></tr>
<tr><th id="1515">1515</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_BANK_DEPOSIT_MONEY" title='OpcodeClient::CMSG_GUILD_BANK_DEPOSIT_MONEY' data-ref="OpcodeClient::CMSG_GUILD_BANK_DEPOSIT_MONEY" >CMSG_GUILD_BANK_DEPOSIT_MONEY</a>:             <i>// not profiled</i></td></tr>
<tr><th id="1516">1516</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_BANK_WITHDRAW_MONEY" title='OpcodeClient::CMSG_GUILD_BANK_WITHDRAW_MONEY' data-ref="OpcodeClient::CMSG_GUILD_BANK_WITHDRAW_MONEY" >CMSG_GUILD_BANK_WITHDRAW_MONEY</a>:            <i>// not profiled</i></td></tr>
<tr><th id="1517">1517</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_BANK_BUY_TAB" title='OpcodeClient::CMSG_GUILD_BANK_BUY_TAB' data-ref="OpcodeClient::CMSG_GUILD_BANK_BUY_TAB" >CMSG_GUILD_BANK_BUY_TAB</a>:                   <i>// not profiled</i></td></tr>
<tr><th id="1518">1518</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_BANK_UPDATE_TAB" title='OpcodeClient::CMSG_GUILD_BANK_UPDATE_TAB' data-ref="OpcodeClient::CMSG_GUILD_BANK_UPDATE_TAB" >CMSG_GUILD_BANK_UPDATE_TAB</a>:                <i>// not profiled</i></td></tr>
<tr><th id="1519">1519</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GUILD_BANK_SET_TAB_TEXT" title='OpcodeClient::CMSG_GUILD_BANK_SET_TAB_TEXT' data-ref="OpcodeClient::CMSG_GUILD_BANK_SET_TAB_TEXT" >CMSG_GUILD_BANK_SET_TAB_TEXT</a>:              <i>// not profiled</i></td></tr>
<tr><th id="1520">1520</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SAVE_GUILD_EMBLEM" title='OpcodeClient::CMSG_SAVE_GUILD_EMBLEM' data-ref="OpcodeClient::CMSG_SAVE_GUILD_EMBLEM" >CMSG_SAVE_GUILD_EMBLEM</a>:                    <i>// not profiled</i></td></tr>
<tr><th id="1521">1521</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_PETITION_RENAME_GUILD" title='OpcodeClient::CMSG_PETITION_RENAME_GUILD' data-ref="OpcodeClient::CMSG_PETITION_RENAME_GUILD" >CMSG_PETITION_RENAME_GUILD</a>:                <i>// not profiled</i></td></tr>
<tr><th id="1522">1522</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_CONFIRM_RESPEC_WIPE" title='OpcodeClient::CMSG_CONFIRM_RESPEC_WIPE' data-ref="OpcodeClient::CMSG_CONFIRM_RESPEC_WIPE" >CMSG_CONFIRM_RESPEC_WIPE</a>:                  <i>// not profiled</i></td></tr>
<tr><th id="1523">1523</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SET_DUNGEON_DIFFICULTY" title='OpcodeClient::CMSG_SET_DUNGEON_DIFFICULTY' data-ref="OpcodeClient::CMSG_SET_DUNGEON_DIFFICULTY" >CMSG_SET_DUNGEON_DIFFICULTY</a>:               <i>// not profiled</i></td></tr>
<tr><th id="1524">1524</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SET_RAID_DIFFICULTY" title='OpcodeClient::CMSG_SET_RAID_DIFFICULTY' data-ref="OpcodeClient::CMSG_SET_RAID_DIFFICULTY" >CMSG_SET_RAID_DIFFICULTY</a>:                  <i>// not profiled</i></td></tr>
<tr><th id="1525">1525</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_SET_PARTY_ASSIGNMENT" title='OpcodeClient::CMSG_SET_PARTY_ASSIGNMENT' data-ref="OpcodeClient::CMSG_SET_PARTY_ASSIGNMENT" >CMSG_SET_PARTY_ASSIGNMENT</a>:                 <i>// not profiled</i></td></tr>
<tr><th id="1526">1526</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_DO_READY_CHECK" title='OpcodeClient::CMSG_DO_READY_CHECK' data-ref="OpcodeClient::CMSG_DO_READY_CHECK" >CMSG_DO_READY_CHECK</a>:                       <i>// not profiled</i></td></tr>
<tr><th id="1527">1527</th><td>        {</td></tr>
<tr><th id="1528">1528</th><td>            <a class="local col1 ref" href="#191maxPacketCounterAllowed" title='maxPacketCounterAllowed' data-ref="191maxPacketCounterAllowed" >maxPacketCounterAllowed</a> = <var>3</var>;</td></tr>
<tr><th id="1529">1529</th><td>            <b>break</b>;</td></tr>
<tr><th id="1530">1530</th><td>        }</td></tr>
<tr><th id="1531">1531</th><td></td></tr>
<tr><th id="1532">1532</th><td>        <b>case</b> <a class="enum" href="Protocol/Opcodes.h.html#OpcodeClient::CMSG_GET_ITEM_PURCHASE_DATA" title='OpcodeClient::CMSG_GET_ITEM_PURCHASE_DATA' data-ref="OpcodeClient::CMSG_GET_ITEM_PURCHASE_DATA" >CMSG_GET_ITEM_PURCHASE_DATA</a>:               <i>// not profiled</i></td></tr>
<tr><th id="1533">1533</th><td>        {</td></tr>
<tr><th id="1534">1534</th><td>            <a class="local col1 ref" href="#191maxPacketCounterAllowed" title='maxPacketCounterAllowed' data-ref="191maxPacketCounterAllowed" >maxPacketCounterAllowed</a> = <a class="enum" href="../Entities/Player/Player.h.html#PlayerSlots::PLAYER_SLOTS_COUNT" title='PlayerSlots::PLAYER_SLOTS_COUNT' data-ref="PlayerSlots::PLAYER_SLOTS_COUNT" id="PlayerSlots::PLAYER_SLOTS_COUNT" >PLAYER_SLOTS_COUNT</a>;</td></tr>
<tr><th id="1535">1535</th><td>            <b>break</b>;</td></tr>
<tr><th id="1536">1536</th><td>        }</td></tr>
<tr><th id="1537">1537</th><td>        <b>default</b>:</td></tr>
<tr><th id="1538">1538</th><td>        {</td></tr>
<tr><th id="1539">1539</th><td>            <a class="local col1 ref" href="#191maxPacketCounterAllowed" title='maxPacketCounterAllowed' data-ref="191maxPacketCounterAllowed" >maxPacketCounterAllowed</a> = <var>100</var>;</td></tr>
<tr><th id="1540">1540</th><td>            <b>break</b>;</td></tr>
<tr><th id="1541">1541</th><td>        }</td></tr>
<tr><th id="1542">1542</th><td>    }</td></tr>
<tr><th id="1543">1543</th><td></td></tr>
<tr><th id="1544">1544</th><td>    <b>return</b> <a class="local col1 ref" href="#191maxPacketCounterAllowed" title='maxPacketCounterAllowed' data-ref="191maxPacketCounterAllowed" >maxPacketCounterAllowed</a>;</td></tr>
<tr><th id="1545">1545</th><td>}</td></tr>
<tr><th id="1546">1546</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2016-Mar-09</em> from project TrinityCore6.x revision <em>6.x</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 1.8
</p>
</div></body></html>
