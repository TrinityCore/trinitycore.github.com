<!doctype html>
<html>
<head>
<title>CascCommon.h [TrinityCore6.x/dep/CascLib/src/CascCommon.h] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../../data/kdevelop.css" title="KDevelop"/>
<link rel="alternate stylesheet" href="../../../../../data/qtcreator.css" title="QtCreator"/>
<script type="text/javascript" src="../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'TrinityCore6.x/dep/CascLib/src/CascCommon.h'; var root_path = '../../../..'; var data_path = '../../../../../data';</script>
<script src='../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Source code of </span><a href='../../..'>TrinityCore6.x</a>/<a href='../..'>dep</a>/<a href='..'>CascLib</a>/<a href='./'>src</a>/CascCommon.h</h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*****************************************************************************/</i></td></tr>
<tr><th id="2">2</th><td><i>/* CascCommon.h                           Copyright (c) Ladislav Zezula 2014 */</i></td></tr>
<tr><th id="3">3</th><td><i>/*---------------------------------------------------------------------------*/</i></td></tr>
<tr><th id="4">4</th><td><i>/* Common functions for CascLib                                              */</i></td></tr>
<tr><th id="5">5</th><td><i>/*---------------------------------------------------------------------------*/</i></td></tr>
<tr><th id="6">6</th><td><i>/*   Date    Ver   Who  Comment                                              */</i></td></tr>
<tr><th id="7">7</th><td><i>/* --------  ----  ---  -------                                              */</i></td></tr>
<tr><th id="8">8</th><td><i>/* 29.04.14  1.00  Lad  The first version of CascCommon.h                    */</i></td></tr>
<tr><th id="9">9</th><td><i>/*****************************************************************************/</i></td></tr>
<tr><th id="10">10</th><td></td></tr>
<tr><th id="11">11</th><td><u>#<span data-ppcond="11">ifndef</span> <span class="macro" data-ref="_M/__CASCCOMMON_H__">__CASCCOMMON_H__</span></u></td></tr>
<tr><th id="12">12</th><td><u>#define <dfn class="macro" id="_M/__CASCCOMMON_H__" data-ref="_M/__CASCCOMMON_H__">__CASCCOMMON_H__</dfn></u></td></tr>
<tr><th id="13">13</th><td></td></tr>
<tr><th id="14">14</th><td><i>//-----------------------------------------------------------------------------</i></td></tr>
<tr><th id="15">15</th><td><i>// Compression support</i></td></tr>
<tr><th id="16">16</th><td><i></i></td></tr>
<tr><th id="17">17</th><td><i>// Include functions from zlib</i></td></tr>
<tr><th id="18">18</th><td><u>#<span data-ppcond="18">ifndef</span> <span class="macro" data-ref="_M/__SYS_ZLIB">__SYS_ZLIB</span></u></td></tr>
<tr><th id="19">19</th><td>  <u>#include <a href="../../zlib/zlib.h.html">"zlib/zlib.h"</a></u></td></tr>
<tr><th id="20">20</th><td><u>#<span data-ppcond="18">else</span></u></td></tr>
<tr><th id="21">21</th><td>  <u>#include &lt;zlib.h&gt;</u></td></tr>
<tr><th id="22">22</th><td><u>#<span data-ppcond="18">endif</span></u></td></tr>
<tr><th id="23">23</th><td></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="CascPort.h.html">"CascPort.h"</a></u></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="common/Common.h.html">"common/Common.h"</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="common/DynamicArray.h.html">"common/DynamicArray.h"</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="common/Map.h.html">"common/Map.h"</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="common/FileStream.h.html">"common/FileStream.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="common/Directory.h.html">"common/Directory.h"</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="common/ListFile.h.html">"common/ListFile.h"</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="common/DumpContext.h.html">"common/DumpContext.h"</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="common/RootHandler.h.html">"common/RootHandler.h"</a></u></td></tr>
<tr><th id="33">33</th><td></td></tr>
<tr><th id="34">34</th><td><i>// Headers from LibTomCrypt</i></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="libtomcrypt/src/headers/tomcrypt.h.html">"libtomcrypt/src/headers/tomcrypt.h"</a></u></td></tr>
<tr><th id="36">36</th><td></td></tr>
<tr><th id="37">37</th><td><i>// For HashStringJenkins</i></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="jenkins/lookup.h.html">"jenkins/lookup.h"</a></u></td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td><i>//-----------------------------------------------------------------------------</i></td></tr>
<tr><th id="41">41</th><td><i>// CascLib private defines</i></td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><u>#define <dfn class="macro" id="_M/CASC_GAME_HOTS" data-ref="_M/CASC_GAME_HOTS">CASC_GAME_HOTS</dfn>       0x00010000         // Heroes of the Storm</u></td></tr>
<tr><th id="44">44</th><td><u>#define <dfn class="macro" id="_M/CASC_GAME_WOW6" data-ref="_M/CASC_GAME_WOW6">CASC_GAME_WOW6</dfn>       0x00020000         // World of Warcraft - Warlords of Draenor</u></td></tr>
<tr><th id="45">45</th><td><u>#define <dfn class="macro" id="_M/CASC_GAME_DIABLO3" data-ref="_M/CASC_GAME_DIABLO3">CASC_GAME_DIABLO3</dfn>    0x00030000         // Diablo 3 since PTR 2.2.0</u></td></tr>
<tr><th id="46">46</th><td><u>#define <dfn class="macro" id="_M/CASC_GAME_OVERWATCH" data-ref="_M/CASC_GAME_OVERWATCH">CASC_GAME_OVERWATCH</dfn>  0x00040000         // Overwatch since PTR 24919</u></td></tr>
<tr><th id="47">47</th><td><u>#define <dfn class="macro" id="_M/CASC_GAME_STARCRAFT2" data-ref="_M/CASC_GAME_STARCRAFT2">CASC_GAME_STARCRAFT2</dfn> 0x00050000         // Starcraft II - Legacy of the Void, since build 38996</u></td></tr>
<tr><th id="48">48</th><td><u>#define <dfn class="macro" id="_M/CASC_GAME_MASK" data-ref="_M/CASC_GAME_MASK">CASC_GAME_MASK</dfn>       0xFFFF0000         // Mask for getting game ID</u></td></tr>
<tr><th id="49">49</th><td></td></tr>
<tr><th id="50">50</th><td><u>#define <dfn class="macro" id="_M/CASC_INDEX_COUNT" data-ref="_M/CASC_INDEX_COUNT">CASC_INDEX_COUNT</dfn>          0x10</u></td></tr>
<tr><th id="51">51</th><td><u>#define <dfn class="macro" id="_M/CASC_FILE_KEY_SIZE" data-ref="_M/CASC_FILE_KEY_SIZE">CASC_FILE_KEY_SIZE</dfn>        0x09          // Size of the file key</u></td></tr>
<tr><th id="52">52</th><td><u>#define <dfn class="macro" id="_M/CASC_MAX_DATA_FILES" data-ref="_M/CASC_MAX_DATA_FILES">CASC_MAX_DATA_FILES</dfn>      0x100</u></td></tr>
<tr><th id="53">53</th><td><u>#define <dfn class="macro" id="_M/CASC_EXTRA_FILES" data-ref="_M/CASC_EXTRA_FILES">CASC_EXTRA_FILES</dfn>          0x20          // Number of extra entries to be reserved for additionally inserted files</u></td></tr>
<tr><th id="54">54</th><td></td></tr>
<tr><th id="55">55</th><td><u>#define <dfn class="macro" id="_M/CASC_SEARCH_HAVE_NAME" data-ref="_M/CASC_SEARCH_HAVE_NAME">CASC_SEARCH_HAVE_NAME</dfn>   0x0001          // Indicated that previous search found a name</u></td></tr>
<tr><th id="56">56</th><td></td></tr>
<tr><th id="57">57</th><td><u>#define <dfn class="macro" id="_M/BLTE_HEADER_SIGNATURE" data-ref="_M/BLTE_HEADER_SIGNATURE">BLTE_HEADER_SIGNATURE</dfn>   0x45544C42      // 'BLTE' header in the data files</u></td></tr>
<tr><th id="58">58</th><td><u>#define <dfn class="macro" id="_M/BLTE_HEADER_DELTA" data-ref="_M/BLTE_HEADER_DELTA">BLTE_HEADER_DELTA</dfn>       0x1E            // Distance of BLTE header from begin of the header area</u></td></tr>
<tr><th id="59">59</th><td><u>#define <dfn class="macro" id="_M/MAX_HEADER_AREA_SIZE" data-ref="_M/MAX_HEADER_AREA_SIZE">MAX_HEADER_AREA_SIZE</dfn>    0x2A            // Length of the file header area</u></td></tr>
<tr><th id="60">60</th><td></td></tr>
<tr><th id="61">61</th><td><i>// File header area in the data.xxx:</i></td></tr>
<tr><th id="62">62</th><td><i>//  BYTE  HeaderHash[MD5_HASH_SIZE];            // MD5 of the frame array</i></td></tr>
<tr><th id="63">63</th><td><i>//  DWORD dwFileSize;                           // Size of the file (see comment before CascGetFileSize for details)</i></td></tr>
<tr><th id="64">64</th><td><i>//  BYTE  SomeSize[4];                          // Some size (big endian)</i></td></tr>
<tr><th id="65">65</th><td><i>//  BYTE  Padding[6];                           // Padding (?)</i></td></tr>
<tr><th id="66">66</th><td><i>//  DWORD dwSignature;                          // Must be "BLTE"</i></td></tr>
<tr><th id="67">67</th><td><i>//  BYTE  HeaderSizeAsBytes[4];                 // Header size in bytes (big endian)</i></td></tr>
<tr><th id="68">68</th><td><i>//  BYTE  MustBe0F;                             // Must be 0x0F. Optional, only if HeaderSizeAsBytes != 0</i></td></tr>
<tr><th id="69">69</th><td><i>//  BYTE  FrameCount[3];                        // Frame count (big endian). Optional, only if HeaderSizeAsBytes != 0</i></td></tr>
<tr><th id="70">70</th><td><i></i></td></tr>
<tr><th id="71">71</th><td><i>// Prevent problems with CRT "min" and "max" functions,</i></td></tr>
<tr><th id="72">72</th><td><i>// as they are not defined on all platforms</i></td></tr>
<tr><th id="73">73</th><td><u>#define <dfn class="macro" id="_M/CASCLIB_MIN" data-ref="_M/CASCLIB_MIN">CASCLIB_MIN</dfn>(a, b) ((a &lt; b) ? a : b)</u></td></tr>
<tr><th id="74">74</th><td><u>#define <dfn class="macro" id="_M/CASCLIB_MAX" data-ref="_M/CASCLIB_MAX">CASCLIB_MAX</dfn>(a, b) ((a &gt; b) ? a : b)</u></td></tr>
<tr><th id="75">75</th><td><u>#define <dfn class="macro" id="_M/CASCLIB_UNUSED" data-ref="_M/CASCLIB_UNUSED">CASCLIB_UNUSED</dfn>(p) ((void)(p))</u></td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td><u>#define <dfn class="macro" id="_M/CASC_PACKAGE_BUFFER" data-ref="_M/CASC_PACKAGE_BUFFER">CASC_PACKAGE_BUFFER</dfn>     0x1000</u></td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td><u>#<span data-ppcond="79">ifndef</span> <span class="macro" data-ref="_M/_maxchars">_maxchars</span></u></td></tr>
<tr><th id="80">80</th><td><u>#define <dfn class="macro" id="_M/_maxchars" data-ref="_M/_maxchars">_maxchars</dfn>(buff)  ((sizeof(buff) / sizeof(buff[0])) - 1)</u></td></tr>
<tr><th id="81">81</th><td><u>#<span data-ppcond="79">endif</span></u></td></tr>
<tr><th id="82">82</th><td></td></tr>
<tr><th id="83">83</th><td><i>//-----------------------------------------------------------------------------</i></td></tr>
<tr><th id="84">84</th><td><i>// In-memory structures</i></td></tr>
<tr><th id="85">85</th><td><i>// See <a href="http://pxr.dk/wowdev/wiki/index.php?title=CASC">http://pxr.dk/wowdev/wiki/index.php?title=CASC</a> for more information</i></td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td><b>struct</b> <a class="type" href="common/FileStream.h.html#TFileStream" title='TFileStream' data-ref="TFileStream" id="TFileStream" >TFileStream</a>;</td></tr>
<tr><th id="88">88</th><td></td></tr>
<tr><th id="89">89</th><td><b>typedef</b> <b>enum</b> <dfn class="type def" id="_CBLD_TYPE" title='_CBLD_TYPE' data-ref="_CBLD_TYPE" ><a class="type" href="#_CBLD_TYPE" title='_CBLD_TYPE' data-ref="_CBLD_TYPE" ><a class="type" href="#_CBLD_TYPE" title='_CBLD_TYPE' data-ref="_CBLD_TYPE" >_CBLD_TYPE</a></a></dfn></td></tr>
<tr><th id="90">90</th><td>{</td></tr>
<tr><th id="91">91</th><td>    <dfn class="enum" id="_CBLD_TYPE::CascBuildNone" title='_CBLD_TYPE::CascBuildNone' data-ref="_CBLD_TYPE::CascBuildNone" >CascBuildNone</dfn> = <var>0</var>,                              <i>// No build type found</i></td></tr>
<tr><th id="92">92</th><td>    <dfn class="enum" id="_CBLD_TYPE::CascBuildInfo" title='_CBLD_TYPE::CascBuildInfo' data-ref="_CBLD_TYPE::CascBuildInfo" >CascBuildInfo</dfn>,                                  <i>// .build.info</i></td></tr>
<tr><th id="93">93</th><td>    <dfn class="enum" id="_CBLD_TYPE::CascBuildDb" title='_CBLD_TYPE::CascBuildDb' data-ref="_CBLD_TYPE::CascBuildDb" >CascBuildDb</dfn>,                                    <i>// .build.db (older storages)</i></td></tr>
<tr><th id="94">94</th><td>} <dfn class="typedef" id="CBLD_TYPE" title='CBLD_TYPE' data-type='enum _CBLD_TYPE' data-ref="CBLD_TYPE" >CBLD_TYPE</dfn>, *<dfn class="typedef" id="PCBLD_TYPE" title='PCBLD_TYPE' data-type='enum _CBLD_TYPE *' data-ref="PCBLD_TYPE" >PCBLD_TYPE</dfn>;</td></tr>
<tr><th id="95">95</th><td></td></tr>
<tr><th id="96">96</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="_ENCODING_KEY" title='_ENCODING_KEY' data-ref="_ENCODING_KEY" ><a class="type" href="#_ENCODING_KEY" title='_ENCODING_KEY' data-ref="_ENCODING_KEY" ><a class="type" href="#_ENCODING_KEY" title='_ENCODING_KEY' data-ref="_ENCODING_KEY" >_ENCODING_KEY</a></a></dfn></td></tr>
<tr><th id="97">97</th><td>{</td></tr>
<tr><th id="98">98</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_ENCODING_KEY::Value" title='_ENCODING_KEY::Value' data-ref="_ENCODING_KEY::Value" >Value</dfn>[<a class="macro" href="CascLib.h.html#105" title="0x10" data-ref="_M/MD5_HASH_SIZE">MD5_HASH_SIZE</a>];                      <i>// MD5 of the file</i></td></tr>
<tr><th id="99">99</th><td></td></tr>
<tr><th id="100">100</th><td>} <dfn class="typedef" id="ENCODING_KEY" title='ENCODING_KEY' data-type='struct _ENCODING_KEY' data-ref="ENCODING_KEY" >ENCODING_KEY</dfn>, *<dfn class="typedef" id="PENCODING_KEY" title='PENCODING_KEY' data-type='struct _ENCODING_KEY *' data-ref="PENCODING_KEY" >PENCODING_KEY</dfn>;</td></tr>
<tr><th id="101">101</th><td></td></tr>
<tr><th id="102">102</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="_CASC_INDEX_ENTRY" title='_CASC_INDEX_ENTRY' data-ref="_CASC_INDEX_ENTRY" ><a class="type" href="#_CASC_INDEX_ENTRY" title='_CASC_INDEX_ENTRY' data-ref="_CASC_INDEX_ENTRY" ><a class="type" href="#_CASC_INDEX_ENTRY" title='_CASC_INDEX_ENTRY' data-ref="_CASC_INDEX_ENTRY" >_CASC_INDEX_ENTRY</a></a></dfn></td></tr>
<tr><th id="103">103</th><td>{</td></tr>
<tr><th id="104">104</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_INDEX_ENTRY::IndexKey" title='_CASC_INDEX_ENTRY::IndexKey' data-ref="_CASC_INDEX_ENTRY::IndexKey" >IndexKey</dfn>[<a class="macro" href="#51" title="0x09" data-ref="_M/CASC_FILE_KEY_SIZE">CASC_FILE_KEY_SIZE</a>];              <i>// The first 9 bytes of the encoding key</i></td></tr>
<tr><th id="105">105</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_INDEX_ENTRY::FileOffsetBE" title='_CASC_INDEX_ENTRY::FileOffsetBE' data-ref="_CASC_INDEX_ENTRY::FileOffsetBE" >FileOffsetBE</dfn>[<var>5</var>];                           <i>// Index of data file and offset within (big endian).</i></td></tr>
<tr><th id="106">106</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_INDEX_ENTRY::FileSizeLE" title='_CASC_INDEX_ENTRY::FileSizeLE' data-ref="_CASC_INDEX_ENTRY::FileSizeLE" >FileSizeLE</dfn>[<var>4</var>];                             <i>// Size occupied in the storage file (data.###). See comment before CascGetFileSize for details</i></td></tr>
<tr><th id="107">107</th><td>} <dfn class="typedef" id="CASC_INDEX_ENTRY" title='CASC_INDEX_ENTRY' data-type='struct _CASC_INDEX_ENTRY' data-ref="CASC_INDEX_ENTRY" >CASC_INDEX_ENTRY</dfn>, *<dfn class="typedef" id="PCASC_INDEX_ENTRY" title='PCASC_INDEX_ENTRY' data-type='struct _CASC_INDEX_ENTRY *' data-ref="PCASC_INDEX_ENTRY" >PCASC_INDEX_ENTRY</dfn>;</td></tr>
<tr><th id="108">108</th><td></td></tr>
<tr><th id="109">109</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="_CASC_MAPPING_TABLE" title='_CASC_MAPPING_TABLE' data-ref="_CASC_MAPPING_TABLE" ><a class="type" href="#_CASC_MAPPING_TABLE" title='_CASC_MAPPING_TABLE' data-ref="_CASC_MAPPING_TABLE" ><a class="type" href="#_CASC_MAPPING_TABLE" title='_CASC_MAPPING_TABLE' data-ref="_CASC_MAPPING_TABLE" >_CASC_MAPPING_TABLE</a></a></dfn></td></tr>
<tr><th id="110">110</th><td>{</td></tr>
<tr><th id="111">111</th><td>    <a class="typedef" href="CascPort.h.html#TCHAR" title='TCHAR' data-type='char' data-ref="TCHAR" >TCHAR</a> * <dfn class="decl" id="_CASC_MAPPING_TABLE::szFileName" title='_CASC_MAPPING_TABLE::szFileName' data-ref="_CASC_MAPPING_TABLE::szFileName" >szFileName</dfn>;                             <i>// Name of the key mapping file</i></td></tr>
<tr><th id="112">112</th><td>    <a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a>  <dfn class="decl" id="_CASC_MAPPING_TABLE::pbFileData" title='_CASC_MAPPING_TABLE::pbFileData' data-ref="_CASC_MAPPING_TABLE::pbFileData" >pbFileData</dfn>;                             <i>// Pointer to the file data</i></td></tr>
<tr><th id="113">113</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a>   <dfn class="decl" id="_CASC_MAPPING_TABLE::cbFileData" title='_CASC_MAPPING_TABLE::cbFileData' data-ref="_CASC_MAPPING_TABLE::cbFileData" >cbFileData</dfn>;                             <i>// Length of the file data</i></td></tr>
<tr><th id="114">114</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a>   <dfn class="decl" id="_CASC_MAPPING_TABLE::ExtraBytes" title='_CASC_MAPPING_TABLE::ExtraBytes' data-ref="_CASC_MAPPING_TABLE::ExtraBytes" >ExtraBytes</dfn>;                              <i>// (?) Extra bytes in the key record</i></td></tr>
<tr><th id="115">115</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a>   <dfn class="decl" id="_CASC_MAPPING_TABLE::SpanSizeBytes" title='_CASC_MAPPING_TABLE::SpanSizeBytes' data-ref="_CASC_MAPPING_TABLE::SpanSizeBytes" >SpanSizeBytes</dfn>;                           <i>// Size of field with file size</i></td></tr>
<tr><th id="116">116</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a>   <dfn class="decl" id="_CASC_MAPPING_TABLE::SpanOffsBytes" title='_CASC_MAPPING_TABLE::SpanOffsBytes' data-ref="_CASC_MAPPING_TABLE::SpanOffsBytes" >SpanOffsBytes</dfn>;                           <i>// Size of field with file offset</i></td></tr>
<tr><th id="117">117</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a>   <dfn class="decl" id="_CASC_MAPPING_TABLE::KeyBytes" title='_CASC_MAPPING_TABLE::KeyBytes' data-ref="_CASC_MAPPING_TABLE::KeyBytes" >KeyBytes</dfn>;                                <i>// Size of the file key</i></td></tr>
<tr><th id="118">118</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a>   <dfn class="decl" id="_CASC_MAPPING_TABLE::SegmentBits" title='_CASC_MAPPING_TABLE::SegmentBits' data-ref="_CASC_MAPPING_TABLE::SegmentBits" >SegmentBits</dfn>;                             <i>// Number of bits for the file offset (rest is archive index)</i></td></tr>
<tr><th id="119">119</th><td>    <a class="typedef" href="CascPort.h.html#ULONGLONG" title='ULONGLONG' data-type='unsigned long long' data-ref="ULONGLONG" >ULONGLONG</a> <dfn class="decl" id="_CASC_MAPPING_TABLE::MaxFileOffset" title='_CASC_MAPPING_TABLE::MaxFileOffset' data-ref="_CASC_MAPPING_TABLE::MaxFileOffset" >MaxFileOffset</dfn>;</td></tr>
<tr><th id="120">120</th><td>        </td></tr>
<tr><th id="121">121</th><td>    <a class="typedef" href="#PCASC_INDEX_ENTRY" title='PCASC_INDEX_ENTRY' data-type='struct _CASC_INDEX_ENTRY *' data-ref="PCASC_INDEX_ENTRY" >PCASC_INDEX_ENTRY</a> <dfn class="decl" id="_CASC_MAPPING_TABLE::pIndexEntries" title='_CASC_MAPPING_TABLE::pIndexEntries' data-ref="_CASC_MAPPING_TABLE::pIndexEntries" >pIndexEntries</dfn>;                <i>// Sorted array of index entries</i></td></tr>
<tr><th id="122">122</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_CASC_MAPPING_TABLE::nIndexEntries" title='_CASC_MAPPING_TABLE::nIndexEntries' data-ref="_CASC_MAPPING_TABLE::nIndexEntries" >nIndexEntries</dfn>;                            <i>// Number of index entries</i></td></tr>
<tr><th id="123">123</th><td></td></tr>
<tr><th id="124">124</th><td>} <dfn class="typedef" id="CASC_MAPPING_TABLE" title='CASC_MAPPING_TABLE' data-type='struct _CASC_MAPPING_TABLE' data-ref="CASC_MAPPING_TABLE" >CASC_MAPPING_TABLE</dfn>, *<dfn class="typedef" id="PCASC_MAPPING_TABLE" title='PCASC_MAPPING_TABLE' data-type='struct _CASC_MAPPING_TABLE *' data-ref="PCASC_MAPPING_TABLE" >PCASC_MAPPING_TABLE</dfn>;</td></tr>
<tr><th id="125">125</th><td></td></tr>
<tr><th id="126">126</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="_CASC_FILE_FRAME" title='_CASC_FILE_FRAME' data-ref="_CASC_FILE_FRAME" ><a class="type" href="#_CASC_FILE_FRAME" title='_CASC_FILE_FRAME' data-ref="_CASC_FILE_FRAME" ><a class="type" href="#_CASC_FILE_FRAME" title='_CASC_FILE_FRAME' data-ref="_CASC_FILE_FRAME" >_CASC_FILE_FRAME</a></a></dfn></td></tr>
<tr><th id="127">127</th><td>{</td></tr>
<tr><th id="128">128</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_CASC_FILE_FRAME::FrameArchiveOffset" title='_CASC_FILE_FRAME::FrameArchiveOffset' data-ref="_CASC_FILE_FRAME::FrameArchiveOffset" >FrameArchiveOffset</dfn>;                       <i>// Archive file pointer corresponding to the begin of the frame</i></td></tr>
<tr><th id="129">129</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_CASC_FILE_FRAME::FrameFileOffset" title='_CASC_FILE_FRAME::FrameFileOffset' data-ref="_CASC_FILE_FRAME::FrameFileOffset" >FrameFileOffset</dfn>;                          <i>// File pointer corresponding to the begin of the frame</i></td></tr>
<tr><th id="130">130</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_CASC_FILE_FRAME::CompressedSize" title='_CASC_FILE_FRAME::CompressedSize' data-ref="_CASC_FILE_FRAME::CompressedSize" >CompressedSize</dfn>;                           <i>// Compressed size of the file</i></td></tr>
<tr><th id="131">131</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_CASC_FILE_FRAME::FrameSize" title='_CASC_FILE_FRAME::FrameSize' data-ref="_CASC_FILE_FRAME::FrameSize" >FrameSize</dfn>;                                <i>// Size of the frame</i></td></tr>
<tr><th id="132">132</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a>  <dfn class="decl" id="_CASC_FILE_FRAME::md5" title='_CASC_FILE_FRAME::md5' data-ref="_CASC_FILE_FRAME::md5" >md5</dfn>[<a class="macro" href="CascLib.h.html#105" title="0x10" data-ref="_M/MD5_HASH_SIZE">MD5_HASH_SIZE</a>];                       <i>// MD5 hash of the file sector</i></td></tr>
<tr><th id="133">133</th><td>} <dfn class="typedef" id="CASC_FILE_FRAME" title='CASC_FILE_FRAME' data-type='struct _CASC_FILE_FRAME' data-ref="CASC_FILE_FRAME" >CASC_FILE_FRAME</dfn>, *<dfn class="typedef" id="PCASC_FILE_FRAME" title='PCASC_FILE_FRAME' data-type='struct _CASC_FILE_FRAME *' data-ref="PCASC_FILE_FRAME" >PCASC_FILE_FRAME</dfn>;</td></tr>
<tr><th id="134">134</th><td></td></tr>
<tr><th id="135">135</th><td><i>// The encoding file is in the form of:</i></td></tr>
<tr><th id="136">136</th><td><i>// * File header</i></td></tr>
<tr><th id="137">137</th><td><i>// * String block #1</i></td></tr>
<tr><th id="138">138</th><td><i>// * Table A header</i></td></tr>
<tr><th id="139">139</th><td><i>// * Table A entries</i></td></tr>
<tr><th id="140">140</th><td><i>// * Table B header</i></td></tr>
<tr><th id="141">141</th><td><i>// * Table B entries</i></td></tr>
<tr><th id="142">142</th><td><i>// * String block #2</i></td></tr>
<tr><th id="143">143</th><td><i>// <a href="http://pxr.dk/wowdev/wiki/index.php?title=CASC#Key_CASC_Files">http://pxr.dk/wowdev/wiki/index.php?title=CASC#Key_CASC_Files</a></i></td></tr>
<tr><th id="144">144</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="_CASC_ENCODING_HEADER" title='_CASC_ENCODING_HEADER' data-ref="_CASC_ENCODING_HEADER" ><a class="type" href="#_CASC_ENCODING_HEADER" title='_CASC_ENCODING_HEADER' data-ref="_CASC_ENCODING_HEADER" ><a class="type" href="#_CASC_ENCODING_HEADER" title='_CASC_ENCODING_HEADER' data-ref="_CASC_ENCODING_HEADER" >_CASC_ENCODING_HEADER</a></a></dfn></td></tr>
<tr><th id="145">145</th><td>{</td></tr>
<tr><th id="146">146</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_ENCODING_HEADER::Magic" title='_CASC_ENCODING_HEADER::Magic' data-ref="_CASC_ENCODING_HEADER::Magic" >Magic</dfn>[<var>2</var>];                                  <i>// "EN"</i></td></tr>
<tr><th id="147">147</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_ENCODING_HEADER::Version" title='_CASC_ENCODING_HEADER::Version' data-ref="_CASC_ENCODING_HEADER::Version" >Version</dfn>;                                   <i>// Expected to be 1 by CascLib</i></td></tr>
<tr><th id="148">148</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_ENCODING_HEADER::ChecksumSizeA" title='_CASC_ENCODING_HEADER::ChecksumSizeA' data-ref="_CASC_ENCODING_HEADER::ChecksumSizeA" >ChecksumSizeA</dfn>;                             <i>// The length of the checksums in Encoding Table</i></td></tr>
<tr><th id="149">149</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_ENCODING_HEADER::ChecksumSizeB" title='_CASC_ENCODING_HEADER::ChecksumSizeB' data-ref="_CASC_ENCODING_HEADER::ChecksumSizeB" >ChecksumSizeB</dfn>;                             <i>// The length of the checksums in Encoding Layout Table</i></td></tr>
<tr><th id="150">150</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_ENCODING_HEADER::Flags_TableA" title='_CASC_ENCODING_HEADER::Flags_TableA' data-ref="_CASC_ENCODING_HEADER::Flags_TableA" >Flags_TableA</dfn>[<var>2</var>];                           <i>// Flags for Encoding Table</i></td></tr>
<tr><th id="151">151</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_ENCODING_HEADER::Flags_TableB" title='_CASC_ENCODING_HEADER::Flags_TableB' data-ref="_CASC_ENCODING_HEADER::Flags_TableB" >Flags_TableB</dfn>[<var>2</var>];                           <i>// Flags for Encoding Layout Table</i></td></tr>
<tr><th id="152">152</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_ENCODING_HEADER::Entries_TableA" title='_CASC_ENCODING_HEADER::Entries_TableA' data-ref="_CASC_ENCODING_HEADER::Entries_TableA" >Entries_TableA</dfn>[<var>4</var>];                         <i>// Number of segments in Encoding Table (big endian)</i></td></tr>
<tr><th id="153">153</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_ENCODING_HEADER::Entries_TableB" title='_CASC_ENCODING_HEADER::Entries_TableB' data-ref="_CASC_ENCODING_HEADER::Entries_TableB" >Entries_TableB</dfn>[<var>4</var>];                         <i>// Number of segments in Encoding Layout Table (big endian)</i></td></tr>
<tr><th id="154">154</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_ENCODING_HEADER::field_11" title='_CASC_ENCODING_HEADER::field_11' data-ref="_CASC_ENCODING_HEADER::field_11" >field_11</dfn>;</td></tr>
<tr><th id="155">155</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_ENCODING_HEADER::Size_StringTable1" title='_CASC_ENCODING_HEADER::Size_StringTable1' data-ref="_CASC_ENCODING_HEADER::Size_StringTable1" >Size_StringTable1</dfn>[<var>4</var>];                      <i>// Size of the string block #1</i></td></tr>
<tr><th id="156">156</th><td></td></tr>
<tr><th id="157">157</th><td>} <dfn class="typedef" id="CASC_ENCODING_HEADER" title='CASC_ENCODING_HEADER' data-type='struct _CASC_ENCODING_HEADER' data-ref="CASC_ENCODING_HEADER" >CASC_ENCODING_HEADER</dfn>, *<dfn class="typedef" id="PCASC_ENCODING_HEADER" title='PCASC_ENCODING_HEADER' data-type='struct _CASC_ENCODING_HEADER *' data-ref="PCASC_ENCODING_HEADER" >PCASC_ENCODING_HEADER</dfn>;</td></tr>
<tr><th id="158">158</th><td></td></tr>
<tr><th id="159">159</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="_CASC_ENCODING_ENTRY" title='_CASC_ENCODING_ENTRY' data-ref="_CASC_ENCODING_ENTRY" ><a class="type" href="#_CASC_ENCODING_ENTRY" title='_CASC_ENCODING_ENTRY' data-ref="_CASC_ENCODING_ENTRY" ><a class="type" href="#_CASC_ENCODING_ENTRY" title='_CASC_ENCODING_ENTRY' data-ref="_CASC_ENCODING_ENTRY" >_CASC_ENCODING_ENTRY</a></a></dfn></td></tr>
<tr><th id="160">160</th><td>{</td></tr>
<tr><th id="161">161</th><td>    <a class="typedef" href="CascPort.h.html#USHORT" title='USHORT' data-type='unsigned short' data-ref="USHORT" >USHORT</a> <dfn class="decl" id="_CASC_ENCODING_ENTRY::KeyCount" title='_CASC_ENCODING_ENTRY::KeyCount' data-ref="_CASC_ENCODING_ENTRY::KeyCount" >KeyCount</dfn>;                                <i>// Number of index keys</i></td></tr>
<tr><th id="162">162</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_ENCODING_ENTRY::FileSizeBE" title='_CASC_ENCODING_ENTRY::FileSizeBE' data-ref="_CASC_ENCODING_ENTRY::FileSizeBE" >FileSizeBE</dfn>[<var>4</var>];                             <i>// Compressed file size (header area + frame headers + compressed frames), in bytes</i></td></tr>
<tr><th id="163">163</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_ENCODING_ENTRY::EncodingKey" title='_CASC_ENCODING_ENTRY::EncodingKey' data-ref="_CASC_ENCODING_ENTRY::EncodingKey" >EncodingKey</dfn>[<a class="macro" href="CascLib.h.html#105" title="0x10" data-ref="_M/MD5_HASH_SIZE">MD5_HASH_SIZE</a>];                <i>// File encoding key</i></td></tr>
<tr><th id="164">164</th><td></td></tr>
<tr><th id="165">165</th><td>    <i>// Followed by the index keys</i></td></tr>
<tr><th id="166">166</th><td><i>    // (number of items = KeyCount)</i></td></tr>
<tr><th id="167">167</th><td><i>    // Followed by the index keys (number of items = KeyCount)</i></td></tr>
<tr><th id="168">168</th><td>} <dfn class="typedef" id="CASC_ENCODING_ENTRY" title='CASC_ENCODING_ENTRY' data-type='struct _CASC_ENCODING_ENTRY' data-ref="CASC_ENCODING_ENTRY" >CASC_ENCODING_ENTRY</dfn>, *<dfn class="typedef" id="PCASC_ENCODING_ENTRY" title='PCASC_ENCODING_ENTRY' data-type='struct _CASC_ENCODING_ENTRY *' data-ref="PCASC_ENCODING_ENTRY" >PCASC_ENCODING_ENTRY</dfn>;</td></tr>
<tr><th id="169">169</th><td></td></tr>
<tr><th id="170">170</th><td><i>// A version of CASC_ENCODING_ENTRY with one index key</i></td></tr>
<tr><th id="171">171</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="_CASC_ENCODING_ENTRY_1" title='_CASC_ENCODING_ENTRY_1' data-ref="_CASC_ENCODING_ENTRY_1" ><a class="type" href="#_CASC_ENCODING_ENTRY_1" title='_CASC_ENCODING_ENTRY_1' data-ref="_CASC_ENCODING_ENTRY_1" ><a class="type" href="#_CASC_ENCODING_ENTRY_1" title='_CASC_ENCODING_ENTRY_1' data-ref="_CASC_ENCODING_ENTRY_1" >_CASC_ENCODING_ENTRY_1</a></a></dfn></td></tr>
<tr><th id="172">172</th><td>{</td></tr>
<tr><th id="173">173</th><td>    <a class="typedef" href="CascPort.h.html#USHORT" title='USHORT' data-type='unsigned short' data-ref="USHORT" >USHORT</a> <dfn class="decl" id="_CASC_ENCODING_ENTRY_1::KeyCount" title='_CASC_ENCODING_ENTRY_1::KeyCount' data-ref="_CASC_ENCODING_ENTRY_1::KeyCount" >KeyCount</dfn>;                                <i>// Number of index keys</i></td></tr>
<tr><th id="174">174</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_ENCODING_ENTRY_1::FileSizeBE" title='_CASC_ENCODING_ENTRY_1::FileSizeBE' data-ref="_CASC_ENCODING_ENTRY_1::FileSizeBE" >FileSizeBE</dfn>[<var>4</var>];                             <i>// Compressed file size (header area + frame headers + compressed frames), in bytes</i></td></tr>
<tr><th id="175">175</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_ENCODING_ENTRY_1::EncodingKey" title='_CASC_ENCODING_ENTRY_1::EncodingKey' data-ref="_CASC_ENCODING_ENTRY_1::EncodingKey" >EncodingKey</dfn>[<a class="macro" href="CascLib.h.html#105" title="0x10" data-ref="_M/MD5_HASH_SIZE">MD5_HASH_SIZE</a>];                <i>// File encoding key</i></td></tr>
<tr><th id="176">176</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_CASC_ENCODING_ENTRY_1::IndexKey" title='_CASC_ENCODING_ENTRY_1::IndexKey' data-ref="_CASC_ENCODING_ENTRY_1::IndexKey" >IndexKey</dfn>[<a class="macro" href="CascLib.h.html#105" title="0x10" data-ref="_M/MD5_HASH_SIZE">MD5_HASH_SIZE</a>];                   <i>// File index key</i></td></tr>
<tr><th id="177">177</th><td></td></tr>
<tr><th id="178">178</th><td>} <dfn class="typedef" id="CASC_ENCODING_ENTRY_1" title='CASC_ENCODING_ENTRY_1' data-type='struct _CASC_ENCODING_ENTRY_1' data-ref="CASC_ENCODING_ENTRY_1" >CASC_ENCODING_ENTRY_1</dfn>, *<dfn class="typedef" id="PCASC_ENCODING_ENTRY_1" title='PCASC_ENCODING_ENTRY_1' data-type='struct _CASC_ENCODING_ENTRY_1 *' data-ref="PCASC_ENCODING_ENTRY_1" >PCASC_ENCODING_ENTRY_1</dfn>;</td></tr>
<tr><th id="179">179</th><td></td></tr>
<tr><th id="180">180</th><td><u>#define <dfn class="macro" id="_M/GET_INDEX_KEY" data-ref="_M/GET_INDEX_KEY">GET_INDEX_KEY</dfn>(pEncodingEntry)  (pEncodingEntry-&gt;EncodingKey + MD5_HASH_SIZE)</u></td></tr>
<tr><th id="181">181</th><td><u>#define <dfn class="macro" id="_M/FAKE_ENCODING_ENTRY_SIZE" data-ref="_M/FAKE_ENCODING_ENTRY_SIZE">FAKE_ENCODING_ENTRY_SIZE</dfn>  (sizeof(CASC_ENCODING_ENTRY) + MD5_HASH_SIZE)</u></td></tr>
<tr><th id="182">182</th><td></td></tr>
<tr><th id="183">183</th><td><i>//-----------------------------------------------------------------------------</i></td></tr>
<tr><th id="184">184</th><td><i>// Structures for CASC storage and CASC file</i></td></tr>
<tr><th id="185">185</th><td></td></tr>
<tr><th id="186">186</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="_TCascStorage" title='_TCascStorage' data-ref="_TCascStorage" ><a class="type" href="#_TCascStorage" title='_TCascStorage' data-ref="_TCascStorage" >_TCascStorage</a></dfn></td></tr>
<tr><th id="187">187</th><td>{</td></tr>
<tr><th id="188">188</th><td>    <em>const</em> <em>char</em> * <dfn class="decl" id="_TCascStorage::szClassName" title='_TCascStorage::szClassName' data-ref="_TCascStorage::szClassName" >szClassName</dfn>;                       <i>// "TCascStorage"</i></td></tr>
<tr><th id="189">189</th><td>    <em>const</em> <a class="typedef" href="CascPort.h.html#TCHAR" title='TCHAR' data-type='char' data-ref="TCHAR" >TCHAR</a> * <dfn class="decl" id="_TCascStorage::szIndexFormat" title='_TCascStorage::szIndexFormat' data-ref="_TCascStorage::szIndexFormat" >szIndexFormat</dfn>;                    <i>// Format of the index file name</i></td></tr>
<tr><th id="190">190</th><td>    <a class="typedef" href="CascPort.h.html#TCHAR" title='TCHAR' data-type='char' data-ref="TCHAR" >TCHAR</a> * <dfn class="decl" id="_TCascStorage::szRootPath" title='_TCascStorage::szRootPath' data-ref="_TCascStorage::szRootPath" >szRootPath</dfn>;                             <i>// This is the game directory</i></td></tr>
<tr><th id="191">191</th><td>    <a class="typedef" href="CascPort.h.html#TCHAR" title='TCHAR' data-type='char' data-ref="TCHAR" >TCHAR</a> * <dfn class="decl" id="_TCascStorage::szDataPath" title='_TCascStorage::szDataPath' data-ref="_TCascStorage::szDataPath" >szDataPath</dfn>;                             <i>// This is the directory where data files are</i></td></tr>
<tr><th id="192">192</th><td>    <a class="typedef" href="CascPort.h.html#TCHAR" title='TCHAR' data-type='char' data-ref="TCHAR" >TCHAR</a> * <dfn class="decl" id="_TCascStorage::szBuildFile" title='_TCascStorage::szBuildFile' data-ref="_TCascStorage::szBuildFile" >szBuildFile</dfn>;                            <i>// Build file name (.build.info or .build.db)</i></td></tr>
<tr><th id="193">193</th><td>    <a class="typedef" href="CascPort.h.html#TCHAR" title='TCHAR' data-type='char' data-ref="TCHAR" >TCHAR</a> * <dfn class="decl" id="_TCascStorage::szIndexPath" title='_TCascStorage::szIndexPath' data-ref="_TCascStorage::szIndexPath" >szIndexPath</dfn>;                            <i>// This is the directory where index files are</i></td></tr>
<tr><th id="194">194</th><td>    <a class="typedef" href="CascPort.h.html#TCHAR" title='TCHAR' data-type='char' data-ref="TCHAR" >TCHAR</a> * <dfn class="decl" id="_TCascStorage::szUrlPath" title='_TCascStorage::szUrlPath' data-ref="_TCascStorage::szUrlPath" >szUrlPath</dfn>;                              <i>// URL to the Blizzard servers</i></td></tr>
<tr><th id="195">195</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascStorage::dwRefCount" title='_TCascStorage::dwRefCount' data-ref="_TCascStorage::dwRefCount" >dwRefCount</dfn>;                               <i>// Number of references</i></td></tr>
<tr><th id="196">196</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascStorage::dwGameInfo" title='_TCascStorage::dwGameInfo' data-ref="_TCascStorage::dwGameInfo" >dwGameInfo</dfn>;                               <i>// Game type</i></td></tr>
<tr><th id="197">197</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascStorage::dwBuildNumber" title='_TCascStorage::dwBuildNumber' data-ref="_TCascStorage::dwBuildNumber" >dwBuildNumber</dfn>;                            <i>// Game build number</i></td></tr>
<tr><th id="198">198</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascStorage::dwFileBeginDelta" title='_TCascStorage::dwFileBeginDelta' data-ref="_TCascStorage::dwFileBeginDelta" >dwFileBeginDelta</dfn>;                         <i>// This is number of bytes to shift back from archive offset (from index entry) to actual begin of file data</i></td></tr>
<tr><th id="199">199</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascStorage::dwDefaultLocale" title='_TCascStorage::dwDefaultLocale' data-ref="_TCascStorage::dwDefaultLocale" >dwDefaultLocale</dfn>;                          <i>// Default locale, read from ".build.info"</i></td></tr>
<tr><th id="200">200</th><td>    </td></tr>
<tr><th id="201">201</th><td>    <a class="typedef" href="#CBLD_TYPE" title='CBLD_TYPE' data-type='enum _CBLD_TYPE' data-ref="CBLD_TYPE" >CBLD_TYPE</a> <dfn class="decl" id="_TCascStorage::BuildFileType" title='_TCascStorage::BuildFileType' data-ref="_TCascStorage::BuildFileType" >BuildFileType</dfn>;                        <i>// Type of the build file</i></td></tr>
<tr><th id="202">202</th><td></td></tr>
<tr><th id="203">203</th><td>    <a class="typedef" href="CascLib.h.html#QUERY_KEY" title='QUERY_KEY' data-type='struct _QUERY_KEY' data-ref="QUERY_KEY" >QUERY_KEY</a> <dfn class="decl" id="_TCascStorage::CdnConfigKey" title='_TCascStorage::CdnConfigKey' data-ref="_TCascStorage::CdnConfigKey" >CdnConfigKey</dfn>;</td></tr>
<tr><th id="204">204</th><td>    <a class="typedef" href="CascLib.h.html#QUERY_KEY" title='QUERY_KEY' data-type='struct _QUERY_KEY' data-ref="QUERY_KEY" >QUERY_KEY</a> <dfn class="decl" id="_TCascStorage::CdnBuildKey" title='_TCascStorage::CdnBuildKey' data-ref="_TCascStorage::CdnBuildKey" >CdnBuildKey</dfn>;</td></tr>
<tr><th id="205">205</th><td>    <a class="typedef" href="CascLib.h.html#QUERY_KEY" title='QUERY_KEY' data-type='struct _QUERY_KEY' data-ref="QUERY_KEY" >QUERY_KEY</a> <dfn class="decl" id="_TCascStorage::ArchivesGroup" title='_TCascStorage::ArchivesGroup' data-ref="_TCascStorage::ArchivesGroup" >ArchivesGroup</dfn>;                        <i>// Key array of the "archive-group"</i></td></tr>
<tr><th id="206">206</th><td>    <a class="typedef" href="CascLib.h.html#QUERY_KEY" title='QUERY_KEY' data-type='struct _QUERY_KEY' data-ref="QUERY_KEY" >QUERY_KEY</a> <dfn class="decl" id="_TCascStorage::ArchivesKey" title='_TCascStorage::ArchivesKey' data-ref="_TCascStorage::ArchivesKey" >ArchivesKey</dfn>;                          <i>// Key array of the "archives"</i></td></tr>
<tr><th id="207">207</th><td>    <a class="typedef" href="CascLib.h.html#QUERY_KEY" title='QUERY_KEY' data-type='struct _QUERY_KEY' data-ref="QUERY_KEY" >QUERY_KEY</a> <dfn class="decl" id="_TCascStorage::PatchArchivesKey" title='_TCascStorage::PatchArchivesKey' data-ref="_TCascStorage::PatchArchivesKey" >PatchArchivesKey</dfn>;                     <i>// Key array of the "patch-archives"</i></td></tr>
<tr><th id="208">208</th><td>    <a class="typedef" href="CascLib.h.html#QUERY_KEY" title='QUERY_KEY' data-type='struct _QUERY_KEY' data-ref="QUERY_KEY" >QUERY_KEY</a> <dfn class="decl" id="_TCascStorage::RootKey" title='_TCascStorage::RootKey' data-ref="_TCascStorage::RootKey" >RootKey</dfn>;</td></tr>
<tr><th id="209">209</th><td>    <a class="typedef" href="CascLib.h.html#QUERY_KEY" title='QUERY_KEY' data-type='struct _QUERY_KEY' data-ref="QUERY_KEY" >QUERY_KEY</a> <dfn class="decl" id="_TCascStorage::PatchKey" title='_TCascStorage::PatchKey' data-ref="_TCascStorage::PatchKey" >PatchKey</dfn>;</td></tr>
<tr><th id="210">210</th><td>    <a class="typedef" href="CascLib.h.html#QUERY_KEY" title='QUERY_KEY' data-type='struct _QUERY_KEY' data-ref="QUERY_KEY" >QUERY_KEY</a> <dfn class="decl" id="_TCascStorage::DownloadKey" title='_TCascStorage::DownloadKey' data-ref="_TCascStorage::DownloadKey" >DownloadKey</dfn>;</td></tr>
<tr><th id="211">211</th><td>    <a class="typedef" href="CascLib.h.html#QUERY_KEY" title='QUERY_KEY' data-type='struct _QUERY_KEY' data-ref="QUERY_KEY" >QUERY_KEY</a> <dfn class="decl" id="_TCascStorage::InstallKey" title='_TCascStorage::InstallKey' data-ref="_TCascStorage::InstallKey" >InstallKey</dfn>;</td></tr>
<tr><th id="212">212</th><td>    <a class="typedef" href="CascLib.h.html#QUERY_KEY" title='QUERY_KEY' data-type='struct _QUERY_KEY' data-ref="QUERY_KEY" >QUERY_KEY</a> <dfn class="decl" id="_TCascStorage::EncodingKey" title='_TCascStorage::EncodingKey' data-ref="_TCascStorage::EncodingKey" >EncodingKey</dfn>;</td></tr>
<tr><th id="213">213</th><td></td></tr>
<tr><th id="214">214</th><td>    <a class="type" href="common/FileStream.h.html#TFileStream" title='TFileStream' data-ref="TFileStream" >TFileStream</a> * <dfn class="decl" id="_TCascStorage::DataFileArray" title='_TCascStorage::DataFileArray' data-ref="_TCascStorage::DataFileArray" >DataFileArray</dfn>[<a class="macro" href="#52" title="0x100" data-ref="_M/CASC_MAX_DATA_FILES">CASC_MAX_DATA_FILES</a>]; <i>// Data file handles</i></td></tr>
<tr><th id="215">215</th><td></td></tr>
<tr><th id="216">216</th><td>    <a class="typedef" href="#CASC_MAPPING_TABLE" title='CASC_MAPPING_TABLE' data-type='struct _CASC_MAPPING_TABLE' data-ref="CASC_MAPPING_TABLE" >CASC_MAPPING_TABLE</a> <dfn class="decl" id="_TCascStorage::KeyMapping" title='_TCascStorage::KeyMapping' data-ref="_TCascStorage::KeyMapping" >KeyMapping</dfn>[<a class="macro" href="#50" title="0x10" data-ref="_M/CASC_INDEX_COUNT">CASC_INDEX_COUNT</a>]; <i>// Key mapping</i></td></tr>
<tr><th id="217">217</th><td>    <a class="typedef" href="common/Map.h.html#PCASC_MAP" title='PCASC_MAP' data-type='struct _CASC_MAP *' data-ref="PCASC_MAP" >PCASC_MAP</a> <dfn class="decl" id="_TCascStorage::pIndexEntryMap" title='_TCascStorage::pIndexEntryMap' data-ref="_TCascStorage::pIndexEntryMap" >pIndexEntryMap</dfn>;                       <i>// Map of index entries</i></td></tr>
<tr><th id="218">218</th><td></td></tr>
<tr><th id="219">219</th><td>    <a class="typedef" href="CascLib.h.html#QUERY_KEY" title='QUERY_KEY' data-type='struct _QUERY_KEY' data-ref="QUERY_KEY" >QUERY_KEY</a> <dfn class="decl" id="_TCascStorage::EncodingFile" title='_TCascStorage::EncodingFile' data-ref="_TCascStorage::EncodingFile" >EncodingFile</dfn>;                         <i>// Content of the ENCODING file</i></td></tr>
<tr><th id="220">220</th><td>    <a class="typedef" href="common/Map.h.html#PCASC_MAP" title='PCASC_MAP' data-type='struct _CASC_MAP *' data-ref="PCASC_MAP" >PCASC_MAP</a> <dfn class="decl" id="_TCascStorage::pEncodingMap" title='_TCascStorage::pEncodingMap' data-ref="_TCascStorage::pEncodingMap" >pEncodingMap</dfn>;                         <i>// Map of encoding entries</i></td></tr>
<tr><th id="221">221</th><td>    <a class="typedef" href="common/DynamicArray.h.html#DYNAMIC_ARRAY" title='DYNAMIC_ARRAY' data-type='struct _DYNAMIC_ARRAY' data-ref="DYNAMIC_ARRAY" >DYNAMIC_ARRAY</a> <dfn class="decl" id="_TCascStorage::ExtraEntries" title='_TCascStorage::ExtraEntries' data-ref="_TCascStorage::ExtraEntries" >ExtraEntries</dfn>;                     <i>// Extra encoding entries</i></td></tr>
<tr><th id="222">222</th><td></td></tr>
<tr><th id="223">223</th><td>    <a class="type" href="common/RootHandler.h.html#TRootHandler" title='TRootHandler' data-ref="TRootHandler" >TRootHandler</a> * <dfn class="decl" id="_TCascStorage::pRootHandler" title='_TCascStorage::pRootHandler' data-ref="_TCascStorage::pRootHandler" >pRootHandler</dfn>;                    <i>// Common handler for various ROOT file formats</i></td></tr>
<tr><th id="224">224</th><td></td></tr>
<tr><th id="225">225</th><td>} <dfn class="typedef" id="TCascStorage" title='TCascStorage' data-type='struct _TCascStorage' data-ref="TCascStorage" >TCascStorage</dfn>;</td></tr>
<tr><th id="226">226</th><td></td></tr>
<tr><th id="227">227</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="_TCascFile" title='_TCascFile' data-ref="_TCascFile" ><a class="type" href="#_TCascFile" title='_TCascFile' data-ref="_TCascFile" >_TCascFile</a></dfn></td></tr>
<tr><th id="228">228</th><td>{</td></tr>
<tr><th id="229">229</th><td>    <a class="typedef" href="#TCascStorage" title='TCascStorage' data-type='struct _TCascStorage' data-ref="TCascStorage" >TCascStorage</a> * <dfn class="decl" id="_TCascFile::hs" title='_TCascFile::hs' data-ref="_TCascFile::hs" >hs</dfn>;                              <i>// Pointer to storage structure</i></td></tr>
<tr><th id="230">230</th><td>    <a class="type" href="common/FileStream.h.html#TFileStream" title='TFileStream' data-ref="TFileStream" >TFileStream</a> * <dfn class="decl" id="_TCascFile::pStream" title='_TCascFile::pStream' data-ref="_TCascFile::pStream" >pStream</dfn>;                          <i>// An open data stream</i></td></tr>
<tr><th id="231">231</th><td>    <em>const</em> <em>char</em> * <dfn class="decl" id="_TCascFile::szClassName" title='_TCascFile::szClassName' data-ref="_TCascFile::szClassName" >szClassName</dfn>;                       <i>// "TCascFile"</i></td></tr>
<tr><th id="232">232</th><td>    </td></tr>
<tr><th id="233">233</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascFile::FilePointer" title='_TCascFile::FilePointer' data-ref="_TCascFile::FilePointer" >FilePointer</dfn>;                              <i>// Current file pointer</i></td></tr>
<tr><th id="234">234</th><td></td></tr>
<tr><th id="235">235</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascFile::ArchiveIndex" title='_TCascFile::ArchiveIndex' data-ref="_TCascFile::ArchiveIndex" >ArchiveIndex</dfn>;                             <i>// Index of the archive (data.###)</i></td></tr>
<tr><th id="236">236</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascFile::HeaderOffset" title='_TCascFile::HeaderOffset' data-ref="_TCascFile::HeaderOffset" >HeaderOffset</dfn>;                             <i>// Offset of the BLTE header, relative to the begin of the archive</i></td></tr>
<tr><th id="237">237</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascFile::HeaderSize" title='_TCascFile::HeaderSize' data-ref="_TCascFile::HeaderSize" >HeaderSize</dfn>;                               <i>// Length of the BLTE header</i></td></tr>
<tr><th id="238">238</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascFile::FramesOffset" title='_TCascFile::FramesOffset' data-ref="_TCascFile::FramesOffset" >FramesOffset</dfn>;                             <i>// Offset of the frame data, relative to the begin of the archive</i></td></tr>
<tr><th id="239">239</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascFile::CompressedSize" title='_TCascFile::CompressedSize' data-ref="_TCascFile::CompressedSize" >CompressedSize</dfn>;                           <i>// Compressed size of the file (in bytes)</i></td></tr>
<tr><th id="240">240</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascFile::FileSize" title='_TCascFile::FileSize' data-ref="_TCascFile::FileSize" >FileSize</dfn>;                                 <i>// Size of file, in bytes</i></td></tr>
<tr><th id="241">241</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_TCascFile::FrameArrayHash" title='_TCascFile::FrameArrayHash' data-ref="_TCascFile::FrameArrayHash" >FrameArrayHash</dfn>[<a class="macro" href="CascLib.h.html#105" title="0x10" data-ref="_M/MD5_HASH_SIZE">MD5_HASH_SIZE</a>];             <i>// MD5 hash of the frame array</i></td></tr>
<tr><th id="242">242</th><td></td></tr>
<tr><th id="243">243</th><td>    <a class="typedef" href="#PCASC_FILE_FRAME" title='PCASC_FILE_FRAME' data-type='struct _CASC_FILE_FRAME *' data-ref="PCASC_FILE_FRAME" >PCASC_FILE_FRAME</a> <dfn class="decl" id="_TCascFile::pFrames" title='_TCascFile::pFrames' data-ref="_TCascFile::pFrames" >pFrames</dfn>;                       <i>// Array of file frames</i></td></tr>
<tr><th id="244">244</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascFile::FrameCount" title='_TCascFile::FrameCount' data-ref="_TCascFile::FrameCount" >FrameCount</dfn>;                               <i>// Number of the file frames</i></td></tr>
<tr><th id="245">245</th><td></td></tr>
<tr><th id="246">246</th><td>    <a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="decl" id="_TCascFile::pbFileCache" title='_TCascFile::pbFileCache' data-ref="_TCascFile::pbFileCache" >pbFileCache</dfn>;                             <i>// Pointer to file cache</i></td></tr>
<tr><th id="247">247</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascFile::cbFileCache" title='_TCascFile::cbFileCache' data-ref="_TCascFile::cbFileCache" >cbFileCache</dfn>;                              <i>// Size of the file cache</i></td></tr>
<tr><th id="248">248</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascFile::CacheStart" title='_TCascFile::CacheStart' data-ref="_TCascFile::CacheStart" >CacheStart</dfn>;                               <i>// Starting offset in the cache</i></td></tr>
<tr><th id="249">249</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascFile::CacheEnd" title='_TCascFile::CacheEnd' data-ref="_TCascFile::CacheEnd" >CacheEnd</dfn>;                                 <i>// Ending offset in the cache</i></td></tr>
<tr><th id="250">250</th><td></td></tr>
<tr><th id="251">251</th><td><u>#<span data-ppcond="251">ifdef</span> <span class="macro" data-ref="_M/CASCLIB_TEST">CASCLIB_TEST</span>     // Extra fields for analyzing the file size problem</u></td></tr>
<tr><th id="252">252</th><td>    DWORD FileSize_RootEntry;                       <i>// File size, from the root entry</i></td></tr>
<tr><th id="253">253</th><td>    DWORD FileSize_EncEntry;                        <i>// File size, from the encoding entry</i></td></tr>
<tr><th id="254">254</th><td>    DWORD FileSize_IdxEntry;                        <i>// File size, from the index entry</i></td></tr>
<tr><th id="255">255</th><td>    DWORD FileSize_HdrArea;                         <i>// File size, as stated in the file header area</i></td></tr>
<tr><th id="256">256</th><td>    DWORD FileSize_FrameSum;                        <i>// File size as sum of frame sizes</i></td></tr>
<tr><th id="257">257</th><td><u>#<span data-ppcond="251">endif</span></u></td></tr>
<tr><th id="258">258</th><td></td></tr>
<tr><th id="259">259</th><td>} <dfn class="typedef" id="TCascFile" title='TCascFile' data-type='struct _TCascFile' data-ref="TCascFile" >TCascFile</dfn>;</td></tr>
<tr><th id="260">260</th><td></td></tr>
<tr><th id="261">261</th><td><b>typedef</b> <b>struct</b> <dfn class="type def" id="_TCascSearch" title='_TCascSearch' data-ref="_TCascSearch" ><a class="type" href="#_TCascSearch" title='_TCascSearch' data-ref="_TCascSearch" >_TCascSearch</a></dfn></td></tr>
<tr><th id="262">262</th><td>{</td></tr>
<tr><th id="263">263</th><td>    <a class="typedef" href="#TCascStorage" title='TCascStorage' data-type='struct _TCascStorage' data-ref="TCascStorage" >TCascStorage</a> * <dfn class="decl" id="_TCascSearch::hs" title='_TCascSearch::hs' data-ref="_TCascSearch::hs" >hs</dfn>;                              <i>// Pointer to the storage handle</i></td></tr>
<tr><th id="264">264</th><td>    <em>const</em> <em>char</em> * <dfn class="decl" id="_TCascSearch::szClassName" title='_TCascSearch::szClassName' data-ref="_TCascSearch::szClassName" >szClassName</dfn>;                       <i>// Contains "TCascSearch"</i></td></tr>
<tr><th id="265">265</th><td>    <a class="typedef" href="CascPort.h.html#TCHAR" title='TCHAR' data-type='char' data-ref="TCHAR" >TCHAR</a> * <dfn class="decl" id="_TCascSearch::szListFile" title='_TCascSearch::szListFile' data-ref="_TCascSearch::szListFile" >szListFile</dfn>;                             <i>// Name of the listfile</i></td></tr>
<tr><th id="266">266</th><td>    <em>void</em> * <dfn class="decl" id="_TCascSearch::pCache" title='_TCascSearch::pCache' data-ref="_TCascSearch::pCache" >pCache</dfn>;                                  <i>// Listfile cache</i></td></tr>
<tr><th id="267">267</th><td>    <em>char</em> * <dfn class="decl" id="_TCascSearch::szMask" title='_TCascSearch::szMask' data-ref="_TCascSearch::szMask" >szMask</dfn>;                                  <i>// Search mask</i></td></tr>
<tr><th id="268">268</th><td>    <em>char</em> <dfn class="decl" id="_TCascSearch::szFileName" title='_TCascSearch::szFileName' data-ref="_TCascSearch::szFileName" >szFileName</dfn>[<a class="macro" href="CascPort.h.html#160" title="1024" data-ref="_M/MAX_PATH">MAX_PATH</a>];                      <i>// Buffer for the file name</i></td></tr>
<tr><th id="269">269</th><td></td></tr>
<tr><th id="270">270</th><td>    <i>// Provider-specific data</i></td></tr>
<tr><th id="271">271</th><td>    <em>void</em> * <dfn class="decl" id="_TCascSearch::pRootContext" title='_TCascSearch::pRootContext' data-ref="_TCascSearch::pRootContext" >pRootContext</dfn>;                            <i>// Root-specific search context</i></td></tr>
<tr><th id="272">272</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" >size_t</span> <dfn class="decl" id="_TCascSearch::IndexLevel1" title='_TCascSearch::IndexLevel1' data-ref="_TCascSearch::IndexLevel1" >IndexLevel1</dfn>;                             <i>// Root-specific search context</i></td></tr>
<tr><th id="273">273</th><td>    <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" >size_t</span> <dfn class="decl" id="_TCascSearch::IndexLevel2" title='_TCascSearch::IndexLevel2' data-ref="_TCascSearch::IndexLevel2" >IndexLevel2</dfn>;                             <i>// Root-specific search context</i></td></tr>
<tr><th id="274">274</th><td>    <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="decl" id="_TCascSearch::dwState" title='_TCascSearch::dwState' data-ref="_TCascSearch::dwState" >dwState</dfn>;                                  <i>// Pointer to the search state (0 = listfile, 1 = nameless, 2 = done)</i></td></tr>
<tr><th id="275">275</th><td></td></tr>
<tr><th id="276">276</th><td>    <a class="typedef" href="CascPort.h.html#BYTE" title='BYTE' data-type='unsigned char' data-ref="BYTE" >BYTE</a> <dfn class="decl" id="_TCascSearch::BitArray" title='_TCascSearch::BitArray' data-ref="_TCascSearch::BitArray" >BitArray</dfn>[<var>1</var>];                               <i>// Bit array of encoding keys. Set for each entry that has already been reported</i></td></tr>
<tr><th id="277">277</th><td></td></tr>
<tr><th id="278">278</th><td>} <dfn class="typedef" id="TCascSearch" title='TCascSearch' data-type='struct _TCascSearch' data-ref="TCascSearch" >TCascSearch</dfn>;</td></tr>
<tr><th id="279">279</th><td></td></tr>
<tr><th id="280">280</th><td><i>//-----------------------------------------------------------------------------</i></td></tr>
<tr><th id="281">281</th><td><i>// Memory management</i></td></tr>
<tr><th id="282">282</th><td><i>//</i></td></tr>
<tr><th id="283">283</th><td><i>// We use our own macros for allocating/freeing memory. If you want</i></td></tr>
<tr><th id="284">284</th><td><i>// to redefine them, please keep the following rules:</i></td></tr>
<tr><th id="285">285</th><td><i>//</i></td></tr>
<tr><th id="286">286</th><td><i>//  - The memory allocation must return NULL if not enough memory</i></td></tr>
<tr><th id="287">287</th><td><i>//    (i.e not to throw exception)</i></td></tr>
<tr><th id="288">288</th><td><i>//  - The allocating function does not need to fill the allocated buffer with zeros</i></td></tr>
<tr><th id="289">289</th><td><i>//  - The reallocating function must support NULL as the previous block</i></td></tr>
<tr><th id="290">290</th><td><i>//  - Memory freeing function doesn't have to test the pointer to NULL</i></td></tr>
<tr><th id="291">291</th><td><i>//</i></td></tr>
<tr><th id="292">292</th><td></td></tr>
<tr><th id="293">293</th><td><u>#<span data-ppcond="293">if</span> defined(<span class="macro" data-ref="_M/_MSC_VER">_MSC_VER</span>) &amp;&amp; defined(<span class="macro" data-ref="_M/_DEBUG">_DEBUG</span>)</u></td></tr>
<tr><th id="294">294</th><td></td></tr>
<tr><th id="295">295</th><td><u>#define CASC_REALLOC(type, ptr, count) (type *)HeapReAlloc(GetProcessHeap(), 0, ptr, ((count) * sizeof(type)))</u></td></tr>
<tr><th id="296">296</th><td><u>#define CASC_ALLOC(type, count)        (type *)HeapAlloc(GetProcessHeap(), 0, ((count) * sizeof(type)))</u></td></tr>
<tr><th id="297">297</th><td><u>#define CASC_FREE(ptr)                 HeapFree(GetProcessHeap(), 0, ptr)</u></td></tr>
<tr><th id="298">298</th><td></td></tr>
<tr><th id="299">299</th><td><u>#<span data-ppcond="293">else</span></u></td></tr>
<tr><th id="300">300</th><td></td></tr>
<tr><th id="301">301</th><td><u>#define <dfn class="macro" id="_M/CASC_REALLOC" data-ref="_M/CASC_REALLOC">CASC_REALLOC</dfn>(type, ptr, count) (type *)realloc(ptr, (count) * sizeof(type))</u></td></tr>
<tr><th id="302">302</th><td><u>#define <dfn class="macro" id="_M/CASC_ALLOC" data-ref="_M/CASC_ALLOC">CASC_ALLOC</dfn>(type, count)        (type *)malloc((count) * sizeof(type))</u></td></tr>
<tr><th id="303">303</th><td><u>#define <dfn class="macro" id="_M/CASC_FREE" data-ref="_M/CASC_FREE">CASC_FREE</dfn>(ptr)                 free(ptr)</u></td></tr>
<tr><th id="304">304</th><td></td></tr>
<tr><th id="305">305</th><td><u>#<span data-ppcond="293">endif</span></u></td></tr>
<tr><th id="306">306</th><td></td></tr>
<tr><th id="307">307</th><td><i>//-----------------------------------------------------------------------------</i></td></tr>
<tr><th id="308">308</th><td><i>// Big endian number manipulation</i></td></tr>
<tr><th id="309">309</th><td></td></tr>
<tr><th id="310">310</th><td><a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <a class="decl" href="CascCommon.cpp.html#_Z23ConvertBytesToInteger_3Ph" title='ConvertBytesToInteger_3' data-ref="_Z23ConvertBytesToInteger_3Ph" id="_Z23ConvertBytesToInteger_3Ph" >ConvertBytesToInteger_3</a>(<a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="local col3 decl" id="1193ValueAsBytes" title='ValueAsBytes' data-type='LPBYTE' data-ref="1193ValueAsBytes" >ValueAsBytes</dfn>);</td></tr>
<tr><th id="311">311</th><td><a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <a class="decl" href="CascCommon.cpp.html#_Z23ConvertBytesToInteger_4Ph" title='ConvertBytesToInteger_4' data-ref="_Z23ConvertBytesToInteger_4Ph" id="_Z23ConvertBytesToInteger_4Ph" >ConvertBytesToInteger_4</a>(<a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="local col4 decl" id="1194ValueAsBytes" title='ValueAsBytes' data-type='LPBYTE' data-ref="1194ValueAsBytes" >ValueAsBytes</dfn>);</td></tr>
<tr><th id="312">312</th><td><a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <a class="decl" href="CascCommon.cpp.html#_Z26ConvertBytesToInteger_4_LEPh" title='ConvertBytesToInteger_4_LE' data-ref="_Z26ConvertBytesToInteger_4_LEPh" id="_Z26ConvertBytesToInteger_4_LEPh" >ConvertBytesToInteger_4_LE</a>(<a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="local col5 decl" id="1195ValueAsBytes" title='ValueAsBytes' data-type='LPBYTE' data-ref="1195ValueAsBytes" >ValueAsBytes</dfn>);</td></tr>
<tr><th id="313">313</th><td><a class="typedef" href="CascPort.h.html#ULONGLONG" title='ULONGLONG' data-type='unsigned long long' data-ref="ULONGLONG" >ULONGLONG</a> <a class="decl" href="CascCommon.cpp.html#_Z23ConvertBytesToInteger_5Ph" title='ConvertBytesToInteger_5' data-ref="_Z23ConvertBytesToInteger_5Ph" id="_Z23ConvertBytesToInteger_5Ph" >ConvertBytesToInteger_5</a>(<a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="local col6 decl" id="1196ValueAsBytes" title='ValueAsBytes' data-type='LPBYTE' data-ref="1196ValueAsBytes" >ValueAsBytes</dfn>);</td></tr>
<tr><th id="314">314</th><td></td></tr>
<tr><th id="315">315</th><td><em>void</em> <a class="decl" href="CascCommon.cpp.html#_Z23ConvertIntegerToBytes_4jPh" title='ConvertIntegerToBytes_4' data-ref="_Z23ConvertIntegerToBytes_4jPh" id="_Z23ConvertIntegerToBytes_4jPh" >ConvertIntegerToBytes_4</a>(<a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="local col7 decl" id="1197Value" title='Value' data-type='DWORD' data-ref="1197Value" >Value</dfn>, <a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="local col8 decl" id="1198ValueAsBytes" title='ValueAsBytes' data-type='LPBYTE' data-ref="1198ValueAsBytes" >ValueAsBytes</dfn>);</td></tr>
<tr><th id="316">316</th><td><em>void</em> <a class="decl" href="CascCommon.cpp.html#_Z12FreeCascBlobP10_QUERY_KEY" title='FreeCascBlob' data-ref="_Z12FreeCascBlobP10_QUERY_KEY" id="_Z12FreeCascBlobP10_QUERY_KEY" >FreeCascBlob</a>(<a class="typedef" href="CascLib.h.html#PQUERY_KEY" title='PQUERY_KEY' data-type='struct _QUERY_KEY *' data-ref="PQUERY_KEY" >PQUERY_KEY</a> <dfn class="local col9 decl" id="1199pQueryKey" title='pQueryKey' data-type='PQUERY_KEY' data-ref="1199pQueryKey" >pQueryKey</dfn>);</td></tr>
<tr><th id="317">317</th><td></td></tr>
<tr><th id="318">318</th><td><i>//-----------------------------------------------------------------------------</i></td></tr>
<tr><th id="319">319</th><td><i>// Text file parsing (CascFiles.cpp)</i></td></tr>
<tr><th id="320">320</th><td></td></tr>
<tr><th id="321">321</th><td><em>int</em> <dfn class="decl" id="_Z13LoadBuildInfoP13_TCascStorage" title='LoadBuildInfo' data-ref="_Z13LoadBuildInfoP13_TCascStorage" >LoadBuildInfo</dfn>(<a class="typedef" href="#TCascStorage" title='TCascStorage' data-type='struct _TCascStorage' data-ref="TCascStorage" >TCascStorage</a> * <dfn class="local col0 decl" id="1200hs" title='hs' data-type='TCascStorage *' data-ref="1200hs" >hs</dfn>);</td></tr>
<tr><th id="322">322</th><td><em>int</em> <dfn class="decl" id="_Z18CheckGameDirectoryP13_TCascStoragePc" title='CheckGameDirectory' data-ref="_Z18CheckGameDirectoryP13_TCascStoragePc" >CheckGameDirectory</dfn>(<a class="typedef" href="#TCascStorage" title='TCascStorage' data-type='struct _TCascStorage' data-ref="TCascStorage" >TCascStorage</a> * <dfn class="local col1 decl" id="1201hs" title='hs' data-type='TCascStorage *' data-ref="1201hs" >hs</dfn>, <a class="typedef" href="CascPort.h.html#TCHAR" title='TCHAR' data-type='char' data-ref="TCHAR" >TCHAR</a> * <dfn class="local col2 decl" id="1202szDirectory" title='szDirectory' data-type='TCHAR *' data-ref="1202szDirectory" >szDirectory</dfn>);</td></tr>
<tr><th id="323">323</th><td><em>int</em> <dfn class="decl" id="_Z17ParseRootFileLinePKcS0_P10_QUERY_KEYPcm" title='ParseRootFileLine' data-ref="_Z17ParseRootFileLinePKcS0_P10_QUERY_KEYPcm" >ParseRootFileLine</dfn>(<em>const</em> <em>char</em> * <dfn class="local col3 decl" id="1203szLinePtr" title='szLinePtr' data-type='const char *' data-ref="1203szLinePtr" >szLinePtr</dfn>, <em>const</em> <em>char</em> * <dfn class="local col4 decl" id="1204szLineEnd" title='szLineEnd' data-type='const char *' data-ref="1204szLineEnd" >szLineEnd</dfn>, <a class="typedef" href="CascLib.h.html#PQUERY_KEY" title='PQUERY_KEY' data-type='struct _QUERY_KEY *' data-ref="PQUERY_KEY" >PQUERY_KEY</a> <dfn class="local col5 decl" id="1205pEncodingKey" title='pEncodingKey' data-type='PQUERY_KEY' data-ref="1205pEncodingKey" >pEncodingKey</dfn>, <em>char</em> * <dfn class="local col6 decl" id="1206szFileName" title='szFileName' data-type='char *' data-ref="1206szFileName" >szFileName</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" >size_t</span> <dfn class="local col7 decl" id="1207nMaxChars" title='nMaxChars' data-type='size_t' data-ref="1207nMaxChars" >nMaxChars</dfn>);</td></tr>
<tr><th id="324">324</th><td></td></tr>
<tr><th id="325">325</th><td><i>//-----------------------------------------------------------------------------</i></td></tr>
<tr><th id="326">326</th><td><i>// Internal file functions</i></td></tr>
<tr><th id="327">327</th><td></td></tr>
<tr><th id="328">328</th><td><a class="typedef" href="#TCascStorage" title='TCascStorage' data-type='struct _TCascStorage' data-ref="TCascStorage" >TCascStorage</a> * <dfn class="decl" id="_Z20IsValidStorageHandlePv" title='IsValidStorageHandle' data-ref="_Z20IsValidStorageHandlePv" >IsValidStorageHandle</dfn>(<a class="typedef" href="CascPort.h.html#HANDLE" title='HANDLE' data-type='void *' data-ref="HANDLE" >HANDLE</a> <dfn class="local col8 decl" id="1208hStorage" title='hStorage' data-type='HANDLE' data-ref="1208hStorage" >hStorage</dfn>);</td></tr>
<tr><th id="329">329</th><td><a class="typedef" href="#TCascFile" title='TCascFile' data-type='struct _TCascFile' data-ref="TCascFile" >TCascFile</a> * <dfn class="decl" id="_Z17IsValidFileHandlePv" title='IsValidFileHandle' data-ref="_Z17IsValidFileHandlePv" >IsValidFileHandle</dfn>(<a class="typedef" href="CascPort.h.html#HANDLE" title='HANDLE' data-type='void *' data-ref="HANDLE" >HANDLE</a> <dfn class="local col9 decl" id="1209hFile" title='hFile' data-type='HANDLE' data-ref="1209hFile" >hFile</dfn>);</td></tr>
<tr><th id="330">330</th><td></td></tr>
<tr><th id="331">331</th><td><a class="typedef" href="#PCASC_ENCODING_ENTRY" title='PCASC_ENCODING_ENTRY' data-type='struct _CASC_ENCODING_ENTRY *' data-ref="PCASC_ENCODING_ENTRY" >PCASC_ENCODING_ENTRY</a> <dfn class="decl" id="_Z17FindEncodingEntryP13_TCascStorageP10_QUERY_KEYPj" title='FindEncodingEntry' data-ref="_Z17FindEncodingEntryP13_TCascStorageP10_QUERY_KEYPj" >FindEncodingEntry</dfn>(<a class="typedef" href="#TCascStorage" title='TCascStorage' data-type='struct _TCascStorage' data-ref="TCascStorage" >TCascStorage</a> * <dfn class="local col0 decl" id="1210hs" title='hs' data-type='TCascStorage *' data-ref="1210hs" >hs</dfn>, <a class="typedef" href="CascLib.h.html#PQUERY_KEY" title='PQUERY_KEY' data-type='struct _QUERY_KEY *' data-ref="PQUERY_KEY" >PQUERY_KEY</a> <dfn class="local col1 decl" id="1211pEncodingKey" title='pEncodingKey' data-type='PQUERY_KEY' data-ref="1211pEncodingKey" >pEncodingKey</dfn>, <a class="typedef" href="CascPort.h.html#PDWORD" title='PDWORD' data-type='DWORD *' data-ref="PDWORD" >PDWORD</a> <dfn class="local col2 decl" id="1212PtrIndex" title='PtrIndex' data-type='PDWORD' data-ref="1212PtrIndex" >PtrIndex</dfn>);</td></tr>
<tr><th id="332">332</th><td><a class="typedef" href="#PCASC_INDEX_ENTRY" title='PCASC_INDEX_ENTRY' data-type='struct _CASC_INDEX_ENTRY *' data-ref="PCASC_INDEX_ENTRY" >PCASC_INDEX_ENTRY</a>    <dfn class="decl" id="_Z14FindIndexEntryP13_TCascStorageP10_QUERY_KEY" title='FindIndexEntry' data-ref="_Z14FindIndexEntryP13_TCascStorageP10_QUERY_KEY" >FindIndexEntry</dfn>(<a class="typedef" href="#TCascStorage" title='TCascStorage' data-type='struct _TCascStorage' data-ref="TCascStorage" >TCascStorage</a> * <dfn class="local col3 decl" id="1213hs" title='hs' data-type='TCascStorage *' data-ref="1213hs" >hs</dfn>, <a class="typedef" href="CascLib.h.html#PQUERY_KEY" title='PQUERY_KEY' data-type='struct _QUERY_KEY *' data-ref="PQUERY_KEY" >PQUERY_KEY</a> <dfn class="local col4 decl" id="1214pIndexKey" title='pIndexKey' data-type='PQUERY_KEY' data-ref="1214pIndexKey" >pIndexKey</dfn>);</td></tr>
<tr><th id="333">333</th><td></td></tr>
<tr><th id="334">334</th><td><em>int</em> <dfn class="decl" id="_Z14CascDecompressPhPjS_j" title='CascDecompress' data-ref="_Z14CascDecompressPhPjS_j" >CascDecompress</dfn>(<a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="local col5 decl" id="1215pvOutBuffer" title='pvOutBuffer' data-type='LPBYTE' data-ref="1215pvOutBuffer" >pvOutBuffer</dfn>, <a class="typedef" href="CascPort.h.html#PDWORD" title='PDWORD' data-type='DWORD *' data-ref="PDWORD" >PDWORD</a> <dfn class="local col6 decl" id="1216pcbOutBuffer" title='pcbOutBuffer' data-type='PDWORD' data-ref="1216pcbOutBuffer" >pcbOutBuffer</dfn>, <a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="local col7 decl" id="1217pvInBuffer" title='pvInBuffer' data-type='LPBYTE' data-ref="1217pvInBuffer" >pvInBuffer</dfn>, <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="local col8 decl" id="1218cbInBuffer" title='cbInBuffer' data-type='DWORD' data-ref="1218cbInBuffer" >cbInBuffer</dfn>);</td></tr>
<tr><th id="335">335</th><td><em>int</em> <dfn class="decl" id="_Z11CascDecryptPhPjS_jj" title='CascDecrypt' data-ref="_Z11CascDecryptPhPjS_jj" >CascDecrypt</dfn>   (<a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="local col9 decl" id="1219pbOutBuffer" title='pbOutBuffer' data-type='LPBYTE' data-ref="1219pbOutBuffer" >pbOutBuffer</dfn>, <a class="typedef" href="CascPort.h.html#PDWORD" title='PDWORD' data-type='DWORD *' data-ref="PDWORD" >PDWORD</a> <dfn class="local col0 decl" id="1220pcbOutBuffer" title='pcbOutBuffer' data-type='PDWORD' data-ref="1220pcbOutBuffer" >pcbOutBuffer</dfn>, <a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="local col1 decl" id="1221pbInBuffer" title='pbInBuffer' data-type='LPBYTE' data-ref="1221pbInBuffer" >pbInBuffer</dfn>, <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="local col2 decl" id="1222cbInBuffer" title='cbInBuffer' data-type='DWORD' data-ref="1222cbInBuffer" >cbInBuffer</dfn>, <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="local col3 decl" id="1223dwFrameIndex" title='dwFrameIndex' data-type='DWORD' data-ref="1223dwFrameIndex" >dwFrameIndex</dfn>);</td></tr>
<tr><th id="336">336</th><td><em>int</em> <dfn class="decl" id="_Z14CascDirectCopyPhPjS_j" title='CascDirectCopy' data-ref="_Z14CascDirectCopyPhPjS_j" >CascDirectCopy</dfn>(<a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="local col4 decl" id="1224pbOutBuffer" title='pbOutBuffer' data-type='LPBYTE' data-ref="1224pbOutBuffer" >pbOutBuffer</dfn>, <a class="typedef" href="CascPort.h.html#PDWORD" title='PDWORD' data-type='DWORD *' data-ref="PDWORD" >PDWORD</a> <dfn class="local col5 decl" id="1225pcbOutBuffer" title='pcbOutBuffer' data-type='PDWORD' data-ref="1225pcbOutBuffer" >pcbOutBuffer</dfn>, <a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="local col6 decl" id="1226pbInBuffer" title='pbInBuffer' data-type='LPBYTE' data-ref="1226pbInBuffer" >pbInBuffer</dfn>, <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="local col7 decl" id="1227cbInBuffer" title='cbInBuffer' data-type='DWORD' data-ref="1227cbInBuffer" >cbInBuffer</dfn>);</td></tr>
<tr><th id="337">337</th><td></td></tr>
<tr><th id="338">338</th><td><i>//-----------------------------------------------------------------------------</i></td></tr>
<tr><th id="339">339</th><td><i>// Support for ROOT file</i></td></tr>
<tr><th id="340">340</th><td></td></tr>
<tr><th id="341">341</th><td><em>int</em> <dfn class="decl" id="_Z22RootHandler_CreateMNDXP13_TCascStoragePhj" title='RootHandler_CreateMNDX' data-ref="_Z22RootHandler_CreateMNDXP13_TCascStoragePhj" >RootHandler_CreateMNDX</dfn>(<a class="typedef" href="#TCascStorage" title='TCascStorage' data-type='struct _TCascStorage' data-ref="TCascStorage" >TCascStorage</a> * <dfn class="local col8 decl" id="1228hs" title='hs' data-type='TCascStorage *' data-ref="1228hs" >hs</dfn>, <a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="local col9 decl" id="1229pbRootFile" title='pbRootFile' data-type='LPBYTE' data-ref="1229pbRootFile" >pbRootFile</dfn>, <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="local col0 decl" id="1230cbRootFile" title='cbRootFile' data-type='DWORD' data-ref="1230cbRootFile" >cbRootFile</dfn>);</td></tr>
<tr><th id="342">342</th><td><em>int</em> <dfn class="decl" id="_Z25RootHandler_CreateDiablo3P13_TCascStoragePhj" title='RootHandler_CreateDiablo3' data-ref="_Z25RootHandler_CreateDiablo3P13_TCascStoragePhj" >RootHandler_CreateDiablo3</dfn>(<a class="typedef" href="#TCascStorage" title='TCascStorage' data-type='struct _TCascStorage' data-ref="TCascStorage" >TCascStorage</a> * <dfn class="local col1 decl" id="1231hs" title='hs' data-type='TCascStorage *' data-ref="1231hs" >hs</dfn>, <a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="local col2 decl" id="1232pbRootFile" title='pbRootFile' data-type='LPBYTE' data-ref="1232pbRootFile" >pbRootFile</dfn>, <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="local col3 decl" id="1233cbRootFile" title='cbRootFile' data-type='DWORD' data-ref="1233cbRootFile" >cbRootFile</dfn>);</td></tr>
<tr><th id="343">343</th><td><em>int</em> <dfn class="decl" id="_Z27RootHandler_CreateOverwatchP13_TCascStoragePhj" title='RootHandler_CreateOverwatch' data-ref="_Z27RootHandler_CreateOverwatchP13_TCascStoragePhj" >RootHandler_CreateOverwatch</dfn>(<a class="typedef" href="#TCascStorage" title='TCascStorage' data-type='struct _TCascStorage' data-ref="TCascStorage" >TCascStorage</a> * <dfn class="local col4 decl" id="1234hs" title='hs' data-type='TCascStorage *' data-ref="1234hs" >hs</dfn>, <a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="local col5 decl" id="1235pbRootFile" title='pbRootFile' data-type='LPBYTE' data-ref="1235pbRootFile" >pbRootFile</dfn>, <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="local col6 decl" id="1236cbRootFile" title='cbRootFile' data-type='DWORD' data-ref="1236cbRootFile" >cbRootFile</dfn>);</td></tr>
<tr><th id="344">344</th><td><em>int</em> <dfn class="decl" id="_Z22RootHandler_CreateWoW6P13_TCascStoragePhjj" title='RootHandler_CreateWoW6' data-ref="_Z22RootHandler_CreateWoW6P13_TCascStoragePhjj" >RootHandler_CreateWoW6</dfn>(<a class="typedef" href="#TCascStorage" title='TCascStorage' data-type='struct _TCascStorage' data-ref="TCascStorage" >TCascStorage</a> * <dfn class="local col7 decl" id="1237hs" title='hs' data-type='TCascStorage *' data-ref="1237hs" >hs</dfn>, <a class="typedef" href="CascPort.h.html#LPBYTE" title='LPBYTE' data-type='BYTE *' data-ref="LPBYTE" >LPBYTE</a> <dfn class="local col8 decl" id="1238pbRootFile" title='pbRootFile' data-type='LPBYTE' data-ref="1238pbRootFile" >pbRootFile</dfn>, <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="local col9 decl" id="1239cbRootFile" title='cbRootFile' data-type='DWORD' data-ref="1239cbRootFile" >cbRootFile</dfn>, <a class="typedef" href="CascPort.h.html#DWORD" title='DWORD' data-type='unsigned int' data-ref="DWORD" >DWORD</a> <dfn class="local col0 decl" id="1240dwLocaleMask" title='dwLocaleMask' data-type='DWORD' data-ref="1240dwLocaleMask" >dwLocaleMask</dfn>);</td></tr>
<tr><th id="345">345</th><td></td></tr>
<tr><th id="346">346</th><td><i>//-----------------------------------------------------------------------------</i></td></tr>
<tr><th id="347">347</th><td><i>// Dumping CASC data structures</i></td></tr>
<tr><th id="348">348</th><td></td></tr>
<tr><th id="349">349</th><td><u>#<span data-ppcond="349">ifdef</span> <span class="macro" data-ref="_M/_DEBUG">_DEBUG</span></u></td></tr>
<tr><th id="350">350</th><td><em>void</em> CascDumpSparseArray(<em>const</em> <em>char</em> * szFileName, <em>void</em> * pvSparseArray);</td></tr>
<tr><th id="351">351</th><td><em>void</em> CascDumpNameFragTable(<em>const</em> <em>char</em> * szFileName, <em>void</em> * pvMarFile);</td></tr>
<tr><th id="352">352</th><td><em>void</em> CascDumpFileNames(<em>const</em> <em>char</em> * szFileName, <em>void</em> * pvMarFile);</td></tr>
<tr><th id="353">353</th><td><em>void</em> CascDumpIndexEntries(<em>const</em> <em>char</em> * szFileName, TCascStorage * hs);</td></tr>
<tr><th id="354">354</th><td><em>void</em> CascDumpEncodingEntry(TCascStorage * hs, TDumpContext * dc, PCASC_ENCODING_ENTRY pEncodingEntry, <em>int</em> nDumpLevel);</td></tr>
<tr><th id="355">355</th><td><em>void</em> CascDumpFile(<em>const</em> <em>char</em> * szFileName, HANDLE hFile);</td></tr>
<tr><th id="356">356</th><td><u>#<span data-ppcond="349">endif</span>  // _DEBUG</u></td></tr>
<tr><th id="357">357</th><td></td></tr>
<tr><th id="358">358</th><td><u>#<span data-ppcond="11">endif</span> // __CASCCOMMON_H__</u></td></tr>
<tr><th id="359">359</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='CascCommon.cpp.html'>TrinityCore6.x/dep/CascLib/src/CascCommon.cpp</a><br/>Generated on <em>2016-Mar-09</em> from project TrinityCore6.x revision <em>6.x</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 1.8
</p>
</div></body></html>
